import{a as E}from"./chunk-TZ2TD7JQ.js";import{Aa as S,C as n,Ga as G,Ha as T,I as l,J as x,N as d,P as b,Q as c,R as o,S as a,T as m,Y as C,Z as f,_ as p,da as h,fa as s,ga as v,ha as y,pa as I,qa as O,ra as M,s as _,sa as P,t as u,va as k,ya as w}from"./chunk-LTTPAGT2.js";function F(i,t){i&1&&(o(0,"div"),s(1,"Loading..."),a())}function N(i,t){if(i&1&&(o(0,"div",17),s(1),a()),i&2){let e=p().$implicit;n(),v(e.description)}}function H(i,t){if(i&1){let e=C();o(0,"article",8)(1,"header",9)(2,"div",10),s(3),a(),o(4,"div",11)(5,"span",12),s(6),a(),o(7,"button",13),f("click",function(g){let $=_(e).$implicit,j=p(2);return g.stopPropagation(),u(j.toggleItemActive($))}),m(8,"i",14),a()()(),o(9,"div",15),d(10,N,2,1,"div",16),a()()}if(i&2){let e=t.$implicit;n(3),v(e.name||e.label||e.title||e),n(2),h("active",e.is_active===1)("inactive",e.is_active!==1),n(),y(" ",e.is_active===1?"Active":"Inactive"," "),n(),b("aria-pressed",e.is_active===1),n(),c("ngClass",e.is_active===1?"fa-toggle-on":"fa-toggle-off"),n(2),c("ngIf",e.description)}}function B(i,t){if(i&1&&(o(0,"div",6),d(1,H,11,9,"article",7),a()),i&2){let e=p();n(),c("ngForOf",e.items)}}function z(i,t){i&1&&(o(0,"div"),s(1,"No items"),a())}var A=class i{constructor(t,e,r,g){this.http=t;this.auth=e;this.router=r;this.toast=g}items=[];loading=!1;ngOnInit(){this.load()}goBack(){try{this.router.navigate(["/settings"])}catch{history.back()}}load(){this.loading=!0;let t=`${G.apiBase.replace(/\/$/,"")}/gender`;this.http.get(t,{headers:this.auth.authHeaders()}).subscribe({next:e=>{this.items=e?.data??e,this.loading=!1},error:e=>{this.loading=!1,this.toast.show("Failed to load Gender","error")}})}toggleItemActive(t){t&&(t.is_active=t.is_active===1?0:1,this.toast.show(`${t.name||t.label||t.title||"item"} set to ${t.is_active===1?"Active":"Inactive"}`,"info"))}static \u0275fac=function(e){return new(e||i)(l(k),l(T),l(S),l(E))};static \u0275cmp=x({type:i,selectors:[["app-settings-gender"]],decls:10,vars:3,consts:[[1,"settings-page"],[1,"d-flex","space-between"],[1,"settings-back",3,"click"],[1,"fa-solid","fa-arrow-left"],[4,"ngIf"],["class","settings-grid",4,"ngIf"],[1,"settings-grid"],["class","settings-card",4,"ngFor","ngForOf"],[1,"settings-card"],[1,"sc-header"],[1,"sc-title"],[1,"sc-sno"],[1,"status-badge"],["aria-label","Toggle active",1,"card-toggle",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"sc-body"],["class","sc-row",4,"ngIf"],[1,"sc-row"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Gender"),a(),o(4,"button",2),f("click",function(){return r.goBack()}),m(5,"i",3),s(6," Back"),a()(),d(7,F,2,0,"div",4)(8,B,2,1,"div",5)(9,z,2,0,"div",4),a()),e&2&&(n(7),c("ngIf",r.loading),n(),c("ngIf",r.items==null?null:r.items.length),n(),c("ngIf",!(r.items!=null&&r.items.length)&&!r.loading))},dependencies:[P,I,O,M,w],styles:[".page[_ngcontent-%COMP%]{padding:12px}",".d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.settings-page[_ngcontent-%COMP%]{padding:12px}.settings-back[_ngcontent-%COMP%]{background:none;border:0;color:var(--primary, #0b5cff);margin-bottom:8px;padding:6px 0}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:8px}.settings-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #eee;border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:8px}.sc-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sc-title[_ngcontent-%COMP%]{font-weight:700}.sc-sno[_ngcontent-%COMP%]{color:#777;font-size:.9rem;display:flex;align-items:flex-start;gap:8px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:600;font-size:.85rem}.status-badge.active[_ngcontent-%COMP%]{background:#28a745;color:#fff}.status-badge.inactive[_ngcontent-%COMP%]{background:#f0f0f0;color:#666}.card-toggle[_ngcontent-%COMP%]{margin-left:8px;background:transparent;color:var(--primary, #0b5cff);padding:4px 6px;border-radius:6px;border:1px solid rgba(11,92,255,.12)}.sc-body[_ngcontent-%COMP%]{font-size:.95rem}.sc-row[_ngcontent-%COMP%]{margin:6px 0}.btn[_ngcontent-%COMP%]{background:var(--primary, #0b5cff);color:#fff;border:0;padding:6px 10px;border-radius:6px;cursor:pointer}"]})};export{A as GenderComponent};
