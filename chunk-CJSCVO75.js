import{a as E}from"./chunk-MCIECZWD.js";import{$ as g,H as n,Ha as P,Ia as I,Ja as O,Na as M,O as l,P as x,Ra as k,T as p,Ua as w,X as y,Xa as S,Y as c,Z as o,_ as a,bb as L,ca as b,da as v,db as T,ea as d,ka as C,ma as s,na as f,oa as h,u,v as _}from"./chunk-S2IJ6GTA.js";function F(i,e){i&1&&(o(0,"div"),s(1,"Loading..."),a())}function N(i,e){if(i&1&&(o(0,"div",17),s(1),a()),i&2){let t=d().$implicit;n(),f(t.description)}}function H(i,e){if(i&1){let t=b();o(0,"article",8)(1,"header",9)(2,"div",10),s(3),a(),o(4,"div",11)(5,"span",12),s(6),a(),o(7,"button",13),v("click",function(m){let $=u(t).$implicit,j=d(2);return m.stopPropagation(),_(j.toggleItemActive($))}),g(8,"i",14),a()()(),o(9,"div",15),p(10,N,2,1,"div",16),a()()}if(i&2){let t=e.$implicit;n(3),f(t.name||t.title||t),n(2),C("active",t.is_active===1)("inactive",t.is_active!==1),n(),h(" ",t.is_active===1?"Active":"Inactive"," "),n(),y("aria-pressed",t.is_active===1),n(),c("ngClass",t.is_active===1?"fa-toggle-on":"fa-toggle-off"),n(2),c("ngIf",t.description)}}function B(i,e){if(i&1&&(o(0,"div",6),p(1,H,11,9,"article",7),a()),i&2){let t=d();n(),c("ngForOf",t.items)}}function z(i,e){i&1&&(o(0,"div"),s(1,"No items"),a())}var A=class i{constructor(e,t,r,m){this.http=e;this.auth=t;this.router=r;this.toast=m}items=[];loading=!1;ngOnInit(){this.load()}goBack(){try{this.router.navigate(["/settings"])}catch{history.back()}}load(){this.loading=!0;let e=`${L.apiBase.replace(/\/$/,"")}/payment_list`;this.http.get(e,{headers:this.auth.authHeaders()}).subscribe({next:t=>{this.items=t?.data??t,this.loading=!1},error:t=>{this.loading=!1,this.toast.show("Failed to load Payment List","error")}})}toggleItemActive(e){e&&(e.is_active=e.is_active===1?0:1,this.toast.show(`${e.name||e.title||"item"} set to ${e.is_active===1?"Active":"Inactive"}`,"info"))}static \u0275fac=function(t){return new(t||i)(l(k),l(T),l(S),l(E))};static \u0275cmp=x({type:i,selectors:[["app-settings-payment-list"]],decls:10,vars:3,consts:[[1,"settings-page"],[1,"d-flex","space-between"],[1,"settings-back",3,"click"],[1,"fa-solid","fa-arrow-left"],[4,"ngIf"],["class","settings-grid",4,"ngIf"],[1,"settings-grid"],["class","settings-card",4,"ngFor","ngForOf"],[1,"settings-card"],[1,"sc-header"],[1,"sc-title"],[1,"sc-sno"],[1,"status-badge"],["aria-label","Toggle active",1,"card-toggle",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"sc-body"],["class","sc-row",4,"ngIf"],[1,"sc-row"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Payment List"),a(),o(4,"button",2),v("click",function(){return r.goBack()}),g(5,"i",3),s(6," Back"),a()(),p(7,F,2,0,"div",4)(8,B,2,1,"div",5)(9,z,2,0,"div",4),a()),t&2&&(n(7),c("ngIf",r.loading),n(),c("ngIf",r.items==null?null:r.items.length),n(),c("ngIf",!(r.items!=null&&r.items.length)&&!r.loading))},dependencies:[M,P,I,O,w],styles:[".page[_ngcontent-%COMP%]{padding:12px}",".d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.settings-back[_ngcontent-%COMP%]{background:none;border:0;color:var(--color-primary-bg);margin-bottom:8px;padding:6px 0}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:8px}.settings-card[_ngcontent-%COMP%]{background:var(--color-neutral-100);border:1px solid var(--color-neutral-400);border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:8px}.sc-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sc-title[_ngcontent-%COMP%]{font-weight:700}.sc-sno[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.9rem;display:flex;align-items:flex-start;gap:8px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:600;font-size:.85rem}.status-badge.active[_ngcontent-%COMP%]{background:var(--color-secondary-bg);color:var(--color-secondary-text)}.status-badge.inactive[_ngcontent-%COMP%]{background:var(--color-neutral-300);color:var(--color-neutral-600)}.card-toggle[_ngcontent-%COMP%]{margin-left:8px;background:transparent;color:var(--color-primary-bg);padding:4px 6px;border-radius:6px;border:1px solid var(--color-primary-border)}.sc-body[_ngcontent-%COMP%]{font-size:.95rem}.sc-row[_ngcontent-%COMP%]{margin:6px 0}.btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);border:0;padding:6px 10px;border-radius:6px;cursor:pointer}"]})};export{A as PaymentListComponent};
