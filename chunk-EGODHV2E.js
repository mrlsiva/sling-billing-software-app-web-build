import{a as G}from"./chunk-MCIECZWD.js";import{$ as m,H as n,Ha as I,Ia as M,Ja as O,Na as P,O as l,P as x,Ra as k,T as d,Ua as S,X as b,Xa as w,Y as c,Z as o,_ as r,bb as T,ca as C,da as v,db as E,ea as p,ka as y,ma as s,na as f,oa as h,u as _,v as u}from"./chunk-S2IJ6GTA.js";function j(i,t){i&1&&(o(0,"div"),s(1,"Loading..."),r())}function $(i,t){if(i&1&&(o(0,"div",17),s(1),r()),i&2){let e=p().$implicit;n(),f(e.description)}}function H(i,t){if(i&1){let e=C();o(0,"article",8)(1,"header",9)(2,"div",10),s(3),r(),o(4,"div",11)(5,"span",12),s(6),r(),o(7,"button",13),v("click",function(g){let A=_(e).$implicit,F=p(2);return g.stopPropagation(),u(F.toggleItemActive(A))}),m(8,"i",14),r()()(),o(9,"div",15),d(10,$,2,1,"div",16),r()()}if(i&2){let e=t.$implicit;n(3),f(e.name||e.label||e.title||e),n(2),y("active",e.is_active===1)("inactive",e.is_active!==1),n(),h(" ",e.is_active===1?"Active":"Inactive"," "),n(),b("aria-pressed",e.is_active===1),n(),c("ngClass",e.is_active===1?"fa-toggle-on":"fa-toggle-off"),n(2),c("ngIf",e.description)}}function B(i,t){if(i&1&&(o(0,"div",6),d(1,H,11,9,"article",7),r()),i&2){let e=p();n(),c("ngForOf",e.items)}}function z(i,t){i&1&&(o(0,"div"),s(1,"No items"),r())}var N=class i{constructor(t,e,a,g){this.http=t;this.auth=e;this.router=a;this.toast=g}items=[];loading=!1;ngOnInit(){this.load()}goBack(){try{this.router.navigate(["/settings"])}catch{history.back()}}load(){this.loading=!0;let t=`${T.apiBase}/genders`;this.http.get(t,{headers:this.auth.authHeaders()}).subscribe({next:e=>{this.items=e?.data??e,this.loading=!1},error:e=>{this.loading=!1,this.items=[{id:1,name:"Male",description:"Male gender option",is_active:1},{id:2,name:"Female",description:"Female gender option",is_active:1},{id:3,name:"Non-binary",description:"Non-binary gender option",is_active:1},{id:4,name:"Prefer not to say",description:"Prefer not to specify",is_active:1}]}})}toggleItemActive(t){t&&(t.is_active=t.is_active===1?0:1,this.toast.show(`${t.name||t.label||t.title||"item"} set to ${t.is_active===1?"Active":"Inactive"}`,"info"))}static \u0275fac=function(e){return new(e||i)(l(k),l(E),l(w),l(G))};static \u0275cmp=x({type:i,selectors:[["app-settings-gender"]],decls:10,vars:3,consts:[[1,"settings-page"],[1,"d-flex","space-between"],[1,"settings-back",3,"click"],[1,"fa-solid","fa-arrow-left"],[4,"ngIf"],["class","settings-grid",4,"ngIf"],[1,"settings-grid"],["class","settings-card",4,"ngFor","ngForOf"],[1,"settings-card"],[1,"sc-header"],[1,"sc-title"],[1,"sc-sno"],[1,"status-badge"],["aria-label","Toggle active",1,"card-toggle",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"sc-body"],["class","sc-row",4,"ngIf"],[1,"sc-row"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3,"Gender"),r(),o(4,"button",2),v("click",function(){return a.goBack()}),m(5,"i",3),s(6," Back"),r()(),d(7,j,2,0,"div",4)(8,B,2,1,"div",5)(9,z,2,0,"div",4),r()),e&2&&(n(7),c("ngIf",a.loading),n(),c("ngIf",a.items==null?null:a.items.length),n(),c("ngIf",!(a.items!=null&&a.items.length)&&!a.loading))},dependencies:[P,I,M,O,S],styles:[".page[_ngcontent-%COMP%]{padding:12px}",".d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.settings-back[_ngcontent-%COMP%]{background:none;border:0;color:var(--color-primary-bg);margin-bottom:8px;padding:6px 0}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:8px}.settings-card[_ngcontent-%COMP%]{background:var(--color-neutral-100);border:1px solid var(--color-neutral-400);border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:8px}.sc-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sc-title[_ngcontent-%COMP%]{font-weight:700}.sc-sno[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.9rem;display:flex;align-items:flex-start;gap:8px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:600;font-size:.85rem}.status-badge.active[_ngcontent-%COMP%]{background:var(--color-secondary-bg);color:var(--color-secondary-text)}.status-badge.inactive[_ngcontent-%COMP%]{background:var(--color-neutral-300);color:var(--color-neutral-600)}.card-toggle[_ngcontent-%COMP%]{margin-left:8px;background:transparent;color:var(--color-primary-bg);padding:4px 6px;border-radius:6px;border:1px solid var(--color-primary-border)}.sc-body[_ngcontent-%COMP%]{font-size:.95rem}.sc-row[_ngcontent-%COMP%]{margin:6px 0}.btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);border:0;padding:6px 10px;border-radius:6px;cursor:pointer}"]})};export{N as GenderComponent};
