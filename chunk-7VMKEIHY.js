import{b as U,d as A,e as j,f as B,g as $,h as H,l as W,m as Y,n as q,q as G,t as J}from"./chunk-OZM46LO3.js";import{$ as g,F as C,H as r,Ha as V,Ia as D,Ja as N,Na as F,O as S,P as I,Ra as z,T as f,Ua as L,X as O,Xa as R,Y as d,Z as n,_ as o,bb as v,ca as x,d as k,da as m,db as K,ea as c,ka as T,ma as l,na as _,oa as h,qa as E,sa as P,ta as w,u,ua as M,v as p}from"./chunk-S2IJ6GTA.js";function X(s,a){if(s&1){let e=x();n(0,"button",23),m("click",function(){u(e);let t=c(2);return p(t.clearSearch())}),g(1,"i",24),o()}}function Z(s,a){if(s&1){let e=x();n(0,"div",17)(1,"div",18)(2,"div",19),g(3,"i",20),n(4,"input",21),M("ngModelChange",function(t){u(e);let b=c();return w(b.searchTerm,t)||(b.searchTerm=t),p(t)}),m("input",function(){u(e);let t=c();return p(t.onSearchChange())}),o(),f(5,X,2,0,"button",22),o()()()}if(s&2){let e=c();r(4),P("ngModel",e.searchTerm),r(),d("ngIf",e.searchTerm)}}function ee(s,a){if(s&1&&(n(0,"div",25),g(1,"i",26),n(2,"span"),l(3),o()()),s&2){let e=c();r(3),_(e.error)}}function te(s,a){s&1&&(n(0,"div",27),g(1,"i",28),n(2,"p"),l(3,"Loading subcategories..."),o()())}function ie(s,a){if(s&1){let e=x();n(0,"div",31),m("click",function(){let t=u(e).$implicit,b=c(2);return p(b.openSubcategoryDetails(t.id))}),n(1,"div",32),g(2,"img",33),o(),n(3,"div",34)(4,"h3",35),l(5),o(),n(6,"div",36)(7,"div",37)(8,"span",38),g(9,"i",39),l(10),o(),n(11,"span",40),g(12,"i",41),l(13),o()()()(),n(14,"div",42),m("click",function(t){return u(e),p(t.stopPropagation())}),n(15,"button",43),m("click",function(){let t=u(e).$implicit,b=c(2);return p(b.toggleSubcategoryStatus(t.id,t.is_active))}),g(16,"i",41),o(),n(17,"button",44),m("click",function(){let t=u(e).$implicit,b=c(2);return p(b.openEditModal(t))}),g(18,"i",45),o()()()}if(s&2){let e=a.$implicit,i=c(2);r(2),d("src",i.getImageUrl(e.image),C)("alt",e.name),r(3),_(e.name),r(5),h(" ",i.getCategoryName(e.category_id)," "),r(),d("ngClass",i.getStatusClass(e.is_active)),r(),d("ngClass",e.is_active===1?"fa-check-circle":"fa-times-circle"),r(),h(" ",i.getStatusText(e.is_active)," "),r(2),d("title",e.is_active===1?"Deactivate":"Activate"),r(),d("ngClass",e.is_active===1?"fa-toggle-on":"fa-toggle-off")}}function ne(s,a){if(s&1&&(n(0,"div",29),f(1,ie,19,9,"div",30),o()),s&2){let e=c();r(),d("ngForOf",e.filteredSubcategories)}}function ae(s,a){if(s&1){let e=x();n(0,"div",46),g(1,"i",47),n(2,"p"),l(3),o(),n(4,"button",48),m("click",function(){u(e);let t=c();return p(t.clearSearch())}),g(5,"i",49),l(6," Clear Search "),o()()}if(s&2){let e=c();r(3),h('No subcategories found for "',e.searchTerm,'"')}}function oe(s,a){if(s&1){let e=x();n(0,"div",46),g(1,"i",50),n(2,"p"),l(3,"No subcategories found"),o(),n(4,"button",48),m("click",function(){u(e);let t=c();return p(t.openCreateModal())}),g(5,"i",9),l(6," Create Your First Subcategory "),o()()}}function re(s,a){if(s&1){let e=x();n(0,"button",63),m("click",function(){let t=u(e).$implicit,b=c(2);return p(b.goToPage(t))}),l(1),o()}if(s&2){let e=a.$implicit,i=c(2);T("active",e===i.currentPage),O("aria-label","Page "+e),r(),h(" ",e," ")}}function se(s,a){if(s&1){let e=x();n(0,"div",51)(1,"div",52),l(2),o(),n(3,"div",53)(4,"button",54),m("click",function(){u(e);let t=c();return p(t.goToFirstPage())}),g(5,"i",55),o(),n(6,"button",56),m("click",function(){u(e);let t=c();return p(t.previousPage())}),g(7,"i",57),o(),f(8,re,2,4,"button",58),n(9,"button",59),m("click",function(){u(e);let t=c();return p(t.nextPage())}),g(10,"i",60),o(),n(11,"button",61),m("click",function(){u(e);let t=c();return p(t.goToLastPage())}),g(12,"i",62),o()()()}if(s&2){let e=c();r(2),E(" Showing ",e.getStartIndex()," to ",e.getEndIndex()," of ",e.totalItems," subcategories "),r(2),d("disabled",e.currentPage===1),r(2),d("disabled",e.currentPage===1),r(2),d("ngForOf",e.getPageNumbers()),r(),d("disabled",e.currentPage===e.totalPages),r(2),d("disabled",e.currentPage===e.totalPages)}}function le(s,a){if(s&1&&(n(0,"div",25),g(1,"i",26),n(2,"span"),l(3),o()()),s&2){let e=c(2);r(3),_(e.error)}}function ce(s,a){if(s&1&&(n(0,"option",89),l(1),o()),s&2){let e=a.$implicit;d("value",e.id),r(),h(" ",e.name," ")}}function de(s,a){if(s&1){let e=x();n(0,"div",90),g(1,"img",91),n(2,"button",92),m("click",function(){u(e);let t=c(2);return p(t.removeImage())}),g(3,"i",24),o()()}if(s&2){let e=c(2);r(),d("src",e.imagePreview,C)}}function ge(s,a){s&1&&g(0,"i",28)}function ue(s,a){s&1&&g(0,"i",93)}function pe(s,a){if(s&1){let e=x();n(0,"div",64),m("click",function(){u(e);let t=c();return p(t.closeModal())}),n(1,"div",65),m("click",function(t){return u(e),p(t.stopPropagation())}),n(2,"div",66)(3,"h2"),l(4),o(),n(5,"button",67),m("click",function(){u(e);let t=c();return p(t.closeModal())}),g(6,"i",24),o()(),n(7,"div",68),f(8,le,4,1,"div",11),n(9,"form",69),m("ngSubmit",function(){u(e);let t=c();return p(t.submitForm())}),n(10,"div",70)(11,"label",71),l(12,"Subcategory Name "),n(13,"span",72),l(14,"*"),o()(),n(15,"input",73),M("ngModelChange",function(t){u(e);let b=c();return w(b.subcategoryName,t)||(b.subcategoryName=t),p(t)}),o()(),n(16,"div",70)(17,"label",74),l(18,"Category "),n(19,"span",72),l(20,"*"),o()(),n(21,"select",75),M("ngModelChange",function(t){u(e);let b=c();return w(b.selectedCategoryId,t)||(b.selectedCategoryId=t),p(t)}),n(22,"option",76),l(23,"Select a category"),o(),f(24,ce,2,2,"option",77),o()(),n(25,"div",70)(26,"label",78),l(27,"Subcategory Image (Optional)"),o(),n(28,"div",79),f(29,de,4,1,"div",80),n(30,"input",81),m("change",function(t){u(e);let b=c();return p(b.onImageSelect(t))}),o(),n(31,"label",82),g(32,"i",83),l(33),o()()(),n(34,"div",84)(35,"button",85),m("click",function(){u(e);let t=c();return p(t.closeModal())}),l(36," Cancel "),o(),n(37,"button",86),f(38,ge,1,0,"i",87)(39,ue,1,0,"i",88),l(40),o()()()()()()}if(s&2){let e=c();r(4),_(e.modalTitle),r(4),d("ngIf",e.error),r(7),P("ngModel",e.subcategoryName),r(6),P("ngModel",e.selectedCategoryId),r(3),d("ngForOf",e.categories),r(5),d("ngIf",e.imagePreview),r(4),h(" ",e.selectedImage?"Change Image":"Upload Image"," "),r(4),d("disabled",e.loading),r(),d("ngIf",e.loading),r(),d("ngIf",!e.loading),r(),h(" ",e.loading?"Saving...":e.isEditMode?"Update":"Create"," ")}}function me(s,a){s&1&&(n(0,"div",27),g(1,"i",28),n(2,"p"),l(3,"Loading subcategory details..."),o()())}function be(s,a){if(s&1&&(n(0,"div",103)(1,"label"),l(2,"Run ID"),o(),n(3,"span"),l(4),o()()),s&2){let e=c(3);r(4),_(e.selectedSubcategoryDetails.run_id)}}function _e(s,a){if(s&1){let e=x();n(0,"div",96)(1,"div",97)(2,"div",98),g(3,"img",33),o(),n(4,"div",99)(5,"h3",100),l(6),o(),n(7,"div",101),g(8,"i",41),l(9),o()()(),n(10,"div",102)(11,"div",103)(12,"label"),l(13,"Subcategory ID"),o(),n(14,"span"),l(15),o()(),n(16,"div",103)(17,"label"),l(18,"Category"),o(),n(19,"span"),l(20),o()(),n(21,"div",103)(22,"label"),l(23,"User ID"),o(),n(24,"span"),l(25),o()(),n(26,"div",103)(27,"label"),l(28,"Bulk Upload"),o(),n(29,"span"),l(30),o()(),f(31,be,5,1,"div",104),n(32,"div",103)(33,"label"),l(34,"Created At"),o(),n(35,"span"),l(36),o()(),n(37,"div",103)(38,"label"),l(39,"Updated At"),o(),n(40,"span"),l(41),o()()(),n(42,"div",105)(43,"button",106),m("click",function(){u(e);let t=c(2);return p(t.toggleSubcategoryStatus(t.selectedSubcategoryDetails.id,t.selectedSubcategoryDetails.is_active))}),g(44,"i",41),l(45),o(),n(46,"button",107),m("click",function(){u(e);let t=c(2);return t.openEditModal(t.selectedSubcategoryDetails),p(t.closeDetailsModal())}),g(47,"i",45),l(48," Edit Subcategory "),o()()()}if(s&2){let e=c(2);r(3),d("src",e.getImageUrl(e.selectedSubcategoryDetails.image),C)("alt",e.selectedSubcategoryDetails.name),r(3),_(e.selectedSubcategoryDetails.name),r(),d("ngClass",e.getStatusClass(e.selectedSubcategoryDetails.is_active)),r(),d("ngClass",e.selectedSubcategoryDetails.is_active===1?"fa-check-circle":"fa-times-circle"),r(),h(" ",e.getStatusText(e.selectedSubcategoryDetails.is_active)," "),r(6),_(e.selectedSubcategoryDetails.id),r(5),_(e.getCategoryName(e.selectedSubcategoryDetails.category_id)),r(5),_(e.selectedSubcategoryDetails.user_id),r(5),_(e.selectedSubcategoryDetails.is_bulk_upload===1?"Yes":"No"),r(),d("ngIf",e.selectedSubcategoryDetails.run_id),r(5),_(e.formatDate(e.selectedSubcategoryDetails.created_at)),r(5),_(e.formatDate(e.selectedSubcategoryDetails.updated_at)),r(3),d("ngClass",e.selectedSubcategoryDetails.is_active===1?"fa-toggle-on":"fa-toggle-off"),r(),h(" ",e.selectedSubcategoryDetails.is_active===1?"Deactivate":"Activate"," ")}}function fe(s,a){if(s&1){let e=x();n(0,"div",64),m("click",function(){u(e);let t=c();return p(t.closeDetailsModal())}),n(1,"div",94),m("click",function(t){return u(e),p(t.stopPropagation())}),n(2,"div",66)(3,"h2"),l(4),o(),n(5,"button",67),m("click",function(){u(e);let t=c();return p(t.closeDetailsModal())}),g(6,"i",24),o()(),n(7,"div",68),f(8,me,4,0,"div",12)(9,_e,49,15,"div",95),o()()()}if(s&2){let e=c();r(4),_(e.selectedSubcategoryDetails.name),r(4),d("ngIf",e.detailsLoading),r(),d("ngIf",!e.detailsLoading&&e.selectedSubcategoryDetails)}}var Q=class s{constructor(a,e,i){this.http=a;this.auth=e;this.router=i}subcategories=[];filteredSubcategories=[];categories=[];loading=!0;error=null;searchTerm="";isSearching=!1;currentPage=1;totalPages=1;itemsPerPage=10;totalItems=0;showModal=!1;showDetailsModal=!1;isEditMode=!1;modalTitle="";subcategoryName="";subcategoryId=null;selectedCategoryId=null;selectedImage=null;imagePreview=null;selectedSubcategoryDetails=null;detailsLoading=!1;Math=Math;placeholderUrl=`${v.assetsBase.replace(/\/$/,"")}/no-image-icon.svg`;ngOnInit(){this.loadCategories(),this.loadSubcategories()}ngOnDestroy(){}loadCategories(){let a=this.auth.authHeaders();this.http.get(`${v.apiBase}/categories/list`,{headers:a}).subscribe({next:e=>{console.log("Categories API Response:",e),e.success&&e.data&&(this.categories=e.data.data)},error:e=>{console.error("Error loading categories:",e)}})}loadSubcategories(a=1){this.loading=!0,this.error=null,this.currentPage=a;let e=this.auth.authHeaders(),i={page:a};this.http.get(`${v.apiBase}/sub_categories/list`,{headers:e,params:i}).subscribe({next:t=>{console.log("Subcategories API Response:",t),t.success&&t.data?(this.subcategories=t.data.data,this.filteredSubcategories=this.subcategories,this.currentPage=t.data.current_page,this.totalPages=t.data.last_page,this.itemsPerPage=t.data.per_page,this.totalItems=t.data.total,this.searchTerm.trim()&&this.filterSubcategories()):(this.error=t.message||"Failed to load subcategories",this.subcategories=[],this.filteredSubcategories=[]),this.loading=!1},error:t=>{console.error("Error loading subcategories:",t),t.status===401?(this.error="Unauthenticated. Please log in again.",this.auth.clearSession()):t.status===403?this.error="Access denied. You do not have permission to view subcategories.":this.error=t?.error?.message||"Failed to load subcategories. Please try again.",this.loading=!1}})}openCreateModal(){this.isEditMode=!1,this.modalTitle="Create Subcategory",this.subcategoryName="",this.subcategoryId=null,this.selectedCategoryId=null,this.selectedImage=null,this.imagePreview=null,this.showModal=!0}openEditModal(a){this.isEditMode=!0,this.modalTitle="Edit Subcategory",this.subcategoryName=a.name,this.subcategoryId=a.id,this.selectedCategoryId=a.category_id,this.selectedImage=null,this.imagePreview=a.image||null,this.showModal=!0}closeModal(){this.showModal=!1,this.subcategoryName="",this.subcategoryId=null,this.selectedCategoryId=null,this.selectedImage=null,this.imagePreview=null,this.error=null}onImageSelect(a){let e=a.target;if(e.files&&e.files[0]){this.selectedImage=e.files[0];let i=new FileReader;i.onload=t=>{this.imagePreview=t.target?.result},i.readAsDataURL(this.selectedImage)}}removeImage(){this.selectedImage=null,this.imagePreview=null}submitForm(){if(!this.subcategoryName.trim()){this.error="Subcategory name is required";return}if(!this.selectedCategoryId){this.error="Category is required";return}this.isEditMode?this.updateSubcategory():this.createSubcategory()}createSubcategory(){let a=this.auth.authHeaders(),e=new FormData;e.append("sub_category",this.subcategoryName.trim()),e.append("category",this.selectedCategoryId.toString()),this.selectedImage&&e.append("image",this.selectedImage),this.loading=!0,this.error=null,this.http.post(`${v.apiBase}/sub_categories/store`,e,{headers:a}).subscribe({next:i=>{console.log("Create Subcategory Response:",i),i.success?(this.closeModal(),this.loadSubcategories(this.currentPage)):this.error=i.message||"Failed to create subcategory",this.loading=!1},error:i=>{console.error("Error creating subcategory:",i),this.error=i?.error?.message||"Failed to create subcategory. Please try again.",this.loading=!1}})}updateSubcategory(){if(!this.subcategoryId){this.error="Subcategory ID is missing";return}let a=this.auth.authHeaders(),e=new FormData;e.append("sub_category",this.subcategoryName.trim()),e.append("category",this.selectedCategoryId.toString()),e.append("subcategory_id",this.subcategoryId.toString()),this.selectedImage&&e.append("image",this.selectedImage),this.loading=!0,this.error=null,this.http.post(`${v.apiBase}/sub_categories/update`,e,{headers:a}).subscribe({next:i=>{console.log("Update Subcategory Response:",i),i.success?(this.closeModal(),this.loadSubcategories(this.currentPage)):this.error=i.message||"Failed to update subcategory",this.loading=!1},error:i=>{console.error("Error updating subcategory:",i),this.error=i?.error?.message||"Failed to update subcategory. Please try again.",this.loading=!1}})}refreshSubcategories(){this.loadSubcategories(this.currentPage)}goBack(){this.router.navigate(["/dashboard"])}goToPage(a){a>=1&&a<=this.totalPages&&a!==this.currentPage&&this.loadSubcategories(a)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}nextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}previousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}getPageNumbers(){let a=[],i=Math.floor(2.5),t=Math.max(1,this.currentPage-i),b=Math.min(this.totalPages,this.currentPage+i);b-t+1<5&&(t===1?b=Math.min(this.totalPages,t+5-1):b===this.totalPages&&(t=Math.max(1,b-5+1)));for(let y=t;y<=b;y++)a.push(y);return a}getStartIndex(){return(this.currentPage-1)*this.itemsPerPage+1}getEndIndex(){return Math.min(this.currentPage*this.itemsPerPage,this.totalItems)}getImageUrl(a){return!a||a==="https://test.slingbillings.com/no-image-icon.svg"||a.includes("no-image-icon")?this.placeholderUrl:/^https?:\/\//i.test(a)?a:`${v.assetsBase.replace(/\/$/,"")}/${a.replace(/^\//,"")}`}onSearchChange(){this.filterSubcategories()}filterSubcategories(){if(!this.searchTerm.trim())this.filteredSubcategories=this.subcategories;else{let a=this.searchTerm.toLowerCase();this.filteredSubcategories=this.subcategories.filter(e=>e.name.toLowerCase().includes(a))}}clearSearch(){this.searchTerm="",this.filteredSubcategories=this.subcategories}openSubcategoryDetails(a){return k(this,null,function*(){this.detailsLoading=!0,this.showDetailsModal=!0,this.selectedSubcategoryDetails=null;try{let e=this.auth.authHeaders(),i=yield this.http.get(`${v.apiBase}/sub_categories/${a}/view`,{headers:e}).toPromise();i?.success&&i.data?this.selectedSubcategoryDetails=i.data:(this.error=i?.message||"Failed to load subcategory details",this.closeDetailsModal())}catch(e){console.error("Error loading subcategory details:",e),this.error=e?.error?.message||"Failed to load subcategory details",this.closeDetailsModal()}finally{this.detailsLoading=!1}})}closeDetailsModal(){this.showDetailsModal=!1,this.selectedSubcategoryDetails=null,this.detailsLoading=!1,this.error=null}toggleSubcategoryStatus(a,e){return k(this,null,function*(){try{let i=this.auth.authHeaders(),t=yield this.http.get(`${v.apiBase}/sub_categories/${a}/status`,{headers:i}).toPromise();if(t?.success){let b=this.subcategories.findIndex(y=>y.id===a);b!==-1&&(this.subcategories[b].is_active=this.subcategories[b].is_active===1?0:1,this.filterSubcategories()),this.selectedSubcategoryDetails&&this.selectedSubcategoryDetails.id===a&&(this.selectedSubcategoryDetails.is_active=this.selectedSubcategoryDetails.is_active===1?0:1),console.log("Status updated:",t.message)}else this.error=t?.message||"Failed to update subcategory status"}catch(i){console.error("Error updating subcategory status:",i),this.error=i?.error?.message||"Failed to update subcategory status"}})}getCategoryName(a){let e=this.categories.find(i=>i.id===a);return e?e.name:"Unknown Category"}getStatusText(a){return a===1?"Active":"Inactive"}getStatusClass(a){return a===1?"status-active":"status-inactive"}formatDate(a){let e=new Date(a);return e.toLocaleDateString()+" "+e.toLocaleTimeString()}static \u0275fac=function(e){return new(e||s)(S(z),S(K),S(R))};static \u0275cmp=I({type:s,selectors:[["app-subcategories"]],decls:22,vars:9,consts:[[1,"categories-container"],[1,"header-section"],[1,"d-flex","align-items-center"],["aria-label","Go back",1,"back-btn",3,"click"],[1,"fa-solid","fa-arrow-left"],[1,"header-actions"],["aria-label","Refresh subcategories",1,"refresh-btn",3,"click"],[1,"fa-solid","fa-arrows-rotate"],["aria-label","Create subcategory",1,"create-btn",3,"click"],[1,"fa-solid","fa-plus"],["class","search-section",4,"ngIf"],["class","error-message",4,"ngIf"],["class","loading-spinner",4,"ngIf"],["class","categories-list",4,"ngIf"],["class","no-data",4,"ngIf"],["class","pagination",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"search-section"],[1,"search-container"],[1,"search-input-wrapper"],[1,"fa-solid","fa-search","search-icon"],["type","text","placeholder","Search subcategories...",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-search-btn","aria-label","Clear search",3,"click",4,"ngIf"],["aria-label","Clear search",1,"clear-search-btn",3,"click"],[1,"fa-solid","fa-xmark"],[1,"error-message"],[1,"fa-solid","fa-circle-exclamation"],[1,"loading-spinner"],[1,"fa-solid","fa-spinner","fa-spin"],[1,"categories-list"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],[1,"category-image-small"],["onerror","this.src='https://test.slingbillings.com/no-image-icon.svg'",3,"src","alt"],[1,"category-details"],[1,"category-name"],[1,"category-meta"],[1,"status-row"],[1,"subcategory-count"],[1,"fa-solid","fa-layer-group"],[1,"category-status",3,"ngClass"],[1,"fa-solid",3,"ngClass"],[1,"category-actions",3,"click"],["aria-label","Toggle status",1,"status-toggle-btn",3,"click","title"],["aria-label","Edit subcategory",1,"edit-btn-icon",3,"click"],[1,"fa-solid","fa-pen"],[1,"no-data"],[1,"fa-solid","fa-search"],[1,"create-btn",3,"click"],[1,"fa-solid","fa-times"],[1,"fa-solid","fa-folder-open"],[1,"pagination"],[1,"pagination-info"],[1,"pagination-controls"],["aria-label","First page",3,"click","disabled"],[1,"fa-solid","fa-angles-left"],["aria-label","Previous page",3,"click","disabled"],[1,"fa-solid","fa-angle-left"],[3,"active","click",4,"ngFor","ngForOf"],["aria-label","Next page",3,"click","disabled"],[1,"fa-solid","fa-angle-right"],["aria-label","Last page",3,"click","disabled"],[1,"fa-solid","fa-angles-right"],[3,"click"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],["aria-label","Close modal",1,"close-btn",3,"click"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","subcategoryName"],[1,"required"],["type","text","id","subcategoryName","name","subcategoryName","placeholder","Enter subcategory name","required","",3,"ngModelChange","ngModel"],["for","categorySelect"],["id","categorySelect","name","categorySelect","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","subcategoryImage"],[1,"image-upload-section"],["class","image-preview",4,"ngIf"],["type","file","id","subcategoryImage","accept","image/*",3,"change"],["for","subcategoryImage",1,"file-label"],[1,"fa-solid","fa-cloud-arrow-up"],[1,"form-actions"],["type","button",1,"cancel-btn",3,"click"],["type","submit",1,"submit-btn",3,"disabled"],["class","fa-solid fa-spinner fa-spin",4,"ngIf"],["class","fa-solid fa-check",4,"ngIf"],[3,"value"],[1,"image-preview"],["alt","Subcategory preview",3,"src"],["type","button",1,"remove-image-btn",3,"click"],[1,"fa-solid","fa-check"],[1,"modal-content","details-modal",3,"click"],["class","category-details-content",4,"ngIf"],[1,"category-details-content"],[1,"details-header"],[1,"category-image-large"],[1,"category-info"],[1,"category-title"],[1,"status-badge",3,"ngClass"],[1,"details-grid"],[1,"detail-item"],["class","detail-item",4,"ngIf"],[1,"details-actions"],[1,"status-toggle-btn-large",3,"click"],[1,"edit-btn",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return i.goBack()}),g(4,"i",4),o(),n(5,"h1"),l(6,"Subcategories"),o()(),n(7,"div",5)(8,"button",6),m("click",function(){return i.refreshSubcategories()}),g(9,"i",7),o(),n(10,"button",8),m("click",function(){return i.openCreateModal()}),g(11,"i",9),l(12," Create "),o()()(),f(13,Z,6,2,"div",10)(14,ee,4,1,"div",11)(15,te,4,0,"div",12)(16,ne,2,1,"div",13)(17,ae,7,1,"div",14)(18,oe,7,0,"div",14)(19,se,13,8,"div",15),o(),f(20,pe,41,11,"div",16)(21,fe,10,3,"div",16)),e&2&&(r(13),d("ngIf",!i.loading),r(),d("ngIf",i.error&&!i.showModal),r(),d("ngIf",i.loading&&!i.showModal),r(),d("ngIf",!i.loading&&i.filteredSubcategories.length>0),r(),d("ngIf",!i.loading&&i.filteredSubcategories.length===0&&i.searchTerm),r(),d("ngIf",!i.loading&&i.subcategories.length===0&&!i.searchTerm),r(),d("ngIf",!i.loading&&i.totalPages>1),r(),d("ngIf",i.showModal),r(),d("ngIf",i.showDetailsModal))},dependencies:[F,V,D,N,J,H,Y,q,U,W,A,j,G,$,B,L],styles:[".subcategories-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:20px;background:#f8f9fa;min-height:calc(100vh - 80px)}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;background:#fff;padding:20px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.back-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:10px 12px;border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]:hover{background:#5a6268;transform:translateY(-1px)}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:28px;font-weight:600}.actions[_ngcontent-%COMP%]{display:flex;gap:12px}.refresh-btn[_ngcontent-%COMP%]{background:#17a2b8;color:#fff;border:none;padding:12px 20px;border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px;font-weight:500}.refresh-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#138496;transform:translateY(-1px)}.refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.primary-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px;font-weight:500;box-shadow:0 2px 4px #007bff33}.primary-btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.search-section[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:12px;margin-bottom:20px;box-shadow:0 2px 8px #0000001a}.search-box[_ngcontent-%COMP%]{position:relative;max-width:400px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#6c757d;font-size:16px}.search-input[_ngcontent-%COMP%]{width:100%;padding:12px 50px 12px 45px;border:2px solid #e9ecef;border-radius:8px;font-size:16px;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.clear-search[_ngcontent-%COMP%]{position:absolute;right:15px;top:50%;transform:translateY(-50%);background:none;border:none;color:#6c757d;cursor:pointer;padding:5px;border-radius:4px;transition:all .3s ease}.clear-search[_ngcontent-%COMP%]:hover{color:#dc3545;background:#dc35451a}.search-info[_ngcontent-%COMP%]{margin-top:10px;color:#6c757d;font-size:14px}.error-message[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:15px 20px;border-radius:8px;margin-bottom:20px;border:1px solid #f5c6cb;display:flex;align-items:center;gap:10px}.retry-btn[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;margin-left:auto;font-size:12px;transition:all .3s ease}.retry-btn[_ngcontent-%COMP%]:hover{background:#c82333}.loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:60px 20px;color:#6c757d;font-size:18px;gap:15px}.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#007bff}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.subcategories-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:14px}.subcategories-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.subcategories-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:18px 15px;text-align:left;font-weight:600;color:#495057;border-bottom:2px solid #dee2e6;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.subcategories-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid #f1f3f4}.subcategories-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.subcategories-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 15px;vertical-align:middle}.subcategory-name[_ngcontent-%COMP%]{font-weight:500;color:#2c3e50}.category-name[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:500;display:inline-block}.status-active[_ngcontent-%COMP%]{background:#d4edda;color:#155724;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:500;display:inline-block}.status-inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:6px 12px;border-radius:20px;font-size:12px;font-weight:500;display:inline-block}.subcategory-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;object-fit:cover;border:2px solid #e9ecef}.no-image[_ngcontent-%COMP%]{width:50px;height:50px;background:#f8f9fa;border:2px dashed #dee2e6;border-radius:8px;display:flex;align-items:center;justify-content:center;color:#6c757d;font-size:12px}.action-btn[_ngcontent-%COMP%]{background:none;border:none;padding:8px;margin:0 4px;border-radius:6px;cursor:pointer;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center}.view-btn[_ngcontent-%COMP%]{color:#28a745}.view-btn[_ngcontent-%COMP%]:hover{background:#28a7451a}.edit-btn[_ngcontent-%COMP%]{color:#007bff}.edit-btn[_ngcontent-%COMP%]:hover{background:#007bff1a}.status-btn[_ngcontent-%COMP%]{color:#ffc107}.status-btn[_ngcontent-%COMP%]:hover{background:#ffc1071a}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.empty-icon[_ngcontent-%COMP%]{font-size:64px;color:#dee2e6;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#495057;margin-bottom:12px;font-size:24px;font-weight:600}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:32px;font-size:16px;line-height:1.5}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px;margin-top:30px;padding:20px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000001a}.page-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#495057;border:1px solid #dee2e6;padding:10px 16px;border-radius:8px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:8px;font-weight:500}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#e9ecef;border-color:#adb5bd}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-info[_ngcontent-%COMP%]{color:#495057;font-weight:500;font-size:14px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 8px 32px #0003}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-size:20px;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;color:#6c757d;cursor:pointer;padding:8px;border-radius:6px}.close-btn[_ngcontent-%COMP%]:hover{background:#6c757d1a}.modal-body[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#495057;font-weight:500;font-size:14px}.required[_ngcontent-%COMP%]{color:#dc3545}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e9ecef;border-radius:8px;font-size:14px;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px;border-top:1px solid #e9ecef}.secondary-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff;border:none;padding:10px 20px;border-radius:6px;cursor:pointer}.secondary-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.primary-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.subcategories-container[_ngcontent-%COMP%]{padding:10px}.header[_ngcontent-%COMP%]{flex-direction:column;gap:15px;padding:15px}.title-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.actions[_ngcontent-%COMP%]{justify-content:center}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.subcategories-table[_ngcontent-%COMP%]{min-width:700px}}"]})};export{Q as SubcategoriesComponent};
