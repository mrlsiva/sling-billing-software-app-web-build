import{b as qe,c as ln,d as Ke,e as Pr,g as ht,h as Or,j as Mr,k as xr,p as wr,q as _t,r as Sr}from"./chunk-VI3EGPJC.js";import{a as Er}from"./chunk-NRUJ2UPE.js";import{$ as h,$a as J,Aa as gt,D as Zn,E as sn,F as st,G as We,Ga as mt,H as p,Ha as Be,I as Jn,Ia as $,Ja as pr,K as er,La as gr,M as tr,Ma as B,Na as mr,O as N,Oa as ur,P as V,Pa as fr,Qa as ut,Ra as hr,Sa as _r,T as O,Ua as Cr,V as nr,Va as ft,Wa as q,X as rr,Xa as xe,Y as f,Ya as yr,Z as a,Za as vr,_ as s,_a as br,a as Me,aa as or,ab as ee,b as at,ba as ir,bb as Ct,c as Kn,ca as A,cb as z,d as $n,da as y,e as Un,ea as u,f as Hn,fa as ar,ga as sr,ha as lr,ia as lt,j as Qn,ja as Z,ka as Le,l as Gn,la as d,m as Wn,ma as S,n as F,na as L,oa as Ye,p as oe,pa as ct,qa as dt,ra as ze,s as Y,sa as Re,t as Yn,ta as Ve,u as v,v as b,w as K,wa as cr,x as ce,xa as je,y as Xn,ya as dr,za as pt}from"./chunk-RHZBCLZ3.js";var yt=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&h(0,"router-outlet")},dependencies:[ft],encapsulation:2})};var k=(function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r})(k||{}),me="*";function Tr(r,t=null){return{type:k.Sequence,steps:r,options:t}}function cn(r){return{type:k.Style,styles:r,offset:null}}var ve=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},$e=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,o=0,i=this.players.length;i==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==i&&this._onFinish()}),l.onDestroy(()=>{++n==i&&this._onDestroy()}),l.onStart(()=>{++o==i&&this._onStart()})}),this.totalTime=this.players.reduce((l,c)=>Math.max(l,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let o=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(o)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Xe="!";function kr(r){return new F(3e3,!1)}function Io(){return new F(3100,!1)}function Ao(){return new F(3101,!1)}function Do(r){return new F(3001,!1)}function Fo(r){return new F(3003,!1)}function No(r){return new F(3004,!1)}function Ar(r,t){return new F(3005,!1)}function Dr(){return new F(3006,!1)}function Fr(){return new F(3007,!1)}function Nr(r,t){return new F(3008,!1)}function Lr(r){return new F(3002,!1)}function zr(r,t,e,n,o){return new F(3010,!1)}function Rr(){return new F(3011,!1)}function Vr(){return new F(3012,!1)}function jr(){return new F(3200,!1)}function Br(){return new F(3202,!1)}function qr(){return new F(3013,!1)}function Kr(r){return new F(3014,!1)}function $r(r){return new F(3015,!1)}function Ur(r){return new F(3016,!1)}function Hr(r,t){return new F(3404,!1)}function Lo(r){return new F(3502,!1)}function Qr(r){return new F(3503,!1)}function Gr(){return new F(3300,!1)}function Wr(r){return new F(3504,!1)}function Yr(r){return new F(3301,!1)}function Xr(r,t){return new F(3302,!1)}function Zr(r){return new F(3303,!1)}function Jr(r,t){return new F(3400,!1)}function eo(r){return new F(3401,!1)}function to(r){return new F(3402,!1)}function no(r,t){return new F(3505,!1)}function be(r){switch(r.length){case 0:return new ve;case 1:return r[0];default:return new $e(r)}}function mn(r,t,e=new Map,n=new Map){let o=[],i=[],l=-1,c=null;if(t.forEach(g=>{let m=g.get("offset"),_=m==l,C=_&&c||new Map;g.forEach((I,T)=>{let M=T,E=I;if(T!=="offset")switch(M=r.normalizePropertyName(M,o),E){case Xe:E=e.get(T);break;case me:E=n.get(T);break;default:E=r.normalizeStyleValue(T,M,E,o);break}C.set(M,E)}),_||i.push(C),c=C,l=m}),o.length)throw Lo(o);return i}function vt(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&dn(e,"start",r)));break;case"done":r.onDone(()=>n(e&&dn(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&dn(e,"destroy",r)));break}}function dn(r,t,e){let n=e.totalTime,o=!!e.disabled,i=bt(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,n??r.totalTime,o),l=r._data;return l!=null&&(i._data=l),i}function bt(r,t,e,n,o="",i=0,l){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:o,totalTime:i,disabled:!!l}}function ie(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function un(r){let t=r.indexOf(":"),e=r.substring(1,t),n=r.slice(t+1);return[e,n]}var zo=typeof document>"u"?null:document.documentElement;function Pt(r){let t=r.parentNode||r.host||null;return t===zo?null:t}function Ro(r){return r.substring(1,6)=="ebkit"}var ke=null,Ir=!1;function ro(r){ke||(ke=Vo()||{},Ir=ke.style?"WebkitAppearance"in ke.style:!1);let t=!0;return ke.style&&!Ro(r)&&(t=r in ke.style,!t&&Ir&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in ke.style)),t}function Vo(){return typeof document<"u"?document.body:null}function fn(r,t){for(;t;){if(t===r)return!0;t=Pt(t)}return!1}function hn(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let n=r.querySelector(t);return n?[n]:[]}var jo=1e3,_n="{{",Bo="}}",Cn="ng-enter",Ot="ng-leave",Ze="ng-trigger",Je=".ng-trigger",yn="ng-animating",Mt=".ng-animating";function Ce(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pn(parseFloat(t[1]),t[2])}function pn(r,t){switch(t){case"s":return r*jo;default:return r}}function et(r,t,e){return r.hasOwnProperty("duration")?r:Ko(r,t,e)}var qo=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Ko(r,t,e){let n,o=0,i="";if(typeof r=="string"){let l=r.match(qo);if(l===null)return t.push(kr(r)),{duration:0,delay:0,easing:""};n=pn(parseFloat(l[1]),l[2]);let c=l[3];c!=null&&(o=pn(parseFloat(c),l[4]));let g=l[5];g&&(i=g)}else n=r;if(!e){let l=!1,c=t.length;n<0&&(t.push(Io()),l=!0),o<0&&(t.push(Ao()),l=!0),l&&t.splice(c,0,kr(r))}return{duration:n,delay:o,easing:i}}function oo(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function ue(r,t,e){t.forEach((n,o)=>{let i=xt(o);e&&!e.has(o)&&e.set(o,r.style[i]),r.style[i]=n})}function we(r,t){t.forEach((e,n)=>{let o=xt(n);r.style[o]=""})}function Ue(r){return Array.isArray(r)?r.length==1?r[0]:Tr(r):r}function io(r,t,e){let n=t.params||{},o=vn(r);o.length&&o.forEach(i=>{n.hasOwnProperty(i)||e.push(Do(i))})}var gn=new RegExp(`${_n}\\s*(.+?)\\s*${Bo}`,"g");function vn(r){let t=[];if(typeof r=="string"){let e;for(;e=gn.exec(r);)t.push(e[1]);gn.lastIndex=0}return t}function He(r,t,e){let n=`${r}`,o=n.replace(gn,(i,l)=>{let c=t[l];return c==null&&(e.push(Fo(l)),c=""),c.toString()});return o==n?r:o}var $o=/-+([a-z0-9])/g;function xt(r){return r.replace($o,(...t)=>t[1].toUpperCase())}function ao(r,t){return r===0||t===0}function so(r,t,e){if(e.size&&t.length){let n=t[0],o=[];if(e.forEach((i,l)=>{n.has(l)||o.push(l),n.set(l,i)}),o.length)for(let i=1;i<t.length;i++){let l=t[i];o.forEach(c=>l.set(c,wt(r,c)))}}return t}function ae(r,t,e){switch(t.type){case k.Trigger:return r.visitTrigger(t,e);case k.State:return r.visitState(t,e);case k.Transition:return r.visitTransition(t,e);case k.Sequence:return r.visitSequence(t,e);case k.Group:return r.visitGroup(t,e);case k.Animate:return r.visitAnimate(t,e);case k.Keyframes:return r.visitKeyframes(t,e);case k.Style:return r.visitStyle(t,e);case k.Reference:return r.visitReference(t,e);case k.AnimateChild:return r.visitAnimateChild(t,e);case k.AnimateRef:return r.visitAnimateRef(t,e);case k.Query:return r.visitQuery(t,e);case k.Stagger:return r.visitStagger(t,e);default:throw No(t.type)}}function wt(r,t){return window.getComputedStyle(r)[t]}var zn=(()=>{class r{validateStyleProperty(e){return ro(e)}containsElement(e,n){return fn(e,n)}getParentElement(e){return Pt(e)}query(e,n,o){return hn(e,n,o)}computeStyle(e,n,o){return o||""}animate(e,n,o,i,l,c=[],g){return new ve(o,i)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=oe({token:r,factory:r.\u0275fac})}return r})(),Ae=class{static NOOP=new zn},De=class{};var Uo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),It=class extends De{normalizePropertyName(t,e){return xt(t)}normalizeStyleValue(t,e,n,o){let i="",l=n.toString().trim();if(Uo.has(e)&&n!==0&&n!=="0")if(typeof n=="number")i="px";else{let c=n.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&o.push(Ar(t,n))}return l+i}};var At="*";function Ho(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Qo(n,e,t)):e.push(r),e}function Qo(r,t,e){if(r[0]==":"){let g=Go(r,e);if(typeof g=="function"){t.push(g);return}r=g}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push($r(r)),t;let o=n[1],i=n[2],l=n[3];t.push(lo(o,l));let c=o==At&&l==At;i[0]=="<"&&!c&&t.push(lo(l,o))}function Go(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Ur(r)),"* => *"}}var St=new Set(["true","1"]),Et=new Set(["false","0"]);function lo(r,t){let e=St.has(r)||Et.has(r),n=St.has(t)||Et.has(t);return(o,i)=>{let l=r==At||r==o,c=t==At||t==i;return!l&&e&&typeof o=="boolean"&&(l=o?St.has(r):Et.has(r)),!c&&n&&typeof i=="boolean"&&(c=i?St.has(t):Et.has(t)),l&&c}}var yo=":self",Wo=new RegExp(`s*${yo}s*,?`,"g");function vo(r,t,e,n){return new wn(r).build(t,e,n)}var co="",wn=class{_driver;constructor(t){this._driver=t}build(t,e,n){let o=new Sn(e);return this._resetContextStyleTimingState(o),ae(this,Ue(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector=co,t.collectedStyles=new Map,t.collectedStyles.set(co,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,o=e.depCount=0,i=[],l=[];return t.name.charAt(0)=="@"&&e.errors.push(Dr()),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),c.type==k.State){let g=c,m=g.name;m.toString().split(/\s*,\s*/).forEach(_=>{g.name=_,i.push(this.visitState(g,e))}),g.name=m}else if(c.type==k.Transition){let g=this.visitTransition(c,e);n+=g.queryCount,o+=g.depCount,l.push(g)}else e.errors.push(Fr())}),{type:k.Trigger,name:t.name,states:i,transitions:l,queryCount:n,depCount:o,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(n.containsDynamicStyles){let i=new Set,l=o||{};n.styles.forEach(c=>{c instanceof Map&&c.forEach(g=>{vn(g).forEach(m=>{l.hasOwnProperty(m)||i.add(m)})})}),i.size&&e.errors.push(Nr(t.name,[...i.values()]))}return{type:k.State,name:t.name,style:n,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=ae(this,Ue(t.animation),e),o=Ho(t.expr,e.errors);return{type:k.Transition,matchers:o,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ie(t.options)}}visitSequence(t,e){return{type:k.Sequence,steps:t.steps.map(n=>ae(this,n,e)),options:Ie(t.options)}}visitGroup(t,e){let n=e.currentTime,o=0,i=t.steps.map(l=>{e.currentTime=n;let c=ae(this,l,e);return o=Math.max(o,e.currentTime),c});return e.currentTime=o,{type:k.Group,steps:i,options:Ie(t.options)}}visitAnimate(t,e){let n=Jo(t.timings,e.errors);e.currentAnimateTimings=n;let o,i=t.styles?t.styles:cn({});if(i.type==k.Keyframes)o=this.visitKeyframes(i,e);else{let l=t.styles,c=!1;if(!l){c=!0;let m={};n.easing&&(m.easing=n.easing),l=cn(m)}e.currentTime+=n.duration+n.delay;let g=this.visitStyle(l,e);g.isEmptyStep=c,o=g}return e.currentAnimateTimings=null,{type:k.Animate,timings:n,style:o,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],o=Array.isArray(t.styles)?t.styles:[t.styles];for(let c of o)typeof c=="string"?c===me?n.push(c):e.errors.push(Lr(c)):n.push(new Map(Object.entries(c)));let i=!1,l=null;return n.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(l=c.get("easing"),c.delete("easing")),!i)){for(let g of c.values())if(g.toString().indexOf(_n)>=0){i=!0;break}}}),{type:k.Style,styles:n,easing:l,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,o=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(l=>{typeof l!="string"&&l.forEach((c,g)=>{let m=e.collectedStyles.get(e.currentQuerySelector),_=m.get(g),C=!0;_&&(i!=o&&i>=_.startTime&&o<=_.endTime&&(e.errors.push(zr(g,_.startTime,_.endTime,i,o)),C=!1),i=_.startTime),C&&m.set(g,{startTime:i,endTime:o}),e.options&&io(c,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:k.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Rr()),n;let o=1,i=0,l=[],c=!1,g=!1,m=0,_=t.steps.map(U=>{let H=this._makeStyleAst(U,e),te=H.offset!=null?H.offset:Zo(H.styles),W=0;return te!=null&&(i++,W=H.offset=te),g=g||W<0||W>1,c=c||W<m,m=W,l.push(W),H});g&&e.errors.push(Vr()),c&&e.errors.push(jr());let C=t.steps.length,I=0;i>0&&i<C?e.errors.push(Br()):i==0&&(I=o/(C-1));let T=C-1,M=e.currentTime,E=e.currentAnimateTimings,R=E.duration;return _.forEach((U,H)=>{let te=I>0?H==T?1:I*H:l[H],W=te*R;e.currentTime=M+E.delay+W,E.duration=W,this._validateStyleAst(U,e),U.offset=te,n.styles.push(U)}),n}visitReference(t,e){return{type:k.Reference,animation:ae(this,Ue(t.animation),e),options:Ie(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:k.AnimateChild,options:Ie(t.options)}}visitAnimateRef(t,e){return{type:k.AnimateRef,animation:this.visitReference(t.animation,e),options:Ie(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;let[i,l]=Yo(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ie(e.collectedStyles,e.currentQuerySelector,new Map);let c=ae(this,Ue(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:k.Query,selector:i,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:c,originalSelector:t.selector,options:Ie(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(qr());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:et(t.timings,e.errors,!0);return{type:k.Stagger,animation:ae(this,Ue(t.animation),e),timings:n,options:null}}};function Yo(r){let t=!!r.split(/\s*,\s*/).find(e=>e==yo);return t&&(r=r.replace(Wo,"")),r=r.replace(/@\*/g,Je).replace(/@\w+/g,e=>Je+"-"+e.slice(1)).replace(/:animating/g,Mt),[r,t]}function Xo(r){return r?Me({},r):null}var Sn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Zo(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Jo(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let i=et(r,t).duration;return bn(i,0,"")}let e=r;if(e.split(/\s+/).some(i=>i.charAt(0)=="{"&&i.charAt(1)=="{")){let i=bn(0,0,"");return i.dynamic=!0,i.strValue=e,i}let o=et(e,t);return bn(o.duration,o.delay,o.easing)}function Ie(r){return r?(r=Me({},r),r.params&&(r.params=Xo(r.params))):r={},r}function bn(r,t,e){return{duration:r,delay:t,easing:e}}function Rn(r,t,e,n,o,i,l=null,c=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:o,delay:i,totalTime:o+i,easing:l,subTimeline:c}}var nt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},ei=1,ti=":enter",ni=new RegExp(ti,"g"),ri=":leave",oi=new RegExp(ri,"g");function bo(r,t,e,n,o,i=new Map,l=new Map,c,g,m=[]){return new En().buildKeyframes(r,t,e,n,o,i,l,c,g,m)}var En=class{buildKeyframes(t,e,n,o,i,l,c,g,m,_=[]){m=m||new nt;let C=new Tn(t,e,m,o,i,_,[]);C.options=g;let I=g.delay?Ce(g.delay):0;C.currentTimeline.delayNextStep(I),C.currentTimeline.setStyles([l],null,C.errors,g),ae(this,n,C);let T=C.timelines.filter(M=>M.containsAnimation());if(T.length&&c.size){let M;for(let E=T.length-1;E>=0;E--){let R=T[E];if(R.element===e){M=R;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([c],null,C.errors,g)}return T.length?T.map(M=>M.buildKeyframes()):[Rn(e,[],[],[],0,I,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let o=e.createSubContext(t.options),i=e.currentTimeline.currentTime,l=this._visitSubInstructions(n,o,o.options);i!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let o of t){let i=o?.delay;if(i){let l=typeof i=="number"?i:Ce(He(i,o?.params??{},e.errors));n.delayNextStep(l)}}}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime,l=n.duration!=null?Ce(n.duration):null,c=n.delay!=null?Ce(n.delay):null;return l!==0&&t.forEach(g=>{let m=e.appendInstructionToTimeline(g,l,c);i=Math.max(i,m.duration+m.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),ae(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,o=e,i=t.options;if(i&&(i.params||i.delay)&&(o=e.createSubContext(i),o.transformIntoNewTimeline(),i.delay!=null)){o.previousNode.type==k.Style&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Dt);let l=Ce(i.delay);o.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>ae(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>n&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],o=e.currentTimeline.currentTime,i=t.options&&t.options.delay?Ce(t.options.delay):0;t.steps.forEach(l=>{let c=e.createSubContext(t.options);i&&c.delayNextStep(i),ae(this,l,c),o=Math.max(o,c.currentTimeline.currentTime),n.push(c.currentTimeline)}),n.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,o=e.params?He(n,e.params,e.errors):n;return et(o,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),o.snapshotCurrentStyles());let i=t.style;i.type==k.Keyframes?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,o=e.currentAnimateTimings;!o&&n.hasCurrentStyleProperties()&&n.forwardFrame();let i=o&&o.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,o=e.currentTimeline.duration,i=n.duration,c=e.createSubContext().currentTimeline;c.easing=n.easing,t.styles.forEach(g=>{let m=g.offset||0;c.forwardTime(m*i),c.setStyles(g.styles,g.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(o+i),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,o=t.options||{},i=o.delay?Ce(o.delay):0;i&&(e.previousNode.type===k.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Dt);let l=n,c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=c.length;let g=null;c.forEach((m,_)=>{e.currentQueryIndex=_;let C=e.createSubContext(t.options,m);i&&C.delayNextStep(i),m===e.element&&(g=C.currentTimeline),ae(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe();let I=C.currentTimeline.currentTime;l=Math.max(l,I)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,o=e.currentTimeline,i=t.timings,l=Math.abs(i.duration),c=l*(e.currentQueryTotal-1),g=l*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":g=c-g;break;case"full":g=n.currentStaggerTime;break}let _=e.currentTimeline;g&&_.delayNextStep(g);let C=_.currentTime;ae(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=o.currentTime-C+(o.startTime-n.currentTimeline.startTime)}},Dt={},Tn=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Dt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,o,i,l,c,g){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=o,this._leaveClassName=i,this.errors=l,this.timelines=c,this.currentTimeline=g||new Ft(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,o=this.options;n.duration!=null&&(o.duration=Ce(n.duration)),n.delay!=null&&(o.delay=Ce(n.delay));let i=n.params;if(i){let l=o.params;l||(l=this.options.params={}),Object.keys(i).forEach(c=>{(!e||!l.hasOwnProperty(c))&&(l[c]=He(i[c],l,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(o=>{n[o]=e[o]})}}return t}createSubContext(t=null,e,n){let o=e||this.element,i=new r(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Dt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let o={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},i=new kn(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(i),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,o,i,l){let c=[];if(o&&c.push(this.element),t.length>0){t=t.replace(ni,"."+this._enterClassName),t=t.replace(oi,"."+this._leaveClassName);let g=n!=1,m=this._driver.query(this.element,t,g);n!==0&&(m=n<0?m.slice(m.length+n,m.length):m.slice(0,n)),c.push(...m)}return!i&&c.length==0&&l.push(Kr(e)),c}},Ft=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,o){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=o,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ei,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||me),this._currentKeyframe.set(e,me);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,o){e&&this._previousKeyframe.set("easing",e);let i=o&&o.params||{},l=ii(t,this._globalTimelineStyles);for(let[c,g]of l){let m=He(g,i,n);this._pendingStyles.set(c,m),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??me),this._updateStyle(c,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let o=this._styleSummary.get(n);(!o||e.time>o.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,o=[];this._keyframes.forEach((c,g)=>{let m=new Map([...this._backFill,...c]);m.forEach((_,C)=>{_===Xe?t.add(C):_===me&&e.add(C)}),n||m.set("offset",g/this.duration),o.push(m)});let i=[...t.values()],l=[...e.values()];if(n){let c=o[0],g=new Map(c);c.set("offset",0),g.set("offset",1),o=[c,g]}return Rn(this.element,o,i,l,this.duration,this.startTime,this.easing,!1)}},kn=class extends Ft{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,o,i,l,c=!1){super(t,e,l.delay),this.keyframes=n,this.preStyleProps=o,this.postStyleProps=i,this._stretchStartingKeyframe=c,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){let i=[],l=n+e,c=e/l,g=new Map(t[0]);g.set("offset",0),i.push(g);let m=new Map(t[0]);m.set("offset",po(c)),i.push(m);let _=t.length-1;for(let C=1;C<=_;C++){let I=new Map(t[C]),T=I.get("offset"),M=e+T*n;I.set("offset",po(M/l)),i.push(I)}n=l,e=0,o="",t=i}return Rn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,o,!0)}};function po(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function ii(r,t){let e=new Map,n;return r.forEach(o=>{if(o==="*"){n??=t.keys();for(let i of n)e.set(i,me)}else for(let[i,l]of o)e.set(i,l)}),e}function go(r,t,e,n,o,i,l,c,g,m,_,C,I){return{type:0,element:r,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:i,toState:n,toStyles:l,timelines:c,queriedElements:g,preStyleProps:m,postStyleProps:_,totalTime:C,errors:I}}var Pn={},Nt=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,o){return ai(this.ast.matchers,t,e,n,o)}buildStyles(t,e,n){let o=this._stateStyles.get("*");return t!==void 0&&(o=this._stateStyles.get(t?.toString())||o),o?o.buildStyles(e,n):new Map}build(t,e,n,o,i,l,c,g,m,_){let C=[],I=this.ast.options&&this.ast.options.params||Pn,T=c&&c.params||Pn,M=this.buildStyles(n,T,C),E=g&&g.params||Pn,R=this.buildStyles(o,E,C),U=new Set,H=new Map,te=new Map,W=o==="void",Fe={params:Po(E,I),delay:this.ast.options?.delay},he=_?[]:bo(t,e,this.ast.animation,i,l,M,R,Fe,m,C),ne=0;return he.forEach(re=>{ne=Math.max(re.duration+re.delay,ne)}),C.length?go(e,this._triggerName,n,o,W,M,R,[],[],H,te,ne,C):(he.forEach(re=>{let Se=re.element,Ne=ie(H,Se,new Set);re.preStyleProps.forEach(Ee=>Ne.add(Ee));let Vn=ie(te,Se,new Set);re.postStyleProps.forEach(Ee=>Vn.add(Ee)),Se!==e&&U.add(Se)}),go(e,this._triggerName,n,o,W,M,R,he,[...U.values()],H,te,ne))}};function ai(r,t,e,n,o){return r.some(i=>i(t,e,n,o))}function Po(r,t){let e=Me({},t);return Object.entries(r).forEach(([n,o])=>{o!=null&&(e[n]=o)}),e}var In=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,o=Po(t,this.defaultParams);return this.styles.styles.forEach(i=>{typeof i!="string"&&i.forEach((l,c)=>{l&&(l=He(l,o,e));let g=this.normalizer.normalizePropertyName(c,e);l=this.normalizer.normalizeStyleValue(c,g,l,e),n.set(c,l)})}),n}};function si(r,t,e){return new An(r,t,e)}var An=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(o=>{let i=o.options&&o.options.params||{};this.states.set(o.name,new In(o.style,i,n))}),mo(this.states,"true","1"),mo(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new Nt(t,o,this.states))}),this.fallbackTransition=li(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,o){return this.transitionFactories.find(l=>l.match(t,e,n,o))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function li(r,t,e){let n=[(l,c)=>!0],o={type:k.Sequence,steps:[],options:null},i={type:k.Transition,animation:o,matchers:n,options:null,queryCount:0,depCount:0};return new Nt(r,i,t)}function mo(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var ci=new nt,Dn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],o=[],i=vo(this._driver,e,n,o);if(n.length)throw Qr(n);this._animations.set(t,i)}_buildPlayer(t,e,n){let o=t.element,i=mn(this._normalizer,t.keyframes,e,n);return this._driver.animate(o,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let o=[],i=this._animations.get(t),l,c=new Map;if(i?(l=bo(this._driver,e,i,Cn,Ot,new Map,new Map,n,ci,o),l.forEach(_=>{let C=ie(c,_.element,new Map);_.postStyleProps.forEach(I=>C.set(I,null))})):(o.push(Gr()),l=[]),o.length)throw Wr(o);c.forEach((_,C)=>{_.forEach((I,T)=>{_.set(T,this._driver.computeStyle(C,T,me))})});let g=l.map(_=>{let C=c.get(_.element);return this._buildPlayer(_,new Map,C)}),m=be(g);return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Yr(t);return e}listen(t,e,n,o){let i=bt(e,"","","");return vt(this._getPlayer(t),n,i,o),()=>{}}command(t,e,n,o){if(n=="register"){this.register(t,o[0]);return}if(n=="create"){let l=o[0]||{};this.create(t,e,l);return}let i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t);break}}},uo="ng-animate-queued",di=".ng-animate-queued",On="ng-animate-disabled",pi=".ng-animate-disabled",gi="ng-star-inserted",mi=".ng-star-inserted",ui=[],Oo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fe="__ng_removed",rt=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),o=n?t.value:t;if(this.value=_i(o),n){let i=t,{value:l}=i,c=Kn(i,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(o=>{n[o]==null&&(n[o]=e[o])})}}},tt="void",Mn=new rt(tt),Fn=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,de(e,this._hostClassName)}listen(t,e,n,o){if(!this._triggers.has(e))throw Xr(n,e);if(n==null||n.length==0)throw Zr(e);if(!Ci(n))throw Jr(n,e);let i=ie(this._elementListeners,t,[]),l={name:e,phase:n,callback:o};i.push(l);let c=ie(this._engine.statesByElement,t,new Map);return c.has(e)||(de(t,Ze),de(t,Ze+"-"+e),c.set(e,Mn)),()=>{this._engine.afterFlush(()=>{let g=i.indexOf(l);g>=0&&i.splice(g,1),this._triggers.has(e)||c.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw eo(t);return e}trigger(t,e,n,o=!0){let i=this._getTrigger(e),l=new ot(this.id,e,t),c=this._engine.statesByElement.get(t);c||(de(t,Ze),de(t,Ze+"-"+e),this._engine.statesByElement.set(t,c=new Map));let g=c.get(e),m=new rt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&g&&m.absorbOptions(g.options),c.set(e,m),g||(g=Mn),!(m.value===tt)&&g.value===m.value){if(!bi(g.params,m.params)){let E=[],R=i.matchStyles(g.value,g.params,E),U=i.matchStyles(m.value,m.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{we(t,R),ue(t,U)})}return}let I=ie(this._engine.playersByElement,t,[]);I.forEach(E=>{E.namespaceId==this.id&&E.triggerName==e&&E.queued&&E.destroy()});let T=i.matchTransition(g.value,m.value,t,m.params),M=!1;if(!T){if(!o)return;T=i.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:g,toState:m,player:l,isFallbackTransition:M}),M||(de(t,uo),l.onStart(()=>{Qe(t,uo)})),l.onDone(()=>{let E=this.players.indexOf(l);E>=0&&this.players.splice(E,1);let R=this._engine.playersByElement.get(t);if(R){let U=R.indexOf(l);U>=0&&R.splice(U,1)}}),this.players.push(l),I.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Je,!0);n.forEach(o=>{if(o[fe])return;let i=this._engine.fetchNamespacesByElement(o);i.size?i.forEach(l=>l.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,n,o){let i=this._engine.statesByElement.get(t),l=new Map;if(i){let c=[];if(i.forEach((g,m)=>{if(l.set(m,g.value),this._triggers.has(m)){let _=this.trigger(t,m,tt,o);_&&c.push(_)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),n&&be(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let o=new Set;e.forEach(i=>{let l=i.name;if(o.has(l))return;o.add(l);let g=this._triggers.get(l).fallbackTransition,m=n.get(l)||Mn,_=new rt(tt),C=new ot(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:g,fromState:m,toState:_,player:C,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(n.totalAnimations){let i=n.players.length?n.playersByQueriedElement.get(t):[];if(i&&i.length)o=!0;else{let l=t;for(;l=l.parentNode;)if(n.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)n.markElementAsRemoved(this.id,t,!1,e);else{let i=t[fe];(!i||i===Oo)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){de(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let o=n.player;if(o.destroyed)return;let i=n.element,l=this._elementListeners.get(i);l&&l.forEach(c=>{if(c.name==n.triggerName){let g=bt(i,n.triggerName,n.fromState.value,n.toState.value);g._data=t,vt(n.player,c.phase,g,c.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(n)}),this._queue=[],e.sort((n,o)=>{let i=n.transition.ast.depCount,l=o.transition.ast.depCount;return i==0||l==0?i-l:this._engine.driver.containsElement(n.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Nn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Fn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,o=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,c=this.driver.getParentElement(e);for(;c;){let g=o.get(c);if(g){let m=n.indexOf(g);n.splice(m+1,0,t),l=!0;break}c=this.driver.getParentElement(c)}l||n.unshift(t)}else n.push(t);return o.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let o=this._namespaceLookup[t];o&&o.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let o=this._namespaceList.indexOf(n);o>=0&&this._namespaceList.splice(o,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let o of n.values())if(o.namespaceId){let i=this._fetchNamespace(o.namespaceId);i&&e.add(i)}}return e}trigger(t,e,n,o){if(Tt(e)){let i=this._fetchNamespace(t);if(i)return i.trigger(e,n,o),!0}return!1}insertNode(t,e,n,o){if(!Tt(e))return;let i=e[fe];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;let l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){let l=this._fetchNamespace(t);l&&l.insertNode(e,n)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),de(t,On)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qe(t,On))}removeNode(t,e,n){if(Tt(e)){let o=t?this._fetchNamespace(t):null;o?o.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let i=this.namespacesByHostElement.get(e);i&&i.id!==t&&i.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,o,i){this.collectedLeaveElements.push(e),e[fe]={namespaceId:t,setForRemoval:o,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:i}}listen(t,e,n,o,i){return Tt(e)?this._fetchNamespace(t).listen(e,n,o,i):()=>{}}_buildInstruction(t,e,n,o,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,o,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Je,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Mt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return be(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[fe];if(e&&e.setForRemoval){if(t[fe]=Oo,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(On)&&this.markElementAsDisabled(t,!1),this.driver.query(t,pi,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,o)=>this._balanceNamespaceList(n,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let o=this.collectedEnterElements[n];de(o,gi)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let o=0;o<n.length;o++)n[o]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let o=this.collectedLeaveElements[n];this.processLeaveNode(o)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?be(e).onDone(()=>{n.forEach(o=>o())}):n.forEach(o=>o())}}reportError(t){throw to(t)}_flushAnimations(t,e){let n=new nt,o=[],i=new Map,l=[],c=new Map,g=new Map,m=new Map,_=new Set;this.disabledNodes.forEach(P=>{_.add(P);let x=this.driver.query(P,di,!0);for(let w=0;w<x.length;w++)_.add(x[w])});let C=this.bodyNode,I=Array.from(this.statesByElement.keys()),T=_o(I,this.collectedEnterElements),M=new Map,E=0;T.forEach((P,x)=>{let w=Cn+E++;M.set(x,w),P.forEach(D=>de(D,w))});let R=[],U=new Set,H=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){let x=this.collectedLeaveElements[P],w=x[fe];w&&w.setForRemoval&&(R.push(x),U.add(x),w.hasAnimation?this.driver.query(x,mi,!0).forEach(D=>U.add(D)):H.add(x))}let te=new Map,W=_o(I,Array.from(U));W.forEach((P,x)=>{let w=Ot+E++;te.set(x,w),P.forEach(D=>de(D,w))}),t.push(()=>{T.forEach((P,x)=>{let w=M.get(x);P.forEach(D=>Qe(D,w))}),W.forEach((P,x)=>{let w=te.get(x);P.forEach(D=>Qe(D,w))}),R.forEach(P=>{this.processLeaveNode(P)})});let Fe=[],he=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(e).forEach(w=>{let D=w.player,Q=w.element;if(Fe.push(D),this.collectedEnterElements.length){let X=Q[fe];if(X&&X.setForMove){if(X.previousTriggersValues&&X.previousTriggersValues.has(w.triggerName)){let Te=X.previousTriggersValues.get(w.triggerName),le=this.statesByElement.get(w.element);if(le&&le.has(w.triggerName)){let it=le.get(w.triggerName);it.value=Te,le.set(w.triggerName,it)}}D.destroy();return}}let _e=!C||!this.driver.containsElement(C,Q),se=te.get(Q),Oe=M.get(Q),j=this._buildInstruction(w,n,Oe,se,_e);if(j.errors&&j.errors.length){he.push(j);return}if(_e){D.onStart(()=>we(Q,j.fromStyles)),D.onDestroy(()=>ue(Q,j.toStyles)),o.push(D);return}if(w.isFallbackTransition){D.onStart(()=>we(Q,j.fromStyles)),D.onDestroy(()=>ue(Q,j.toStyles)),o.push(D);return}let qn=[];j.timelines.forEach(X=>{X.stretchStartingKeyframe=!0,this.disabledNodes.has(X.element)||qn.push(X)}),j.timelines=qn,n.append(Q,j.timelines);let ko={instruction:j,player:D,element:Q};l.push(ko),j.queriedElements.forEach(X=>ie(c,X,[]).push(D)),j.preStyleProps.forEach((X,Te)=>{if(X.size){let le=g.get(Te);le||g.set(Te,le=new Set),X.forEach((it,an)=>le.add(an))}}),j.postStyleProps.forEach((X,Te)=>{let le=m.get(Te);le||m.set(Te,le=new Set),X.forEach((it,an)=>le.add(an))})});if(he.length){let P=[];he.forEach(x=>{P.push(no(x.triggerName,x.errors))}),Fe.forEach(x=>x.destroy()),this.reportError(P)}let ne=new Map,re=new Map;l.forEach(P=>{let x=P.element;n.has(x)&&(re.set(x,x),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,ne))}),o.forEach(P=>{let x=P.element;this._getPreviousPlayers(x,!1,P.namespaceId,P.triggerName,null).forEach(D=>{ie(ne,x,[]).push(D),D.destroy()})});let Se=R.filter(P=>Co(P,g,m)),Ne=new Map;ho(Ne,this.driver,H,m,me).forEach(P=>{Co(P,g,m)&&Se.push(P)});let Ee=new Map;T.forEach((P,x)=>{ho(Ee,this.driver,new Set(P),g,Xe)}),Se.forEach(P=>{let x=Ne.get(P),w=Ee.get(P);Ne.set(P,new Map([...x?.entries()??[],...w?.entries()??[]]))});let on=[],jn=[],Bn={};l.forEach(P=>{let{element:x,player:w,instruction:D}=P;if(n.has(x)){if(_.has(x)){w.onDestroy(()=>ue(x,D.toStyles)),w.disabled=!0,w.overrideTotalTime(D.totalTime),o.push(w);return}let Q=Bn;if(re.size>1){let se=x,Oe=[];for(;se=se.parentNode;){let j=re.get(se);if(j){Q=j;break}Oe.push(se)}Oe.forEach(j=>re.set(j,Q))}let _e=this._buildAnimation(w.namespaceId,D,ne,i,Ee,Ne);if(w.setRealPlayer(_e),Q===Bn)on.push(w);else{let se=this.playersByElement.get(Q);se&&se.length&&(w.parentPlayer=be(se)),o.push(w)}}else we(x,D.fromStyles),w.onDestroy(()=>ue(x,D.toStyles)),jn.push(w),_.has(x)&&o.push(w)}),jn.forEach(P=>{let x=i.get(P.element);if(x&&x.length){let w=be(x);P.setRealPlayer(w)}}),o.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<R.length;P++){let x=R[P],w=x[fe];if(Qe(x,Ot),w&&w.hasAnimation)continue;let D=[];if(c.size){let _e=c.get(x);_e&&_e.length&&D.push(..._e);let se=this.driver.query(x,Mt,!0);for(let Oe=0;Oe<se.length;Oe++){let j=c.get(se[Oe]);j&&j.length&&D.push(...j)}}let Q=D.filter(_e=>!_e.destroyed);Q.length?yi(this,x,Q):this.processLeaveNode(x)}return R.length=0,on.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();let x=this.players.indexOf(P);this.players.splice(x,1)}),P.play()}),on}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,o,i){let l=[];if(e){let c=this.playersByQueriedElement.get(t);c&&(l=c)}else{let c=this.playersByElement.get(t);if(c){let g=!i||i==tt;c.forEach(m=>{m.queued||!g&&m.triggerName!=o||l.push(m)})}}return(n||o)&&(l=l.filter(c=>!(n&&n!=c.namespaceId||o&&o!=c.triggerName))),l}_beforeAnimationBuild(t,e,n){let o=e.triggerName,i=e.element,l=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:o;for(let g of e.timelines){let m=g.element,_=m!==i,C=ie(n,m,[]);this._getPreviousPlayers(m,_,l,c,e.toState).forEach(T=>{let M=T.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),T.destroy(),C.push(T)})}we(i,e.fromStyles)}_buildAnimation(t,e,n,o,i,l){let c=e.triggerName,g=e.element,m=[],_=new Set,C=new Set,I=e.timelines.map(M=>{let E=M.element;_.add(E);let R=E[fe];if(R&&R.removedBeforeQueried)return new ve(M.duration,M.delay);let U=E!==g,H=vi((n.get(E)||ui).map(ne=>ne.getRealPlayer())).filter(ne=>{let re=ne;return re.element?re.element===E:!1}),te=i.get(E),W=l.get(E),Fe=mn(this._normalizer,M.keyframes,te,W),he=this._buildPlayer(M,Fe,H);if(M.subTimeline&&o&&C.add(E),U){let ne=new ot(t,c,E);ne.setRealPlayer(he),m.push(ne)}return he});m.forEach(M=>{ie(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>hi(this.playersByQueriedElement,M.element,M))}),_.forEach(M=>de(M,yn));let T=be(I);return T.onDestroy(()=>{_.forEach(M=>Qe(M,yn)),ue(g,e.toStyles)}),C.forEach(M=>{ie(o,M,[]).push(T)}),T}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ve(t.duration,t.delay)}},ot=class{namespaceId;triggerName;element;_player=new ve;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(o=>vt(t,n,void 0,o))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ie(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function hi(r,t,e){let n=r.get(t);if(n){if(n.length){let o=n.indexOf(e);n.splice(o,1)}n.length==0&&r.delete(t)}return n}function _i(r){return r??null}function Tt(r){return r&&r.nodeType===1}function Ci(r){return r=="start"||r=="done"}function fo(r,t){let e=r.style.display;return r.style.display=t??"none",e}function ho(r,t,e,n,o){let i=[];e.forEach(g=>i.push(fo(g)));let l=[];n.forEach((g,m)=>{let _=new Map;g.forEach(C=>{let I=t.computeStyle(m,C,o);_.set(C,I),(!I||I.length==0)&&(m[fe]=fi,l.push(m))}),r.set(m,_)});let c=0;return e.forEach(g=>fo(g,i[c++])),l}function _o(r,t){let e=new Map;if(r.forEach(c=>e.set(c,[])),t.length==0)return e;let n=1,o=new Set(t),i=new Map;function l(c){if(!c)return n;let g=i.get(c);if(g)return g;let m=c.parentNode;return e.has(m)?g=m:o.has(m)?g=n:g=l(m),i.set(c,g),g}return t.forEach(c=>{let g=l(c);g!==n&&e.get(g).push(c)}),e}function de(r,t){r.classList?.add(t)}function Qe(r,t){r.classList?.remove(t)}function yi(r,t,e){be(e).onDone(()=>r.processLeaveNode(t))}function vi(r){let t=[];return Mo(r,t),t}function Mo(r,t){for(let e=0;e<r.length;e++){let n=r[e];n instanceof $e?Mo(n.players,t):t.push(n)}}function bi(r,t){let e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let o=0;o<e.length;o++){let i=e[o];if(!t.hasOwnProperty(i)||r[i]!==t[i])return!1}return!0}function Co(r,t,e){let n=e.get(r);if(!n)return!1;let o=t.get(r);return o?n.forEach(i=>o.add(i)):t.set(r,n),e.delete(r),!0}var Ge=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new Nn(t.body,e,n),this._timelineEngine=new Dn(t.body,e,n),this._transitionEngine.onRemovalComplete=(o,i)=>this.onRemovalComplete(o,i)}registerTrigger(t,e,n,o,i){let l=t+"-"+o,c=this._triggerCache[l];if(!c){let g=[],m=[],_=vo(this._driver,i,g,m);if(g.length)throw Hr(o,g);c=si(o,_,this._normalizer),this._triggerCache[l]=c}this._transitionEngine.registerTrigger(e,o,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,o){this._transitionEngine.insertNode(t,e,n,o)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,o){if(n.charAt(0)=="@"){let[i,l]=un(n),c=o;this._timelineEngine.command(i,e,l,c)}else this._transitionEngine.trigger(t,e,n,o)}listen(t,e,n,o,i){if(n.charAt(0)=="@"){let[l,c]=un(n);return this._timelineEngine.listen(l,e,c,i)}return this._transitionEngine.listen(t,e,n,o,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Pi(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=xn(t[0]),t.length>1&&(n=xn(t[t.length-1]))):t instanceof Map&&(e=xn(t)),e||n?new Oi(r,e,n):null}var Oi=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,o){this._element=e,this._startStyles=n,this._endStyles=o;let i=r.initialStylesByElement.get(e);i||r.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ue(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ue(this._element,this._initialStyles),this._endStyles&&(ue(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(we(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),ue(this._element,this._initialStyles),this._state=3)}}return r})();function xn(r){let t=null;return r.forEach((e,n)=>{Mi(n)&&(t=t||new Map,t.set(n,e))}),t}function Mi(r){return r==="display"||r==="position"}var Lt=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,o){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=o,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,o)=>{o!=="offset"&&t.set(o,this._finished?n:wt(this.element,o))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},zt=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return fn(t,e)}getParentElement(t){return Pt(t)}query(t,e,n){return hn(t,e,n)}computeStyle(t,e,n){return wt(t,e)}animate(t,e,n,o,i,l=[]){let c=o==0?"both":"forwards",g={duration:n,delay:o,fill:c};i&&(g.easing=i);let m=new Map,_=l.filter(T=>T instanceof Lt);ao(n,o)&&_.forEach(T=>{T.currentSnapshot.forEach((M,E)=>m.set(E,M))});let C=oo(e).map(T=>new Map(T));C=so(t,C,m);let I=Pi(t,C);return new Lt(t,C,g,I)}};var kt="@",xo="@.disabled",Rt=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,o){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=o}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,o=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,n,o){if(o){this.delegate.removeChild(t,e,n);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,o){this.delegate.setAttribute(t,e,n,o)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,o){this.delegate.setStyle(t,e,n,o)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==kt&&e==xo?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,o){return this.delegate.listen(t,e,n,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Ln=class extends Rt{factory;constructor(t,e,n,o,i){super(e,n,o,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==kt?e.charAt(1)=="."&&e==xo?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,o){if(e.charAt(0)==kt){let i=xi(t),l=e.slice(1),c="";return l.charAt(0)!=kt&&([l,c]=wi(l)),this.engine.listen(this.namespaceId,i,l,c,g=>{let m=g._data||-1;this.factory.scheduleListenerCallback(m,n,g)})}return this.delegate.listen(t,e,n,o)}};function xi(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function wi(r){let t=r.indexOf("."),e=r.substring(0,t),n=r.slice(t+1);return[e,n]}var Vt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(o,i)=>{i?.removeChild(null,o)}}createRenderer(t,e){let o=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let m=this._rendererCache,_=m.get(o);if(!_){let C=()=>m.delete(o);_=new Rt("",o,this.engine,C),m.set(o,_)}return _}let i=e.id,l=e.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);let c=m=>{Array.isArray(m)?m.forEach(c):this.engine.registerTrigger(i,l,t,m.name,m)};return e.data.animation.forEach(c),new Ln(this,l,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let o=this._animationCallbacksBuffer;o.length==0&&queueMicrotask(()=>{this._zone.run(()=>{o.forEach(i=>{let[l,c]=i;l(c)}),this._animationCallbacksBuffer=[]})}),o.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Ei=(()=>{class r extends Ge{constructor(e,n,o){super(e,n,o)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(Y(Xn),Y(Ae),Y(De))};static \u0275prov=oe({token:r,factory:r.\u0275fac})}return r})();function Ti(){return new It}function ki(r,t,e){return new Vt(r,t,e)}var wo=[{provide:De,useFactory:Ti},{provide:Ge,useClass:Ei},{provide:tr,useFactory:ki,deps:[mr,Ge,er]}],As=[{provide:Ae,useClass:zn},{provide:sn,useValue:"NoopAnimations"},...wo],Ii=[{provide:Ae,useFactory:()=>new zt},{provide:sn,useFactory:()=>"BrowserAnimations"},...wo];function jt(){return Jn("NgEagerAnimations"),[...Ii]}function Ai(r,t){if(r&1&&(a(0,"div",43),d(1),s()),r&2){let e=u();p(),S(e.error)}}var Bt=class r{constructor(t,e,n){this.fb=t;this.auth=e;this.router=n;this.form=this.fb.group({slug_name:["",ln.required],password:["",ln.required]})}form;loading=!1;error="";showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}submit(){if(this.form.invalid)return;this.loading=!0,this.error="";let{slug_name:t,password:e}=this.form.value;this.auth.login(t,e).subscribe({next:n=>{if(this.loading=!1,console.log("Login Response:",n),n?.data?.user_detail?.payment_method==="1"){this.error="Payment expired. Please Contact Admin.";return}let l=n?.token||n?.access_token||n?.auth_token||n?.data?.token||n?.data?.access_token||n?.data?.auth_token;if(l){sessionStorage.setItem("auth_token",l),this.auth.isOwner()?this.router.navigate(["/pos"]):this.router.navigate(["/dashboard"]);return}if(n?.success){this.auth.isOwner()?this.router.navigate(["/pos"]):this.router.navigate(["/dashboard"]);return}this.error="Invalid login response"},error:n=>{this.loading=!1,this.error=n?.error?.message||"Invalid credentials"}})}static \u0275fac=function(e){return new(e||r)(N(wr),N(z),N(q))};static \u0275cmp=V({type:r,selectors:[["app-login"]],decls:47,vars:7,consts:[[1,"login-container"],[1,"pos-icons-container"],[1,"pos-icon","pos-icon-1"],[1,"fas","fa-cash-register"],[1,"pos-icon","pos-icon-2"],[1,"fas","fa-credit-card"],[1,"pos-icon","pos-icon-3"],[1,"fas","fa-receipt"],[1,"pos-icon","pos-icon-4"],[1,"fas","fa-barcode"],[1,"pos-icon","pos-icon-5"],[1,"fas","fa-shopping-cart"],[1,"pos-icon","pos-icon-6"],[1,"fas","fa-coins"],[1,"pos-icon","pos-icon-7"],[1,"fas","fa-calculator"],[1,"pos-icon","pos-icon-8"],[1,"fas","fa-tag"],[1,"pos-icon","pos-icon-9"],[1,"fas","fa-wallet"],[1,"pos-icon","pos-icon-10"],[1,"fas","fa-money-bill"],[1,"pos-icon","pos-icon-11"],[1,"fas","fa-store"],[1,"pos-icon","pos-icon-12"],[1,"fas","fa-cart-plus"],[1,"pos-brand"],["src","assets/images/sling-logo.png","alt","POS Logo",2,"width","280px"],[1,"login-card"],[1,"login-title"],[1,"login-underline"],[3,"ngSubmit","formGroup"],[1,"input-group"],[1,"far","fa-user","input-icon"],["type","text","formControlName","slug_name","placeholder","Enter User Name",1,"form-input"],[1,"fas","fa-shield-alt","input-icon"],["formControlName","password","placeholder","Password",1,"form-input",3,"type"],[1,"eye-icon",3,"click"],[1,"forgot-password"],["href","#"],["type","submit",1,"login-btn",3,"disabled"],[1,"fas","fa-arrow-right"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),h(3,"i",3),s(),a(4,"div",4),h(5,"i",5),s(),a(6,"div",6),h(7,"i",7),s(),a(8,"div",8),h(9,"i",9),s(),a(10,"div",10),h(11,"i",11),s(),a(12,"div",12),h(13,"i",13),s(),a(14,"div",14),h(15,"i",15),s(),a(16,"div",16),h(17,"i",17),s(),a(18,"div",18),h(19,"i",19),s(),a(20,"div",20),h(21,"i",21),s(),a(22,"div",22),h(23,"i",23),s(),a(24,"div",24),h(25,"i",25),s()(),a(26,"div",26),h(27,"img",27),s(),a(28,"div",28)(29,"h2",29),d(30,"Login"),s(),h(31,"div",30),a(32,"form",31),y("ngSubmit",function(){return n.submit()}),a(33,"div",32),h(34,"i",33)(35,"input",34),s(),a(36,"div",32),h(37,"i",35)(38,"input",36),a(39,"i",37),y("click",function(){return n.togglePasswordVisibility()}),s()(),a(40,"div",38)(41,"a",39),d(42,"Forgot Password ?"),s()(),a(43,"button",40),d(44),h(45,"i",41),s(),O(46,Ai,2,1,"div",42),s()()()),e&2&&(p(32),f("formGroup",n.form),p(6),f("type",n.showPassword?"text":"password"),p(),Le(n.showPassword?"fas fa-eye-slash":"fas fa-eye"),p(4),f("disabled",n.loading),p(),L(" ",n.loading?"Logging in...":"Login"," "),p(2),f("ngIf",n.error))},dependencies:[B,$,Sr,Or,qe,Ke,Pr,Mr,xr],styles:['.login-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;background:linear-gradient(135deg,var(--color-primary-bg-light) 0%,var(--color-neutral-300) 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}.back-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;z-index:10}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:var(--color-neutral-600);cursor:pointer;transition:color .3s ease}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--color-neutral-800)}.pos-icons-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.pos-icon[_ngcontent-%COMP%]{position:absolute;opacity:1;color:var(--color-primary-bg)}.pos-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.pos-icon-1[_ngcontent-%COMP%]{top:15%;left:10%;animation-delay:0s}.pos-icon-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px}.pos-icon-2[_ngcontent-%COMP%]{top:20%;right:15%;animation-delay:-5s}.pos-icon-2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.pos-icon-3[_ngcontent-%COMP%]{top:60%;left:20%;animation-delay:-10s}.pos-icon-3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.pos-icon-4[_ngcontent-%COMP%]{top:70%;right:25%;animation-delay:-15s}.pos-icon-4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px}.pos-icon-5[_ngcontent-%COMP%]{top:35%;left:5%;animation-delay:-20s}.pos-icon-5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px}.pos-icon-6[_ngcontent-%COMP%]{top:45%;right:8%;animation-delay:-25s}.pos-icon-6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.pos-icon-7[_ngcontent-%COMP%]{top:10%;right:35%;animation-delay:-30s}.pos-icon-7[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.pos-icon-8[_ngcontent-%COMP%]{top:55%;right:40%;animation-delay:-35s}.pos-icon-8[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.pos-icon-9[_ngcontent-%COMP%]{top:80%;left:8%;animation-delay:-40s}.pos-icon-9[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px}.pos-icon-10[_ngcontent-%COMP%]{top:25%;left:45%;animation-delay:-45s}.pos-icon-10[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.pos-icon-11[_ngcontent-%COMP%]{top:85%;right:10%;animation-delay:-50s}.pos-icon-11[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.pos-icon-12[_ngcontent-%COMP%]{top:40%;left:65%;animation-delay:-55s}.pos-icon-12[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0);opacity:.15}25%{transform:translateY(-15px) rotate(5deg);opacity:.25}50%{transform:translateY(0) rotate(0);opacity:.15}75%{transform:translateY(-8px) rotate(-5deg);opacity:.2}}.pos-brand[_ngcontent-%COMP%]{position:absolute;top:100px;text-align:center;z-index:2}.pos-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:var(--color-primary-bg);margin-bottom:10px;display:block}.pos-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:var(--color-primary-bg);margin:0;text-shadow:0 2px 4px var(--shadow-xxs)}.login-card[_ngcontent-%COMP%]{background:var(--color-neutral-100);border-radius:16px;padding:30px;width:320px;box-shadow:0 8px 32px var(--shadow-xxs);position:relative;z-index:2;margin-top:80px}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--color-neutral-800);margin:0 0 8px;text-align:left}.login-underline[_ngcontent-%COMP%]{width:40px;height:3px;background:var(--color-primary-bg);margin-bottom:25px}.nfc-login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid var(--color-primary-bg);background:var(--color-neutral-100);color:var(--color-primary-bg);border-radius:25px;font-size:14px;font-weight:500;margin-bottom:20px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.nfc-login-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg);color:var(--color-primary-text)}.nfc-login-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.divider[_ngcontent-%COMP%]{text-align:center;margin:20px 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:var(--color-neutral-400)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--color-neutral-100);padding:0 15px;color:var(--color-neutral-600);font-size:12px;position:relative;z-index:1}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.input-group[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:var(--color-neutral-600);font-size:14px;z-index:1}.input-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:50%;transform:translateY(-50%);color:var(--color-neutral-600);font-size:16px;cursor:pointer;z-index:1;transition:all .3s ease;padding:2px;border-radius:4px}.input-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]:hover{color:var(--color-primary-bg);background:#f8931d1a;transform:translateY(-50%) scale(1.1)}.input-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]:active{color:var(--color-secondary-bg);background:#19ad9f1a;transform:translateY(-50%) scale(.95)}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px;border:1px solid var(--color-neutral-400);border-radius:8px;font-size:14px;background:var(--color-neutral-200);transition:all .3s ease;box-sizing:border-box}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg);background:var(--color-neutral-100)}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-600)}.forgot-password[_ngcontent-%COMP%]{text-align:center;margin:16px 0 24px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary-bg);text-decoration:none;font-size:13px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:var(--color-primary-bg);color:var(--color-primary-text);border:none;border-radius:25px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:16px}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-secondary-bg);transform:translateY(-1px)}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled)   i[_ngcontent-%COMP%]{transform:translate(5px)}.login-btn[_ngcontent-%COMP%]:disabled{background:var(--color-neutral-500);cursor:not-allowed;transform:none}.login-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease}.error-message[_ngcontent-%COMP%]{background:var(--color-danger-bg);color:var(--color-neutral-800);padding:10px;border-radius:6px;text-align:center;font-size:13px;border:1px solid var(--color-danger-border)}']})};var qt=class r{constructor(t){this.http=t}url=`${ee.apiBase}/pos/product`;list(t){let e={};return t&&(t.category&&(e.category=t.category),t.sub_category&&(e.sub_category=t.sub_category),t.product&&(e.product=t.product),t.filter&&(e.filter=t.filter),t.page&&(e.page=t.page.toString()),t.per_page&&(e.per_page=t.per_page.toString())),this.http.get(this.url,{params:e})}getById(t){let e=`${ee.apiBase}/pos/${t}/get_product_detail`;return this.http.get(e).pipe(Qn(n=>{let o=n&&n.data?n.data:n;return o?.product?o.product:o}),Wn(()=>this.searchPagesForId(t)))}searchPagesForId(t){let e=this.url;return new Hn(n=>{let o=i=>{this.http.get(i).subscribe({next:l=>{let c=l&&l.data?l.data:Array.isArray(l)?l:[];if(Array.isArray(c)){let m=c.find(_=>{let C=_?.product?_.product:_;return String(C?.id)===String(t)||C?.unique_id===t||C?.unique_number===t});if(m){let _=m?.product?m.product:m;n.next(_),n.complete();return}}let g=l?.next_page_url||l?.links?.find?.(m=>m?.label?.toString().includes("Next"))?.url;g?o(g):n.error(new Error("Product not found"))},error:l=>{n.error(l)}})};o(e)})}resolveImageUrl(t){if(!t)return null;try{return/^https?:\/\//i.test(t)?t:`${ee.assetsBase.replace(/\/$/,"")}/${t.replace(/^\//,"")}`}catch{return null}}static \u0275fac=function(e){return new(e||r)(Y(ut))};static \u0275prov=oe({token:r,factory:r.\u0275fac,providedIn:"root"})};var Li=(r,t)=>({"qty-warning":r,"qty-danger":t});function zi(r,t){if(r&1){let e=A();a(0,"button",21),y("click",function(){v(e);let o=u();return b(o.clearSearch())}),a(1,"i",22),d(2,"\u2715"),s()()}}function Ri(r,t){if(r&1&&(a(0,"span",23),d(1),s()),r&2){let e=u();p(),L(" ",(e.selectedCategory?1:0)+(e.selectedSubCategory?1:0)," ")}}function Vi(r,t){if(r&1){let e=A();a(0,"span",32),d(1),a(2,"button",33),y("click",function(){v(e);let o=u(3);return b(o.clearCategoryFilter())}),d(3,"\u2715"),s()()}if(r&2){let e=u(3);p(),L(" ",e.selectedCategory.name," ")}}function ji(r,t){if(r&1){let e=A();a(0,"span",34),d(1),a(2,"button",33),y("click",function(){v(e);let o=u(3);return b(o.clearSubCategoryFilter())}),d(3,"\u2715"),s()()}if(r&2){let e=u(3);p(),L(" ",e.selectedSubCategory.name," ")}}function Bi(r,t){if(r&1&&(a(0,"div",28)(1,"span",29),d(2,"Active Filters:"),s(),O(3,Vi,4,1,"span",30)(4,ji,4,1,"span",31),s()),r&2){let e=u(2);p(3),f("ngIf",e.selectedCategory),p(),f("ngIf",e.selectedSubCategory)}}function qi(r,t){if(r&1&&(a(0,"div",24)(1,"div",25)(2,"span",26),d(3),s()(),O(4,Bi,5,2,"div",27),s()),r&2){let e=u();p(3),dt("Showing ",e.filteredProducts.length," of ",e.totalItems," products (Page ",e.currentPage," of ",e.totalPages,")"),p(),f("ngIf",e.selectedCategory||e.selectedSubCategory)}}function Ki(r,t){r&1&&(a(0,"span",56),d(1,"Select Category"),s())}function $i(r,t){if(r&1&&(a(0,"span",57),d(1),s()),r&2){let e=u(2);p(),S(e.selectedCategory.name)}}function Ui(r,t){if(r&1){let e=A();a(0,"button",69),y("click",function(o){return v(e),u(3).clearCategorySearch(),b(o.stopPropagation())}),K(),a(1,"svg",40),h(2,"line",41)(3,"line",42),s()()}}function Hi(r,t){r&1&&(K(),a(0,"svg",70),h(1,"polyline",71),s())}function Qi(r,t){r&1&&(K(),a(0,"svg",70),h(1,"polyline",71),s())}function Gi(r,t){if(r&1){let e=A();a(0,"div",64),y("click",function(o){let i=v(e).$implicit;return u(3).selectCategory(i),b(o.stopPropagation())}),a(1,"span",65),d(2),s(),O(3,Qi,2,0,"svg",66),s()}if(r&2){let e=t.$implicit,n=u(3);Z("selected",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id),p(2),S(e.name),p(),f("ngIf",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id)}}function Wi(r,t){if(r&1&&(a(0,"div",72),d(1),s()),r&2){let e=u(3);p(),L(' No categories found matching "',e.categorySearchTerm,'" ')}}function Yi(r,t){if(r&1){let e=A();a(0,"div",58)(1,"div",59)(2,"div",60),K(),a(3,"svg",61),h(4,"circle",4)(5,"path",5),s(),ce(),a(6,"input",62),Ve("ngModelChange",function(o){v(e);let i=u(2);return Re(i.categorySearchTerm,o)||(i.categorySearchTerm=o),b(o)}),y("input",function(){v(e);let o=u(2);return b(o.onCategorySearch())})("click",function(o){return v(e),b(o.stopPropagation())}),s(),O(7,Ui,4,0,"button",63),s()(),a(8,"div",64),y("click",function(o){return v(e),u(2).selectCategory(null),b(o.stopPropagation())}),a(9,"span",65),d(10,"All Categories"),s(),O(11,Hi,2,0,"svg",66),s(),O(12,Gi,4,4,"div",67)(13,Wi,2,1,"div",68),s()}if(r&2){let e=u(2);p(6),ze("ngModel",e.categorySearchTerm),p(),f("ngIf",e.categorySearchTerm),p(),Z("selected",!e.selectedCategory),p(3),f("ngIf",!e.selectedCategory),p(),f("ngForOf",e.filteredCategories),p(),f("ngIf",e.categorySearchTerm&&e.filteredCategories.length===0)}}function Xi(r,t){if(r&1&&(a(0,"span",56),d(1),s()),r&2){let e=u(2);p(),L(" ",e.selectedCategory?"Select Sub-Category":"Select category first"," ")}}function Zi(r,t){if(r&1&&(a(0,"span",57),d(1),s()),r&2){let e=u(2);p(),S(e.selectedSubCategory.name)}}function Ji(r,t){if(r&1){let e=A();a(0,"button",69),y("click",function(o){return v(e),u(3).clearSubCategorySearch(),b(o.stopPropagation())}),K(),a(1,"svg",40),h(2,"line",41)(3,"line",42),s()()}}function ea(r,t){r&1&&(K(),a(0,"svg",70),h(1,"polyline",71),s())}function ta(r,t){r&1&&(K(),a(0,"svg",70),h(1,"polyline",71),s())}function na(r,t){if(r&1){let e=A();a(0,"div",64),y("click",function(o){let i=v(e).$implicit;return u(3).selectSubCategory(i),b(o.stopPropagation())}),a(1,"span",65),d(2),s(),O(3,ta,2,0,"svg",66),s()}if(r&2){let e=t.$implicit,n=u(3);Z("selected",(n.selectedSubCategory==null?null:n.selectedSubCategory.id)===e.id),p(2),S(e.name),p(),f("ngIf",(n.selectedSubCategory==null?null:n.selectedSubCategory.id)===e.id)}}function ra(r,t){if(r&1&&(a(0,"div",72),d(1),s()),r&2){let e=u(3);p(),L(' No sub-categories found matching "',e.subCategorySearchTerm,'" ')}}function oa(r,t){if(r&1){let e=A();a(0,"div",58)(1,"div",59)(2,"div",60),K(),a(3,"svg",61),h(4,"circle",4)(5,"path",5),s(),ce(),a(6,"input",73),Ve("ngModelChange",function(o){v(e);let i=u(2);return Re(i.subCategorySearchTerm,o)||(i.subCategorySearchTerm=o),b(o)}),y("input",function(){v(e);let o=u(2);return b(o.onSubCategorySearch())})("click",function(o){return v(e),b(o.stopPropagation())}),s(),O(7,Ji,4,0,"button",63),s()(),a(8,"div",64),y("click",function(o){return v(e),u(2).selectSubCategory(null),b(o.stopPropagation())}),a(9,"span",65),d(10,"All Sub-Categories"),s(),O(11,ea,2,0,"svg",66),s(),O(12,na,4,4,"div",67)(13,ra,2,1,"div",68),s()}if(r&2){let e=u(2);p(6),ze("ngModel",e.subCategorySearchTerm),p(),f("ngIf",e.subCategorySearchTerm),p(),Z("selected",!e.selectedSubCategory),p(3),f("ngIf",!e.selectedSubCategory),p(),f("ngForOf",e.filteredSubCategories),p(),f("ngIf",e.subCategorySearchTerm&&e.filteredSubCategories.length===0)}}function ia(r,t){if(r&1){let e=A();a(0,"div",35),y("click",function(){v(e);let o=u();return b(o.closeFilterModal())}),a(1,"div",36),y("click",function(o){return v(e),b(o.stopPropagation())}),a(2,"div",37)(3,"h3",38),d(4,"Filter Products"),s(),a(5,"button",39),y("click",function(){v(e);let o=u();return b(o.closeFilterModal())}),K(),a(6,"svg",40),h(7,"line",41)(8,"line",42),s()()(),ce(),a(9,"div",43)(10,"div",44)(11,"label",45),d(12,"Category"),s(),a(13,"div",46),y("click",function(){v(e);let o=u();return b(o.toggleCategoryDropdown())}),a(14,"div",47),O(15,Ki,2,0,"span",48)(16,$i,2,1,"span",49),K(),a(17,"svg",50),h(18,"polyline",51),s()(),O(19,Yi,14,7,"div",52),s()(),ce(),a(20,"div",44)(21,"label",45),d(22,"Sub-Category"),s(),a(23,"div",46),y("click",function(){v(e);let o=u();return b(o.selectedCategory&&o.toggleSubCategoryDropdown())}),a(24,"div",47),O(25,Xi,2,1,"span",48)(26,Zi,2,1,"span",49),K(),a(27,"svg",50),h(28,"polyline",51),s()(),O(29,oa,14,7,"div",52),s()()(),ce(),a(30,"div",53)(31,"button",54),y("click",function(){v(e);let o=u();return b(o.clearAllFilters())}),d(32," Clear All "),s(),a(33,"button",55),y("click",function(){v(e);let o=u();return b(o.applyFilters())}),d(34," Apply Filters "),s()()()()}if(r&2){let e=u();p(15),f("ngIf",!e.selectedCategory),p(),f("ngIf",e.selectedCategory),p(),Z("open",e.showCategoryDropdown),p(2),f("ngIf",e.showCategoryDropdown),p(4),Z("disabled",!e.selectedCategory),p(2),f("ngIf",!e.selectedSubCategory),p(),f("ngIf",e.selectedSubCategory),p(),Z("open",e.showSubCategoryDropdown),p(2),f("ngIf",e.showSubCategoryDropdown&&e.selectedCategory)}}function aa(r,t){r&1&&(a(0,"div",74),h(1,"div",75),a(2,"div",76),d(3,"Loading POS items..."),s()())}function sa(r,t){if(r&1){let e=A();a(0,"button",81),y("click",function(){v(e);let o=u(2);return b(o.goToLogin())}),d(1," Go to Login "),s()}}function la(r,t){if(r&1){let e=A();a(0,"button",81),y("click",function(){v(e);let o=u(2);return b(o.fetchProducts())}),d(1," Retry "),s()}}function ca(r,t){if(r&1&&(a(0,"div",77)(1,"div",78),d(2,"\u26A0\uFE0F"),s(),a(3,"div",79),d(4),s(),O(5,sa,2,0,"button",80)(6,la,2,0,"button",80),s()),r&2){let e=u();p(4),S(e.error),p(),f("ngIf",e.error.includes("Unauthenticated")||e.error.includes("authenticated")),p(),f("ngIf",!e.error.includes("Unauthenticated")&&!e.error.includes("authenticated"))}}function da(r,t){if(r&1){let e=A();a(0,"li",84),y("click",function(){let o=v(e).$implicit,i=u(2);return b(i.addToCart(o))}),a(1,"div",85)(2,"div",86)(3,"div",87),d(4),s()(),a(5,"div",86)(6,"div",88),d(7),s()(),a(8,"div",86)(9,"div",87),d(10,"Rs. "),a(11,"strong"),d(12),s()(),a(13,"div",89),d(14),a(15,"span"),d(16,"Qty"),s()()()()()}if(r&2){let e=t.$implicit;f("ngClass",cr(7,Li,e.quantity>0&&e.quantity<5,e.quantity===0)),p(4),Ye("",e.product.name," (",e.product.code,")"),p(3),Ye("",e.product.category.name," \u2022 ",e.product.sub_category.name," "),p(5),S(e.product.price),p(2),L("",e.quantity," ")}}function pa(r,t){if(r&1&&(a(0,"ul",82),O(1,da,17,10,"li",83),s()),r&2){let e=u();p(),f("ngForOf",e.filteredProducts)}}function ga(r,t){if(r&1){let e=A();a(0,"button",106),y("click",function(){let o=v(e).$implicit,i=u(2);return b(i.goToPage(o))}),d(1),s()}if(r&2){let e=t.$implicit,n=u(2);Z("active",e===n.currentPage),p(),L(" ",e," ")}}function ma(r,t){if(r&1){let e=A();a(0,"div",90)(1,"div",91)(2,"span",92),d(3),s()(),a(4,"div",93)(5,"button",94),y("click",function(){v(e);let o=u();return b(o.goToFirstPage())}),K(),a(6,"svg",40),h(7,"polyline",95)(8,"polyline",96),s()(),ce(),a(9,"button",97),y("click",function(){v(e);let o=u();return b(o.goToPreviousPage())}),K(),a(10,"svg",40),h(11,"polyline",98),s()(),ce(),a(12,"div",99),O(13,ga,2,3,"button",100),s(),a(14,"button",101),y("click",function(){v(e);let o=u();return b(o.goToNextPage())}),K(),a(15,"svg",40),h(16,"polyline",102),s()(),ce(),a(17,"button",103),y("click",function(){v(e);let o=u();return b(o.goToLastPage())}),K(),a(18,"svg",40),h(19,"polyline",104)(20,"polyline",105),s()()()()}if(r&2){let e=u();p(3),ct(" Showing ",(e.currentPage-1)*e.safeItemsPerPage+1," to ",e.Math.min(e.currentPage*e.safeItemsPerPage,e.totalItems)," of ",e.totalItems," products "),p(2),f("disabled",e.currentPage===1),p(4),f("disabled",e.currentPage===1),p(4),f("ngForOf",e.getPageNumbers()),p(),f("disabled",e.currentPage===e.totalPages),p(3),f("disabled",e.currentPage===e.totalPages)}}function ua(r,t){if(r&1){let e=A();a(0,"div",107)(1,"div",108),d(2,"\u{1F4E6}"),s(),a(3,"div",109),d(4,"No POS Items Found"),s(),a(5,"div",110),d(6,"There are currently no products available in the system."),s(),a(7,"button",81),y("click",function(){v(e);let o=u();return b(o.fetchProducts())}),d(8,"Refresh"),s()()}}function fa(r,t){if(r&1){let e=A();a(0,"div",111)(1,"div",112),d(2,"\u{1F50D}"),s(),a(3,"div",113),d(4,"No Results Found"),s(),a(5,"div",114),d(6),s(),a(7,"button",115),y("click",function(){v(e);let o=u();return b(o.clearSearch())}),d(8,"Clear Search"),s()()}if(r&2){let e=u();p(6),L('No products found matching "',e.searchTerm,'"')}}var Kt=class r{constructor(t,e,n,o){this.productService=t;this.auth=e;this.cart=n;this.router=o}products=[];filteredProducts=[];loading=!1;error=null;username=null;userEmail=null;logoUrl=null;currentPage=1;totalPages=1;itemsPerPage=null;totalItems=0;paginationData=null;apiConfig={productPaths:["data.data","data","items","results","products"],currentPageFields:["current_page","currentPage","page"],totalPagesFields:["last_page","lastPage","totalPages","total_pages"],itemsPerPageFields:["per_page","perPage","pageSize","page_size","limit"],totalItemsFields:["total","totalItems","total_items","count"]};searchTerm="";searchTimeout;showFilterModal=!1;showCategoryDropdown=!1;showSubCategoryDropdown=!1;categories=[];subCategories=[];filteredCategories=[];filteredSubCategories=[];selectedCategory=null;selectedSubCategory=null;categorySearchTerm="";subCategorySearchTerm="";placeholderUrl=`${ee.assetsBase.replace(/\/$/,"")}/no-image-icon.jpg`;Math=Math;subs=null;ngOnInit(){this.subs=this.auth.user$.subscribe(t=>{this.username=t?.name||t?.full_name||t?.username||null,this.userEmail=t?.email||t?.email_address||null;let e=t?.logo||t?.fav_icon||t?.logo_url||null;e?/^https?:\/\//i.test(e)?this.logoUrl=e:this.logoUrl=`${ee.assetsBase.replace(/\/$/,"")}/${e.replace(/^\//,"")}`:this.logoUrl=`${ee.assetsBase.replace(/\/$/,"")}/no-image-icon.jpg`}),this.fetchProducts()}ngOnDestroy(){this.subs?.unsubscribe(),this.searchTimeout&&clearTimeout(this.searchTimeout)}fetchProducts(t=1){if(this.loading=!0,this.error=null,this.currentPage=t,!this.auth.isLoggedIn()){this.error="You are not authenticated. Please log in.",this.loading=!1;return}let e={page:t};this.itemsPerPage&&Number(this.itemsPerPage)>0&&(e.per_page=this.itemsPerPage),this.selectedCategory&&(e.category=this.selectedCategory.id),this.selectedSubCategory&&(e.sub_category=this.selectedSubCategory.id),this.searchTerm.trim()&&(e.filter=this.searchTerm.trim()),this.productService.list(e).subscribe({next:n=>{console.log("API Response:",n),console.log("Filters sent:",e);let o=this.extractPaginationInfo(n);console.log("Extracted pagination info:",o),this.paginationData=o.data,this.products=o.products,this.currentPage=o.currentPage,this.totalPages=o.totalPages,this.itemsPerPage=o.itemsPerPage,this.totalItems=o.totalItems,console.log("Final pagination state:",{currentPage:this.currentPage,totalPages:this.totalPages,itemsPerPage:this.itemsPerPage,totalItems:this.totalItems}),this.normalizeProductQuantities(),this.filteredProducts=[...this.products],this.extractCategoriesAndSubCategories(),this.loading=!1},error:n=>{console.error("Product fetch error:",n),n.status===401?(this.error="Unauthenticated. Please log in again.",this.auth.clearSession()):n.status===403?this.error="Access denied. You do not have permission to view POS items.":n.status===404?this.error="POS endpoint not found. Please check your configuration.":this.error=n?.error?.message||"Failed to load POS items. Please try again.",this.loading=!1}})}goToPage(t){t>=1&&t<=this.totalPages&&t!==this.currentPage&&this.fetchProducts(t)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}getPageNumbers(){let t=[],n=Math.floor(2.5),o=Math.max(1,this.currentPage-n),i=Math.min(this.totalPages,this.currentPage+n);i-o+1<5&&(o===1?i=Math.min(this.totalPages,o+5-1):i===this.totalPages&&(o=Math.max(1,i-5+1)));for(let l=o;l<=i;l++)t.push(l);return t}get safeItemsPerPage(){return this.itemsPerPage||21}getCurrentPageProducts(){return!this.filteredProducts||this.filteredProducts.length===0?[]:this.filteredProducts}extractPaginationInfo(t){let e=null,n=[],o=1,i=1,l=this.itemsPerPage||21,c=0;if(t?.data&&typeof t.data=="object"){e=t.data,n=this.extractValueByPaths(t,this.apiConfig.productPaths)||[],o=this.extractValueByFields(t.data,this.apiConfig.currentPageFields)||1,i=this.extractValueByFields(t.data,this.apiConfig.totalPagesFields)||1;let m=this.extractValueByFields(t.data,this.apiConfig.itemsPerPageFields);m!=null?l=Number(m)||l:this.itemsPerPage&&Number(this.itemsPerPage)>0&&(l=this.itemsPerPage),c=this.extractValueByFields(t.data,this.apiConfig.totalItemsFields)||n.length}else Array.isArray(t?.data)?(e=t.data,n=t.data,c=n.length):Array.isArray(t)?(e=t,n=t,c=n.length):(console.warn("Unknown API response structure:",t),this.logApiStructure(t),e=t,n=[]);o=Math.max(1,Number(o)||1),l=Math.max(1,Number(l)||21),c=Math.max(0,Number(c)||n.length);let g=this.extractValueByFields(t?.data,this.apiConfig.totalPagesFields);return g&&Number(g)>1?i=Math.max(1,Number(g)):i=Math.max(1,Math.ceil(c/l)),{data:e,products:n,currentPage:o,totalPages:i,itemsPerPage:l,totalItems:c}}extractValueByFields(t,e){for(let n of e)if(t&&t.hasOwnProperty(n)&&t[n]!==null&&t[n]!==void 0)return t[n];return null}extractValueByPaths(t,e){for(let n of e){let o=this.getNestedValue(t,n);if(Array.isArray(o))return o}return null}getNestedValue(t,e){return e.split(".").reduce((n,o)=>n&&n[o]!==void 0?n[o]:null,t)}logApiStructure(t){console.group("API Response Structure Analysis"),console.log("Full response:",t),console.log("Response type:",typeof t),console.log("Is array:",Array.isArray(t)),t&&typeof t=="object"&&(console.log("Top-level keys:",Object.keys(t)),t.data&&(console.log("res.data type:",typeof t.data),console.log("res.data is array:",Array.isArray(t.data)),t.data&&typeof t.data=="object"&&!Array.isArray(t.data)&&console.log("res.data keys:",Object.keys(t.data)))),console.groupEnd()}normalizeProductQuantities(){Array.isArray(this.products)&&(this.products=this.products.map(t=>{let e=t?.quantity??t?.product?.quantity??0,n=Number(e),o=Number.isFinite(n)?Math.max(0,Math.floor(n)):0;return at(Me({},t),{quantity:o})}))}onSearch(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.fetchProducts(1)},300)}clearSearch(){this.searchTerm="",this.fetchProducts(1)}extractCategoriesAndSubCategories(){let t=new Map,e=new Map;this.products.forEach(n=>{let o=n.product||n;o.category&&o.category.id&&t.set(o.category.id,o.category),o.sub_category&&o.sub_category.id&&e.set(o.sub_category.id,o.sub_category)}),this.categories=Array.from(t.values()).sort((n,o)=>n.name.localeCompare(o.name)),this.subCategories=Array.from(e.values()).sort((n,o)=>n.name.localeCompare(o.name)),this.filteredCategories=[...this.categories],this.filteredSubCategories=[...this.subCategories],console.log("Categories extracted:",this.categories.length,this.categories),console.log("Sub-categories extracted:",this.subCategories.length,this.subCategories)}openFilterModal(){this.showFilterModal=!0,this.categorySearchTerm="",this.subCategorySearchTerm="",this.filteredCategories=[...this.categories],this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(t=>this.products.some(e=>(e.product||e).category?.id===this.selectedCategory.id&&(e.product||e).sub_category?.id===t.id)):[...this.subCategories]}closeFilterModal(){this.showFilterModal=!1,this.showCategoryDropdown=!1,this.showSubCategoryDropdown=!1,this.categorySearchTerm="",this.subCategorySearchTerm=""}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showSubCategoryDropdown=!1,this.showCategoryDropdown&&(this.categorySearchTerm="",this.filteredCategories=[...this.categories])}toggleSubCategoryDropdown(){this.showSubCategoryDropdown=!this.showSubCategoryDropdown,this.showCategoryDropdown=!1,this.showSubCategoryDropdown&&(this.subCategorySearchTerm="",this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(t=>this.products.some(e=>(e.product||e).category?.id===this.selectedCategory.id&&(e.product||e).sub_category?.id===t.id)):[...this.subCategories])}onCategorySearch(){if(!this.categorySearchTerm.trim()){this.filteredCategories=[...this.categories];return}let t=this.categorySearchTerm.toLowerCase();this.filteredCategories=this.categories.filter(e=>e.name.toLowerCase().includes(t))}clearCategorySearch(){this.categorySearchTerm="",this.filteredCategories=[...this.categories]}selectCategory(t){this.selectedCategory=t,this.selectedSubCategory=null,this.subCategorySearchTerm="",this.showCategoryDropdown=!1,t?this.filteredSubCategories=this.subCategories.filter(e=>this.products.some(n=>(n.product||n).category?.id===t.id&&(n.product||n).sub_category?.id===e.id)):this.filteredSubCategories=[...this.subCategories],this.fetchProducts(1)}onSubCategorySearch(){if(!this.subCategorySearchTerm.trim()){this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(n=>this.products.some(o=>(o.product||o).category?.id===this.selectedCategory.id&&(o.product||o).sub_category?.id===n.id)):[...this.subCategories];return}let t=this.subCategorySearchTerm.toLowerCase(),e=this.selectedCategory?this.subCategories.filter(n=>this.products.some(o=>(o.product||o).category?.id===this.selectedCategory.id&&(o.product||o).sub_category?.id===n.id)):this.subCategories;this.filteredSubCategories=e.filter(n=>n.name.toLowerCase().includes(t))}clearSubCategorySearch(){this.subCategorySearchTerm="",this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(t=>this.products.some(e=>(e.product||e).category?.id===this.selectedCategory.id&&(e.product||e).sub_category?.id===t.id)):[...this.subCategories]}selectSubCategory(t){this.selectedSubCategory=t,this.showSubCategoryDropdown=!1,this.fetchProducts(1)}clearCategoryFilter(){this.selectedCategory=null,this.selectedSubCategory=null,this.fetchProducts(1)}clearSubCategoryFilter(){this.selectedSubCategory=null,this.fetchProducts(1)}clearAllFilters(){this.selectedCategory=null,this.selectedSubCategory=null,this.searchTerm="",this.fetchProducts(1),this.closeFilterModal()}applyFilters(){this.fetchProducts(1),this.closeFilterModal()}logout(){this.auth.logout().subscribe({error:()=>this.auth.clearSession()})}productIdOf(t){return String(t?.product?.id??t?.id??t?.product?.unique_id??"")}imgUrl(t){if(!t)return null;let e=t.image||t.file||t.image_path||t.photo||null;return this.productService.resolveImageUrl(e)}addToCart(t){this.cart.add(t.product??t)}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(N(qt),N(z),N(Ct),N(q))};static \u0275cmp=V({type:r,selectors:[["app-product-list"]],decls:22,vars:13,consts:[[1,"search-container"],[1,"search-input-wrapper"],[1,"search-input-group"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-search-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search by product code, name, category or sub-category...","autocomplete","off",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-search-btn","type","button","aria-label","Clear search",3,"click",4,"ngIf"],["type","button","aria-label","Filter products",1,"filter-btn",3,"click"],[1,"filter-icon-wrapper"],["viewBox","0 0 24 24","fill","currentColor",1,"filter-icon"],["d","M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"],["class","filter-badge",4,"ngIf"],["class","search-results-info",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","product-list",4,"ngIf"],["class","pagination-container",4,"ngIf"],["class","no-products-container",4,"ngIf"],["class","no-results-container",4,"ngIf"],["type","button","aria-label","Clear search",1,"clear-search-btn",3,"click"],[1,"clear-icon"],[1,"filter-badge"],[1,"search-results-info"],[1,"results-summary"],[1,"results-text"],["class","active-filters",4,"ngIf"],[1,"active-filters"],[1,"filters-label"],["class","filter-chip category-chip",4,"ngIf"],["class","filter-chip subcategory-chip",4,"ngIf"],[1,"filter-chip","category-chip"],["type","button",1,"chip-remove",3,"click"],[1,"filter-chip","subcategory-chip"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"modal-body"],[1,"filter-group"],[1,"filter-label"],[1,"custom-select-wrapper",3,"click"],[1,"custom-select-display"],["class","placeholder",4,"ngIf"],["class","selected-value",4,"ngIf"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"dropdown-arrow"],["points","6,9 12,15 18,9"],["class","custom-dropdown",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","button",1,"btn-primary",3,"click"],[1,"placeholder"],[1,"selected-value"],[1,"custom-dropdown"],[1,"dropdown-search"],[1,"search-input-container"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["type","text","placeholder","Search categories...","autocomplete","off",1,"dropdown-search-input",3,"ngModelChange","input","click","ngModel"],["class","clear-search-btn","type","button",3,"click",4,"ngIf"],[1,"dropdown-option",3,"click"],[1,"option-text"],["class","check-icon","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],["class","dropdown-option",3,"selected","click",4,"ngFor","ngForOf"],["class","no-options-message",4,"ngIf"],["type","button",1,"clear-search-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"check-icon"],["points","20,6 9,17 4,12"],[1,"no-options-message"],["type","text","placeholder","Search sub-categories...","autocomplete","off",1,"dropdown-search-input",3,"ngModelChange","input","click","ngModel"],[1,"loading-container"],[1,"loading-spinner"],[1,"loading-text"],[1,"error-container"],[1,"error-icon"],[1,"error-message"],["class","retry-btn",3,"click",4,"ngIf"],[1,"retry-btn",3,"click"],[1,"product-list"],["class","product-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"product-item",3,"click","ngClass"],[1,"product-item-listing"],[1,"product-main"],[1,"product-title"],[1,"product-meta","mb-3"],[1,"product-meta"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-text"],[1,"pagination-controls"],["title","First Page",1,"pagination-btn",3,"click","disabled"],["points","11,17 6,12 11,7"],["points","18,17 13,12 18,7"],["title","Previous Page",1,"pagination-btn",3,"click","disabled"],["points","15,18 9,12 15,6"],[1,"pagination-numbers"],["class","pagination-number",3,"active","click",4,"ngFor","ngForOf"],["title","Next Page",1,"pagination-btn",3,"click","disabled"],["points","9,18 15,12 9,6"],["title","Last Page",1,"pagination-btn",3,"click","disabled"],["points","13,17 18,12 13,7"],["points","6,17 11,12 6,7"],[1,"pagination-number",3,"click"],[1,"no-products-container"],[1,"no-products-icon"],[1,"no-products-title"],[1,"no-products-message"],[1,"no-results-container"],[1,"no-results-icon"],[1,"no-results-title"],[1,"no-results-message"],[1,"clear-btn",3,"click"]],template:function(e,n){e&1&&(a(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),K(),a(4,"svg",3),h(5,"circle",4)(6,"path",5),s(),ce(),a(7,"input",6),Ve("ngModelChange",function(i){return Re(n.searchTerm,i)||(n.searchTerm=i),i}),y("input",function(){return n.onSearch()}),s(),O(8,zi,3,0,"button",7),s(),a(9,"button",8),y("click",function(){return n.openFilterModal()}),a(10,"div",9),K(),a(11,"svg",10),h(12,"path",11),s(),O(13,Ri,2,1,"span",12),s()()(),O(14,qi,5,5,"div",13),s(),O(15,ia,35,12,"div",14)(16,aa,4,0,"div",15)(17,ca,7,3,"div",16)(18,pa,2,1,"ul",17)(19,ma,21,8,"div",18)(20,ua,9,0,"div",19)(21,fa,9,1,"div",20),s()),e&2&&(p(7),ze("ngModel",n.searchTerm),p(),f("ngIf",n.searchTerm),p(),Z("active",n.selectedCategory||n.selectedSubCategory),p(4),f("ngIf",n.selectedCategory||n.selectedSubCategory),p(),f("ngIf",n.searchTerm||n.selectedCategory||n.selectedSubCategory),p(),f("ngIf",n.showFilterModal),p(),f("ngIf",n.loading),p(),f("ngIf",n.error),p(),f("ngIf",n.filteredProducts==null?null:n.filteredProducts.length),p(),f("ngIf",n.totalPages>1&&!n.loading&&!n.error),p(),f("ngIf",(n.filteredProducts==null?null:n.filteredProducts.length)&&!n.loading&&!n.error&&(n.products==null?null:n.products.length)===0),p(),f("ngIf",!(n.filteredProducts!=null&&n.filteredProducts.length)&&!n.loading&&!n.error&&n.searchTerm))},dependencies:[B,mt,Be,$,J,_t,qe,Ke,ht],styles:["[_nghost-%COMP%]{display:block;padding:.75rem;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);font-size:13px;line-height:1.35}.search-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem 0}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:stretch}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;background:#fff;border-radius:6px;border:1px solid var(--color-neutral-400);transition:border-color .2s ease}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]:focus-within{border-color:var(--color-primary-bg)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .input-search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;width:16px;height:16px;color:var(--color-neutral-500);z-index:1}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 2.25rem;border:none;border-radius:6px;font-size:14px;background:transparent;color:var(--color-neutral-800)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-500)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:var(--color-neutral-200);border:none;color:var(--color-neutral-600);cursor:pointer;padding:.25rem;border-radius:4px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-300)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:12px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;background:var(--color-primary-bg);color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s ease;min-width:48px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-primary-bg) 50%,white)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{color:#fff}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .filter-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .filter-icon-wrapper[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{width:18px;height:18px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .filter-icon-wrapper[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:#dc3545;color:#fff;border-radius:50%;width:16px;height:16px;font-size:10px;font-weight:600;display:flex;align-items:center;justify-content:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-neutral-200)}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:14px;color:var(--color-neutral-700);margin-bottom:.75rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-icon[_ngcontent-%COMP%]{font-size:16px;opacity:.8}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-weight:500}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filters-label[_ngcontent-%COMP%]{font-size:12px;color:var(--color-neutral-600);font-weight:500;margin-right:.25rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:16px;font-size:12px;font-weight:500;border:1px solid}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip.category-chip[_ngcontent-%COMP%]{background:var(--color-primary-bg-light);color:var(--color-primary-bg);border-color:var(--color-primary-bg)}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip.subcategory-chip[_ngcontent-%COMP%]{background:var(--color-info-bg);color:var(--color-info-text);border-color:var(--color-info-border)}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]   .chip-remove[_ngcontent-%COMP%]{background:transparent;border:none;color:currentColor;cursor:pointer;padding:.125rem;border-radius:2px;width:14px;height:14px;display:flex;align-items:center;justify-content:center;font-size:10px;margin-left:.25rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]   .chip-remove[_ngcontent-%COMP%]:hover{background:#0000001a}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--color-neutral-400);border-radius:6px;font-size:14px;background-color:#fff;transition:border-color .2s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-500)}.clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.75rem;background:none;border:none;font-size:16px;color:var(--color-neutral-600);cursor:pointer;padding:.25rem;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.clear-search-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-200);color:var(--color-neutral-800)}.clear-search-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}.search-results-info[_ngcontent-%COMP%]{margin-top:.5rem;font-size:12px;color:var(--color-neutral-600);text-align:center}.no-results[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--color-neutral-600);font-style:italic;background:var(--color-neutral-100);border-radius:6px;margin:1rem 0}h2[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]{display:block;padding:0;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);min-height:calc(100vh - 150px);font-size:13px;line-height:1.35}[_nghost-%COMP%]   *[_ngcontent-%COMP%], [_nghost-%COMP%]   *[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-bottom:.6rem;font-size:1.05rem;margin-top:0}ul[_ngcontent-%COMP%]{list-style:none;padding:.5rem;margin:0;display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.75rem;box-sizing:border-box}li.product-item[_ngcontent-%COMP%]{background:var(--color-neutral-100);border-radius:6px;border:1px solid var(--color-neutral-300)}li[_ngcontent-%COMP%]   .product-item-listing[_ngcontent-%COMP%]{padding:.75rem 1rem}li.product-item.qty-warning[_ngcontent-%COMP%]{background:var(--color-warning-bg);border:1px solid var(--color-warning-border)}li.product-item.qty-danger[_ngcontent-%COMP%]{background:var(--color-danger-bg);border:1px solid var(--color-danger-border)}.product-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem}.product-main[role=button][_ngcontent-%COMP%]{cursor:pointer}.product-main[role=button][_ngcontent-%COMP%]:hover{background:var(--color-neutral-200)}.product-title[_ngcontent-%COMP%]{font-weight:600}.product-title[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-meta[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:4px 0}.product-meta.mb-3[_ngcontent-%COMP%]{margin-bottom:.25rem}.product-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--color-primary-bg-light);border:1px solid var(--color-primary-bg);color:var(--color-primary-bg);padding:0 4px;border-radius:4px}.product-footer[_ngcontent-%COMP%]{margin-top:.5rem;color:var(--color-neutral-800)}.expanded[_ngcontent-%COMP%]{margin-top:.75rem}.expanded-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.card[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-start;padding:.5rem;border:1px solid var(--color-neutral-400);border-radius:6px;background:var(--color-neutral-200);min-width:0}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:4px}img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.card-body[_ngcontent-%COMP%]{flex:1}.expanded-loading[_ngcontent-%COMP%]{padding:.5rem;color:var(--color-neutral-600)}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .no-products[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;font-weight:700;color:var(--color-neutral-700)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--color-neutral-300);border-top:4px solid var(--color-primary-bg);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:16px;color:var(--color-neutral-600);font-weight:500}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;background:var(--color-danger-bg);border:1px solid var(--color-danger-border);border-radius:8px;margin:1rem}.error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem}.error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:16px;color:var(--color-danger-text);font-weight:500;margin-bottom:1.5rem;max-width:500px}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.no-products-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;background:var(--color-neutral-50);border:1px solid var(--color-neutral-200);border-radius:8px;margin:1rem}.no-products-container[_ngcontent-%COMP%]   .no-products-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:1rem;opacity:.6}.no-products-container[_ngcontent-%COMP%]   .no-products-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--color-neutral-800);margin-bottom:.5rem}.no-products-container[_ngcontent-%COMP%]   .no-products-message[_ngcontent-%COMP%]{font-size:14px;color:var(--color-neutral-600);margin-bottom:1.5rem;max-width:400px}.no-products-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.no-products-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.no-results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;background:var(--color-warning-bg);border:1px solid var(--color-warning-border);border-radius:8px;margin:1rem}.no-results-container[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem;opacity:.7}.no-results-container[_ngcontent-%COMP%]   .no-results-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-warning-text);margin-bottom:.5rem}.no-results-container[_ngcontent-%COMP%]   .no-results-message[_ngcontent-%COMP%]{font-size:14px;color:var(--color-warning-text);margin-bottom:1.5rem}.no-results-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:var(--color-neutral-600);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.no-results-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-700)}button.logout[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:var(--color-primary-bg);color:var(--color-primary-text);border:none;border-radius:4px;cursor:pointer}@media (min-width: 0px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 420px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 800px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1100px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1280px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;max-width:400px;width:90%;max-height:80vh;overflow:visible;border:1px solid var(--color-neutral-300)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--color-neutral-200);display:flex;align-items:center;justify-content:space-between}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-neutral-900);margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{background:var(--color-neutral-100);border:none;border-radius:4px;width:32px;height:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--color-neutral-600);transition:background-color .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-200)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow:visible}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--color-neutral-400);border-radius:6px;font-size:14px;background:#fff;color:var(--color-neutral-800);cursor:pointer;transition:border-color .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled{background:var(--color-neutral-100);color:var(--color-neutral-500);cursor:not-allowed}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;background:var(--color-neutral-50);display:flex;gap:.75rem;justify-content:flex-end;border-top:1px solid var(--color-neutral-200)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:var(--color-neutral-600);color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:var(--color-neutral-700)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:14px;font-weight:500;color:var(--color-neutral-700)}.custom-select-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;overflow:visible}.custom-select-wrapper.disabled[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]{background:var(--color-neutral-100);color:var(--color-neutral-500);cursor:not-allowed}.custom-select-wrapper.disabled[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--color-neutral-400)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]{width:100%;padding:.75rem 3rem .75rem .75rem;border:1px solid var(--color-neutral-400);border-radius:6px;background:#fff;color:var(--color-neutral-800);font-size:14px;cursor:pointer;transition:border-color .2s ease;position:relative;display:flex;align-items:center;justify-content:space-between;min-height:48px}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]:hover:not(.disabled){border-color:var(--color-primary-bg)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--color-neutral-500)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .selected-value[_ngcontent-%COMP%]{color:var(--color-neutral-800);font-weight:500}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:16px;height:16px;transition:transform .2s ease;color:var(--color-neutral-600)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .dropdown-arrow.open[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid var(--color-primary-bg);border-top:none;border-radius:0 0 6px 6px;max-height:250px;overflow-y:auto;z-index:1050;box-shadow:0 4px 6px #0000001a;display:block}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid var(--color-neutral-200);background:var(--color-neutral-50);position:sticky;top:0;z-index:1051}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;width:14px;height:14px;color:var(--color-neutral-500);z-index:1}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 2.25rem .5rem 2rem;border:1px solid var(--color-neutral-300);border-radius:4px;font-size:13px;background:#fff;color:var(--color-neutral-800)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-400);font-size:12px}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:none;border:none;color:var(--color-neutral-500);cursor:pointer;padding:.25rem;border-radius:2px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-200);color:var(--color-neutral-700)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]{padding:.75rem;cursor:pointer;transition:background-color .2s ease;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--color-neutral-100);font-size:14px;color:var(--color-neutral-800)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:hover{background:var(--color-neutral-50)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-primary-bg) 10%,white);color:var(--color-primary-bg);font-weight:500}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-weight:500}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--color-primary-bg);flex-shrink:0}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .no-options-message[_ngcontent-%COMP%]{padding:1rem .75rem;text-align:center;color:var(--color-neutral-500);font-size:13px;font-style:italic;border-bottom:none}.pagination-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;margin:1rem 0;border:1px solid var(--color-neutral-200)}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .pagination-text[_ngcontent-%COMP%]{font-size:14px;color:var(--color-neutral-600);font-weight:500}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;flex-wrap:wrap}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#fff;border:1px solid var(--color-neutral-300);border-radius:6px;cursor:pointer;transition:all .2s ease;color:var(--color-neutral-600)}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary-bg);border-color:var(--color-primary-bg);color:#fff}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{background:var(--color-neutral-100);color:var(--color-neutral-400);cursor:not-allowed;border-color:var(--color-neutral-200)}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin:0 .5rem;flex-wrap:wrap;justify-content:center}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:36px;height:36px;padding:0 .5rem;background:#fff;border:1px solid var(--color-neutral-300);border-radius:6px;cursor:pointer;transition:all .2s ease;color:var(--color-neutral-700);font-size:14px;font-weight:500}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg-light);border-color:var(--color-primary-bg);color:var(--color-primary-bg)}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number.active[_ngcontent-%COMP%]{background:var(--color-primary-bg);border-color:var(--color-primary-bg);color:#fff;font-weight:600}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}@media (max-width: 480px){.pagination-container[_ngcontent-%COMP%]{padding:.75rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{gap:.25rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{width:32px;height:32px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]{margin:0 .25rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]{min-width:32px;height:32px;font-size:13px}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .pagination-text[_ngcontent-%COMP%]{font-size:13px}}"]})};function ha(r,t){if(r&1&&(a(0,"p")(1,"span",11),d(2,"Email"),s(),a(3,"span",12),d(4),s()()),r&2){let e=u(2);p(4),S(e.user.email)}}function _a(r,t){if(r&1&&(a(0,"p")(1,"span",11),d(2,"Phone"),s(),a(3,"span",12),d(4),s()()),r&2){let e=u(2);p(4),S(e.user.phone)}}function Ca(r,t){if(r&1&&(a(0,"p")(1,"span",11),d(2,"Company"),s(),a(3,"span",12),d(4),s()()),r&2){let e=u(2);p(4),S(e.user.company)}}function ya(r,t){if(r&1&&(a(0,"p")(1,"span",11),d(2,"Address"),s(),a(3,"span",12),d(4),s()()),r&2){let e=u(2);p(4),S(e.user.user_detail.address)}}function va(r,t){if(r&1&&(a(0,"p")(1,"span",11),d(2,"Next Payment"),s(),a(3,"span",12),d(4),s()()),r&2){let e=u(2);p(4),S(e.user.user_detail.plan_end)}}function ba(r,t){if(r&1&&(or(0),a(1,"section",6)(2,"div",7),h(3,"img",8),s(),a(4,"div",9)(5,"h2"),d(6),s(),O(7,ha,5,1,"p",10)(8,_a,5,1,"p",10)(9,Ca,5,1,"p",10)(10,ya,5,1,"p",10)(11,va,5,1,"p",10),s()(),ir()),r&2){let e=u();p(3),f("src",e.imgUrl||(e.user==null?null:e.user.avatar)||(e.user==null?null:e.user.logo)||"assets/no-avatar.png",st),p(3),S(e.user.name||e.user.full_name||e.user.username),p(),f("ngIf",e.user.email),p(),f("ngIf",e.user.phone),p(),f("ngIf",e.user.company),p(),f("ngIf",e.user.user_detail.address),p(),f("ngIf",e.user.user_detail.plan_end)}}function Pa(r,t){r&1&&(a(0,"div",13),d(1,"Not logged in"),s())}var $t=class r{constructor(t,e){this.auth=t;this.router=e;this.auth.user$.subscribe(n=>{this.user=n;let o=n&&(n.fav_icon||n.favicon||n.avatar||n.logo||n.logo_url)||"";this.imgUrl=this.resolveImage(o)||"assets/no-avatar.png"})}user=null;imgUrl="";goBack(){try{this.router.navigate(["/pos"])}catch{history.back()}}editProfile(){try{this.router.navigate(["/profile/edit"])}catch{}}resolveImage(t){if(!t)return null;let e=String(t).trim();if(!e)return null;if(/^(data:|https?:)\/\//i.test(e))return e;let n=(ee.assetsBase||"").replace(/\/$/,"");return n?`${n}/${e.replace(/^\//,"")}`:e}static \u0275fac=function(e){return new(e||r)(N(z),N(q))};static \u0275cmp=V({type:r,selectors:[["app-profile"]],decls:9,vars:2,consts:[["noUser",""],[1,"profile-page"],[1,"profile-nav"],["aria-label","Back",1,"nav-icon",3,"click"],[1,"fa-solid","fa-arrow-left"],[4,"ngIf","ngIfElse"],[1,"profile-card"],[1,"profile-avatar"],["alt","avatar",3,"src"],[1,"profile-main"],[4,"ngIf"],[1,"label"],[1,"value"],[1,"no-user"]],template:function(e,n){if(e&1){let o=A();a(0,"div",1)(1,"div",2)(2,"button",3),y("click",function(){return v(o),b(n.goBack())}),h(3,"i",4),s(),a(4,"h2"),d(5,"Profile"),s()(),O(6,ba,12,7,"ng-container",5)(7,Pa,2,0,"ng-template",null,0,gt),s()}if(e&2){let o=lt(8);p(6),f("ngIf",n.user)("ngIfElse",o)}},dependencies:[B,$,J],styles:[".profile-card[_ngcontent-%COMP%]{max-width:900px;margin:1rem auto;background:var(--color-neutral-100);border-radius:12px;box-shadow:0 6px 20px #0000000f;padding:1rem;display:grid;grid-template-columns:120px 1fr;gap:1rem;align-items:center}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:var(--color-neutral-200);margin:0 auto}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.75rem 0;color:var(--color-neutral-600);display:flex;justify-content:space-between;gap:1rem;align-items:center;padding-bottom:.5rem;border-bottom:1px solid var(--color-neutral-500)}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{border-bottom:none;padding-bottom:0}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800)}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--color-neutral-600);text-align:right}.profile-actions[_ngcontent-%COMP%]{margin-top:.75rem;display:flex;gap:.5rem}.button-primary[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);padding:8px 12px;border-radius:8px;border:none;cursor:pointer}.button-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-neutral-300);padding:8px 12px;border-radius:8px;cursor:pointer}.profile-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;margin-bottom:.75rem}.profile-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-neutral-700);background-color:transparent;border:1px solid var(--color-neutral-500);padding:8px;border-radius:50%;width:36px;height:36px}@media (max-width: 640px){.profile-card[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.profile-actions[_ngcontent-%COMP%]{justify-content:center}}"]})};var Ut=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=V({type:r,selectors:[["app-settings"]],decls:17,vars:0,consts:[[1,"settings-grid"],["routerLink","/settings/gender",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-venus-mars","fa-2x"],[1,"label"],["routerLink","/settings/payment-list",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-credit-card","fa-2x"],["routerLink","/settings/finance",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-wallet","fa-2x"],["routerLink","/settings/staff",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-users","fa-2x"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"a",1),h(2,"i",2),a(3,"div",3),d(4,"Gender"),s()(),a(5,"a",4),h(6,"i",5),a(7,"div",3),d(8,"Payment List"),s()(),a(9,"a",6),h(10,"i",7),a(11,"div",3),d(12,"Finance"),s()(),a(13,"a",8),h(14,"i",9),a(15,"div",3),d(16,"Staff"),s()()())},dependencies:[B,J,xe],styles:[".settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:12px}.setting-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;border-radius:10px;background:#fff2e2;border:1px solid #eee;color:var(--text, #222);text-decoration:none}.setting-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-top:8px;font-weight:600}"]})};var Ht=class r{constructor(t){this.http=t}list(t){let e=new fr;return t&&Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&t[n]!==""&&(e=e.set(n,String(t[n])))}),this.http.get(`${ee.apiBase}/orders`,{params:e})}getOrderDetail(t){return this.http.get(`${ee.apiBase}/orders/${t}/view`)}formatCurrency(t){let e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}formatDate(t){let e=new Date(t);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}getOrderStatus(t){return t===1?"Refunded":"Completed"}getOrderStatusClass(t){return t===1?"status-refunded":"status-completed"}static \u0275fac=function(e){return new(e||r)(Y(ut))};static \u0275prov=oe({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ma(r,t){if(r&1){let e=A();a(0,"button",17),y("click",function(){v(e);let o=u(2);return b(o.clearSearch())}),a(1,"i",18),d(2,"\u2715"),s()()}}function xa(r,t){if(r&1&&(a(0,"div",19)(1,"div",20)(2,"span",21),d(3),s()()()),r&2){let e=u(2);p(3),dt("Showing ",e.orders.length," of ",e.totalItems," orders (Page ",e.currentPage," of ",e.totalPages,")")}}function wa(r,t){r&1&&(a(0,"div",22)(1,"div",23),d(2,"Loading orders..."),s()())}function Sa(r,t){if(r&1&&(a(0,"div",24)(1,"div",25)(2,"span",26),d(3,"\u26A0\uFE0F"),s(),d(4),s()()),r&2){let e=u(2);p(4),L(" ",e.error," ")}}function Ea(r,t){if(r&1&&(a(0,"div",31)(1,"div",32),d(2,"\u{1F4C4}"),s(),a(3,"h3"),d(4,"No orders found"),s(),a(5,"p"),d(6),s()()),r&2){let e=u(3);p(6),S(e.searchTerm?"Try adjusting your search criteria.":"No orders have been placed yet.")}}function Ta(r,t){if(r&1){let e=A();a(0,"div",35),y("click",function(){let o=v(e).$implicit,i=u(4);return b(i.viewOrderDetail(o))}),a(1,"div",36)(2,"div",37)(3,"strong"),d(4),s()(),a(5,"div",38),d(6),s()(),a(7,"div",39)(8,"div",40)(9,"span",41),d(10,"Total:"),s(),a(11,"span",42),d(12),s()(),a(13,"div",43)(14,"span",44),d(15,"Date:"),s(),a(16,"span",45),d(17),s()(),a(18,"div",46)(19,"span",47),d(20,"Customer ID:"),s(),a(21,"span",48),d(22),s()()(),a(23,"div",49)(24,"button",50),d(25," View Details \u2192 "),s()()()}if(r&2){let e=t.$implicit,n=u(4);p(4),S(e.bill_id),p(),f("ngClass",n.getOrderStatusClass(e.is_refunded)),p(),L(" ",n.getOrderStatus(e.is_refunded)," "),p(6),S(n.formatCurrency(e.bill_amount)),p(5),S(n.formatDate(e.billed_on)),p(5),L("#",e.customer_id)}}function ka(r,t){if(r&1&&(a(0,"div",33),O(1,Ta,26,6,"div",34),s()),r&2){let e=u(3);p(),f("ngForOf",e.orders)}}function Ia(r,t){if(r&1){let e=A();a(0,"button",60),y("click",function(){let o=v(e).$implicit,i=u(4);return b(i.goToPage(o))}),d(1),s()}if(r&2){let e=t.$implicit,n=u(4);Z("active",e===n.currentPage),p(),L(" ",e," ")}}function Aa(r,t){if(r&1){let e=A();a(0,"div",51)(1,"div",52)(2,"span",53),d(3),s()(),a(4,"div",54)(5,"button",55),y("click",function(){v(e);let o=u(3);return b(o.goToFirstPage())}),d(6," \u27EA "),s(),a(7,"button",56),y("click",function(){v(e);let o=u(3);return b(o.goToPreviousPage())}),d(8," \u27E8 "),s(),O(9,Ia,2,3,"button",57),a(10,"button",58),y("click",function(){v(e);let o=u(3);return b(o.goToNextPage())}),d(11," \u27E9 "),s(),a(12,"button",59),y("click",function(){v(e);let o=u(3);return b(o.goToLastPage())}),d(13," \u27EB "),s()()()}if(r&2){let e=u(3);p(3),ct(" Showing ",(e.currentPage-1)*e.itemsPerPage+1," to ",e.Math.min(e.currentPage*e.itemsPerPage,e.totalItems)," of ",e.totalItems," orders "),p(2),f("disabled",e.currentPage===1),p(2),f("disabled",e.currentPage===1),p(2),f("ngForOf",e.getPageNumbers()),p(),f("disabled",e.currentPage===e.totalPages),p(2),f("disabled",e.currentPage===e.totalPages)}}function Da(r,t){if(r&1&&(a(0,"div",27),O(1,Ea,7,1,"div",28)(2,ka,2,1,"div",29)(3,Aa,14,8,"div",30),s()),r&2){let e=u(2);p(),f("ngIf",e.orders.length===0),p(),f("ngIf",e.orders.length>0),p(),f("ngIf",e.totalPages>1)}}function Fa(r,t){if(r&1){let e=A();a(0,"div")(1,"div",3)(2,"div",4)(3,"div",5),K(),a(4,"svg",6),h(5,"circle",7)(6,"path",8),s(),ce(),a(7,"input",9),Ve("ngModelChange",function(o){v(e);let i=u();return Re(i.searchTerm,o)||(i.searchTerm=o),b(o)}),y("input",function(){v(e);let o=u();return b(o.onSearch())}),s(),O(8,Ma,3,0,"button",10),s()(),O(9,xa,4,4,"div",11),s(),a(10,"div",12)(11,"h2",13),d(12,"Orders"),s()(),O(13,wa,3,0,"div",14)(14,Sa,5,1,"div",15)(15,Da,4,3,"div",16),s()}if(r&2){let e=u();p(7),ze("ngModel",e.searchTerm),p(),f("ngIf",e.searchTerm),p(),f("ngIf",e.searchTerm),p(4),f("ngIf",e.loading),p(),f("ngIf",e.error&&!e.loading),p(),f("ngIf",!e.loading&&!e.error)}}function Na(r,t){r&1&&(a(0,"div",67)(1,"div",23),d(2,"Loading order details..."),s()())}function La(r,t){if(r&1&&(a(0,"div",91)(1,"div",79)(2,"div",92),d(3),s()(),a(4,"div",80),d(5),s(),a(6,"div",81),d(7),s(),a(8,"div",82)(9,"div",93),d(10),a(11,"small"),d(12),s()()(),a(13,"div",83),d(14),s()()),r&2){let e=t.$implicit,n=u(3);p(3),S(e.name),p(2),S(e.quantity),p(2),S(n.formatCurrency(e.selling_price)),p(3),L("",n.formatCurrency(e.tax_amount)," "),p(2),L("(",e.tax_percent,"%)"),p(2),L(" ",n.formatCurrency(n.parseFloat(e.selling_price)*n.parseFloat(e.quantity))," ")}}function za(r,t){if(r&1&&(a(0,"div",96)(1,"div",97)(2,"span",98),d(3,"Payment Method:"),s(),a(4,"span",99),d(5),s()(),a(6,"div",97)(7,"span",98),d(8,"Amount:"),s(),a(9,"span",99),d(10),s()()()),r&2){let e=t.$implicit,n=u(4);p(5),L("Method #",e.payment_id),p(5),S(n.formatCurrency(e.amount))}}function Ra(r,t){if(r&1&&(a(0,"div",94)(1,"h4"),d(2,"Payment Details"),s(),O(3,za,11,2,"div",95),s()),r&2){let e=u(3);p(3),f("ngForOf",e.orderPaymentDetails)}}function Va(r,t){if(r&1&&(a(0,"div",68)(1,"div",69)(2,"h4"),d(3,"Order Summary"),s(),a(4,"div",70)(5,"div",71)(6,"span",72),d(7,"Bill ID:"),s(),a(8,"span",73),d(9),s()(),a(10,"div",71)(11,"span",72),d(12,"Total Amount:"),s(),a(13,"span",74),d(14),s()(),a(15,"div",71)(16,"span",72),d(17,"Date:"),s(),a(18,"span",73),d(19),s()(),a(20,"div",71)(21,"span",72),d(22,"Status:"),s(),a(23,"span",75),d(24),s()(),a(25,"div",71)(26,"span",72),d(27,"Customer ID:"),s(),a(28,"span",73),d(29),s()(),a(30,"div",71)(31,"span",72),d(32,"Billed By:"),s(),a(33,"span",73),d(34),s()()()(),a(35,"div",76)(36,"h4"),d(37,"Order Items"),s(),a(38,"div",77)(39,"div",78)(40,"div",79),d(41,"Item"),s(),a(42,"div",80),d(43,"Qty"),s(),a(44,"div",81),d(45,"Price"),s(),a(46,"div",82),d(47,"Tax"),s(),a(48,"div",83),d(49,"Total"),s()(),O(50,La,15,6,"div",84),s(),a(51,"div",85)(52,"div",86)(53,"span",87),d(54,"Subtotal:"),s(),a(55,"span",88),d(56),s()(),a(57,"div",86)(58,"span",87),d(59,"Total Tax:"),s(),a(60,"span",88),d(61),s()(),a(62,"div",89)(63,"span",87),d(64,"Final Total:"),s(),a(65,"span",88),d(66),s()()()(),O(67,Ra,4,1,"div",90),s()),r&2){let e=u(2);p(9),S(e.selectedOrder.bill_id),p(5),S(e.formatCurrency(e.selectedOrder.bill_amount)),p(5),S(e.formatDate(e.selectedOrder.billed_on)),p(4),f("ngClass",e.getOrderStatusClass(e.selectedOrder.is_refunded)),p(),L(" ",e.getOrderStatus(e.selectedOrder.is_refunded)," "),p(5),L("#",e.selectedOrder.customer_id),p(5),L("User #",e.selectedOrder.billed_by),p(16),f("ngForOf",e.orderDetails),p(6),S(e.formatCurrency(e.calculateOrderTotal())),p(5),S(e.formatCurrency(e.calculateTotalTax())),p(5),S(e.formatCurrency(e.selectedOrder.bill_amount)),p(),f("ngIf",e.orderPaymentDetails.length>0)}}function ja(r,t){if(r&1){let e=A();a(0,"div",61)(1,"div",62)(2,"button",63),y("click",function(){v(e);let o=u();return b(o.goBack())}),h(3,"i",64),s(),a(4,"h2"),d(5,"Order Details"),s()(),O(6,Na,3,0,"div",65)(7,Va,68,12,"div",66),s()}if(r&2){let e=u();p(6),f("ngIf",e.loadingOrderDetail),p(),f("ngIf",!e.loadingOrderDetail&&e.selectedOrder)}}var Qt=class r{constructor(t,e,n){this.orderService=t;this.auth=e;this.router=n}orders=[];loading=!1;error=null;currentPage=1;totalPages=1;itemsPerPage=10;totalItems=0;searchTerm="";searchTimeout;showOrderDetail=!1;selectedOrder=null;orderDetails=[];orderPaymentDetails=[];loadingOrderDetail=!1;Math=Math;parseFloat=parseFloat;subs=new Un;ngOnInit(){this.fetchOrders()}ngOnDestroy(){this.subs.unsubscribe(),this.searchTimeout&&clearTimeout(this.searchTimeout)}fetchOrders(t=1){if(this.loading=!0,this.error=null,this.currentPage=t,!this.auth.isLoggedIn()){this.error="You are not authenticated. Please log in.",this.loading=!1;return}let e={page:t};this.searchTerm.trim()&&(e.search=this.searchTerm.trim());let n=this.orderService.list(e).subscribe({next:o=>{console.log("Orders API Response:",o),o.success&&o.data?(this.orders=o.data.data,this.currentPage=o.data.current_page,this.totalPages=o.data.last_page,this.itemsPerPage=o.data.per_page,this.totalItems=o.data.total):(this.error=o.message||"Failed to load orders",this.orders=[]),this.loading=!1},error:o=>{console.error("Order fetch error:",o),o.status===401?(this.error="Unauthenticated. Please log in again.",this.auth.clearSession()):o.status===403?this.error="Access denied. You do not have permission to view orders.":o.status===404?this.error="Orders endpoint not found. Please check your configuration.":this.error=o?.error?.message||"Failed to load orders. Please try again.",this.loading=!1}});this.subs.add(n)}onSearch(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.fetchOrders(1)},300)}clearSearch(){this.searchTerm="",this.fetchOrders(1)}goToPage(t){t>=1&&t<=this.totalPages&&t!==this.currentPage&&this.fetchOrders(t)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}getPageNumbers(){let t=[],n=Math.floor(2.5),o=Math.max(1,this.currentPage-n),i=Math.min(this.totalPages,this.currentPage+n);i-o+1<5&&(o===1?i=Math.min(this.totalPages,o+5-1):i===this.totalPages&&(o=Math.max(1,i-5+1)));for(let l=o;l<=i;l++)t.push(l);return t}viewOrderDetail(t){this.selectedOrder=t,this.loadingOrderDetail=!0,this.showOrderDetail=!0,this.orderDetails=[],this.orderPaymentDetails=[];let e=this.orderService.getOrderDetail(t.id).subscribe({next:n=>{console.log("Order Detail Response:",n),n.success&&n.data?(this.orderDetails=n.data.order_details,this.orderPaymentDetails=n.data.order_payment_details):this.error=n.message||"Failed to load order details",this.loadingOrderDetail=!1},error:n=>{console.error("Order detail fetch error:",n),this.error=n?.error?.message||"Failed to load order details. Please try again.",this.loadingOrderDetail=!1}});this.subs.add(e)}closeOrderDetail(){this.showOrderDetail=!1,this.selectedOrder=null,this.orderDetails=[],this.orderPaymentDetails=[]}goBack(){this.closeOrderDetail()}formatCurrency(t){return this.orderService.formatCurrency(t)}formatDate(t){return this.orderService.formatDate(t)}getOrderStatus(t){return this.orderService.getOrderStatus(t)}getOrderStatusClass(t){return this.orderService.getOrderStatusClass(t)}calculateOrderTotal(){return this.orderDetails.reduce((t,e)=>t+parseFloat(e.selling_price)*parseFloat(e.quantity),0)}calculateTotalTax(){return this.orderDetails.reduce((t,e)=>t+parseFloat(e.tax_amount),0)}static \u0275fac=function(e){return new(e||r)(N(Ht),N(z),N(q))};static \u0275cmp=V({type:r,selectors:[["app-order"]],decls:3,vars:2,consts:[[1,"page","page-order"],[4,"ngIf"],["class","order-detail-page",4,"ngIf"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-input-group"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-search-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search orders by Bill ID, customer ID...","autocomplete","off",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-search-btn","type","button","aria-label","Clear search",3,"click",4,"ngIf"],["class","search-results-info",4,"ngIf"],[1,"page-header"],[1,"page-title"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","orders-container",4,"ngIf"],["type","button","aria-label","Clear search",1,"clear-search-btn",3,"click"],[1,"clear-icon"],[1,"search-results-info"],[1,"results-summary"],[1,"results-text"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"error-message"],[1,"error-icon"],[1,"orders-container"],["class","empty-state",4,"ngIf"],["class","orders-grid",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"empty-state"],[1,"empty-icon"],[1,"orders-grid"],["class","order-card",3,"click",4,"ngFor","ngForOf"],[1,"order-card",3,"click"],[1,"order-header"],[1,"order-id"],[1,"order-status",3,"ngClass"],[1,"order-info"],[1,"order-amount"],[1,"amount-label"],[1,"amount-value"],[1,"order-date"],[1,"date-label"],[1,"date-value"],[1,"order-customer"],[1,"customer-label"],[1,"customer-value"],[1,"order-footer"],[1,"view-details-btn"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-text"],[1,"pagination-controls"],["title","First Page",1,"pagination-btn",3,"click","disabled"],["title","Previous Page",1,"pagination-btn",3,"click","disabled"],["class","pagination-btn page-number",3,"active","click",4,"ngFor","ngForOf"],["title","Next Page",1,"pagination-btn",3,"click","disabled"],["title","Last Page",1,"pagination-btn",3,"click","disabled"],[1,"pagination-btn","page-number",3,"click"],[1,"order-detail-page"],[1,"order-detail-nav"],["aria-label","Back",1,"nav-icon",3,"click"],[1,"fa-solid","fa-arrow-left"],["class","loading-detail",4,"ngIf"],["class","order-detail-content",4,"ngIf"],[1,"loading-detail"],[1,"order-detail-content"],[1,"order-summary"],[1,"summary-grid"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"value","amount"],[1,"value",3,"ngClass"],[1,"order-items"],[1,"items-table"],[1,"table-header"],[1,"col-item"],[1,"col-qty"],[1,"col-price"],[1,"col-tax"],[1,"col-total"],["class","table-row",4,"ngFor","ngForOf"],[1,"order-totals"],[1,"total-row"],[1,"total-label"],[1,"total-value"],[1,"total-row","final-total"],["class","payment-details",4,"ngIf"],[1,"table-row"],[1,"item-name"],[1,"d-flex","align-item-center","gap-8"],[1,"payment-details"],["class","payment-item",4,"ngFor","ngForOf"],[1,"payment-item"],[1,"payment-info"],[1,"payment-label"],[1,"payment-value"]],template:function(e,n){e&1&&(a(0,"div",0),O(1,Fa,16,6,"div",1)(2,ja,8,2,"div",2),s()),e&2&&(p(),f("ngIf",!n.showOrderDetail),p(),f("ngIf",n.showOrderDetail))},dependencies:[B,mt,Be,$,_t,qe,Ke,ht,J],styles:['[_nghost-%COMP%]{display:block;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);font-size:13px;line-height:1.35}.page-order[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem 0;margin-bottom:1.5rem}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:stretch}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;background:#fff;border-radius:6px;border:1px solid var(--color-neutral-400);transition:border-color .2s ease}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]:focus-within{border-color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .input-search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;width:16px;height:16px;color:var(--color-neutral-500);z-index:1}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 2.25rem;border:none;border-radius:6px;font-size:14px;background:transparent;color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-500)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:var(--color-neutral-200);border:none;color:var(--color-neutral-600);cursor:pointer;padding:.25rem;border-radius:4px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-300)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:12px}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-neutral-200)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.5rem}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:13px;font-weight:500}.page-order[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.page-order[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:var(--color-neutral-800);margin:0}.page-order[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}.page-order[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;background-color:var(--color-error-bg, #fed7d7);border:1px solid var(--color-error-border, #feb2b2);border-radius:8px;color:var(--color-error-text, #c53030)}.page-order[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:1.2rem}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;color:var(--color-neutral-700);font-weight:500}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.page-order[_ngcontent-%COMP%]   .orders-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;margin-bottom:2rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--color-neutral-300);border-radius:8px;padding:1.25rem;transition:all .2s ease;cursor:pointer;box-shadow:0 1px 3px #0000000d}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a;border-color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-status.status-completed[_ngcontent-%COMP%]{background-color:var(--color-success-bg, #c6f6d5);color:var(--color-success-text, #22543d)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-status.status-refunded[_ngcontent-%COMP%]{background-color:var(--color-error-bg, #fed7d7);color:var(--color-error-text, #c53030)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{margin-bottom:1rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.85rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-label[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-weight:500}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-primary-bg);font-size:1rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-value[_ngcontent-%COMP%]{color:var(--color-neutral-700);font-weight:500}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:var(--color-primary-bg);color:var(--color-primary-text);border:none;border-radius:6px;font-weight:500;font-size:.9rem;cursor:pointer;transition:background-color .2s ease}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center;margin-top:2rem;padding:1rem;background:#fff;border-radius:8px}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .pagination-text[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.85rem;font-weight:500}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;gap:.25rem;align-items:center}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid var(--color-neutral-300);background-color:#fff;color:var(--color-neutral-600);border-radius:4px;cursor:pointer;transition:all .2s ease;min-width:36px;font-size:.85rem;font-weight:500}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-neutral-100);border-color:var(--color-neutral-400)}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn.active[_ngcontent-%COMP%]{background-color:var(--color-primary-bg);color:var(--color-primary-text);border-color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn.page-number[_ngcontent-%COMP%]{font-weight:500}.page-order[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:1rem}.page-order[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;max-width:900px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;border-bottom:1px solid var(--color-neutral-200);background:var(--color-primary-bg-light)}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-primary-bg);margin:0}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-neutral-600);padding:.25rem;border-radius:4px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-200);color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;margin-bottom:1.5rem}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-neutral-700);background-color:transparent;border:1px solid var(--color-neutral-500);padding:8px;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-100);border-color:var(--color-primary-bg);color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--color-neutral-800);margin:0}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%]{padding:1rem 0rem}.page-order[_ngcontent-%COMP%]   .loading-detail[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:2rem}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child, .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--color-neutral-800);margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid var(--color-primary-bg-light)}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background-color:var(--color-neutral-50);border-radius:6px;border-left:3px solid var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-weight:500;font-size:.85rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800);font-size:.9rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.amount[_ngcontent-%COMP%]{color:var(--color-primary-bg);font-size:1rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.status-completed[_ngcontent-%COMP%]{color:var(--color-success-text, #22543d)}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.status-refunded[_ngcontent-%COMP%]{color:var(--color-error-text, #c53030)}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]{border:1px solid var(--color-neutral-200);border-radius:6px;overflow:hidden}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 80px 100px 120px 100px;gap:1rem;padding:.75rem;align-items:center}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:var(--color-primary-bg-light);font-weight:600;color:var(--color-primary-bg);border-bottom:1px solid var(--color-neutral-200);font-size:.85rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-neutral-200);font-size:.85rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--color-neutral-50)}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;color:var(--color-neutral-800);margin-bottom:.25rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]   .item-id[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-price[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]{text-align:right;font-weight:500}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:var(--color-neutral-600);font-size:12px;line-height:16px}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]{color:var(--color-primary-bg);font-weight:600}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:var(--color-primary-bg-light);border-radius:6px}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;font-size:.9rem}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-row.final-total[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--color-primary-bg);border-top:2px solid var(--color-primary-bg);margin-top:.5rem;padding-top:1rem}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:var(--color-neutral-700);font-weight:500}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{padding:1rem;background-color:var(--color-neutral-50);border-radius:6px;margin-bottom:.5rem;border-left:3px solid var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.9rem}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-label[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-weight:500}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800)}@media (max-width: 768px){.page-order[_ngcontent-%COMP%]{padding:.5rem}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{padding:.75rem}.page-order[_ngcontent-%COMP%]   .orders-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.page-order[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:.5rem;max-height:95vh}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem;text-align:left}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-price[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]{text-align:left}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:none}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:block;padding:1rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:center}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:var(--color-neutral-600);margin-right:1rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]:before{content:"Item: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%]:before{content:"Qty: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-price[_ngcontent-%COMP%]:before{content:"Price: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%]:before{content:"Tax: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]:before{content:"Total: "}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.page-order[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{flex-wrap:wrap}}']})};function Ba(r,t){if(r&1&&(a(0,"p",5),d(1),s()),r&2){let e=u();p(),L("Welcome, ",e.user.name)}}function qa(r,t){r&1&&(a(0,"div",6)(1,"div",7),d(2,"Loading dashboard..."),s()())}function Ka(r,t){if(r&1&&(a(0,"div",33)(1,"span",34),d(2,"Address:"),s(),a(3,"span",35),d(4),s()()),r&2){let e=u(3);p(4),S(e.user.user_detail.address)}}function $a(r,t){if(r&1&&(a(0,"div",33)(1,"span",34),d(2,"Plan Expires:"),s(),a(3,"span",35),d(4),je(5,"date"),s()()),r&2){let e=u(3);p(4),S(dr(5,1,e.user.user_detail.plan_end,"mediumDate"))}}function Ua(r,t){if(r&1&&(a(0,"div",31)(1,"h2"),d(2,"Business Information"),s(),a(3,"div",32)(4,"div",33)(5,"span",34),d(6,"Business Name:"),s(),a(7,"span",35),d(8),s()(),a(9,"div",33)(10,"span",34),d(11,"Email:"),s(),a(12,"span",35),d(13),s()(),a(14,"div",33)(15,"span",34),d(16,"Phone:"),s(),a(17,"span",35),d(18),s()(),a(19,"div",33)(20,"span",34),d(21,"Unique ID:"),s(),a(22,"span",35),d(23),s()(),O(24,Ka,5,1,"div",36)(25,$a,6,4,"div",36),s()()),r&2){let e=u(2);p(8),S(e.user.name||"-"),p(5),S(e.user.email||"-"),p(5),S(e.user.phone||"-"),p(5),S(e.user.unique_id||"-"),p(),f("ngIf",e.user.user_detail==null?null:e.user.user_detail.address),p(),f("ngIf",e.user.user_detail==null?null:e.user.user_detail.plan_end)}}function Ha(r,t){if(r&1&&(a(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),h(4,"i",12),s(),a(5,"div",13)(6,"h3",14),d(7,"Total Branches"),s(),a(8,"p",15),d(9,"-"),s(),a(10,"span",16),d(11,"Active branches"),s()()(),a(12,"div",10)(13,"div",11),h(14,"i",17),s(),a(15,"div",13)(16,"h3",14),d(17,"Total Staff"),s(),a(18,"p",15),d(19,"-"),s(),a(20,"span",16),d(21,"Active staff members"),s()()(),a(22,"div",10)(23,"div",11),h(24,"i",18),s(),a(25,"div",13)(26,"h3",14),d(27,"Today's Orders"),s(),a(28,"p",15),d(29,"-"),s(),a(30,"span",16),d(31,"Orders processed today"),s()()(),a(32,"div",10)(33,"div",11),h(34,"i",19),s(),a(35,"div",13)(36,"h3",14),d(37,"Today's Revenue"),s(),a(38,"p",15),d(39,"\u20B9 -"),s(),a(40,"span",16),d(41,"Total revenue today"),s()()()(),O(42,Ua,26,6,"div",20),a(43,"div",21)(44,"h2"),d(45,"Quick Actions"),s(),a(46,"div",22)(47,"button",23),h(48,"i",24),a(49,"span"),d(50,"Categories"),s()(),a(51,"button",25),h(52,"i",17),a(53,"span"),d(54,"Manage Customers"),s()(),a(55,"button",26),h(56,"i",18),a(57,"span"),d(58,"View Orders"),s()(),a(59,"button",27),h(60,"i",28),a(61,"span"),d(62,"Settings"),s()(),a(63,"button",29),h(64,"i",30),a(65,"span"),d(66,"Profile"),s()()()()()),r&2){let e=u();p(42),f("ngIf",e.user)}}var Gt=class r{constructor(t){this.auth=t}user=null;loading=!0;ngOnInit(){this.auth.user$.subscribe(t=>{this.user=t,this.loading=!1})}static \u0275fac=function(e){return new(e||r)(N(z))};static \u0275cmp=V({type:r,selectors:[["app-dashboard"]],decls:7,vars:3,consts:[[1,"dashboard-page"],[1,"dashboard-header"],["class","welcome-text",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"welcome-text"],[1,"loading-container"],[1,"loading-spinner"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fa-solid","fa-store"],[1,"stat-info"],[1,"stat-title"],[1,"stat-value"],[1,"stat-label"],[1,"fa-solid","fa-users"],[1,"fa-solid","fa-receipt"],[1,"fa-solid","fa-indian-rupee-sign"],["class","info-section",4,"ngIf"],[1,"quick-actions"],[1,"action-buttons"],["routerLink","/categories",1,"action-btn"],[1,"fa-solid","fa-layer-group"],["routerLink","/customers",1,"action-btn"],["routerLink","/order",1,"action-btn"],["routerLink","/settings",1,"action-btn"],[1,"fa-solid","fa-cog"],["routerLink","/profile",1,"action-btn"],[1,"fa-solid","fa-user"],[1,"info-section"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","info-item",4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),d(3,"Dashboard"),s(),O(4,Ba,2,1,"p",2),s(),O(5,qa,3,0,"div",3)(6,Ha,67,1,"div",4),s()),e&2&&(p(4),f("ngIf",n.user),p(),f("ngIf",n.loading),p(),f("ngIf",!n.loading))},dependencies:[B,$,J,xe,pr],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);min-height:100vh}.dashboard-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:var(--color-neutral-800);margin:0 0 .5rem}.dashboard-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-neutral-600);margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--color-neutral-600)}.dashboard-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dashboard-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--color-neutral-800);margin:0 0 1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;display:flex;gap:1.5rem;align-items:flex-start;box-shadow:0 2px 8px #00000014;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--color-primary-bg) 0%,color-mix(in srgb,var(--color-primary-bg) 80%,black) 100%);display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-neutral-600);margin:0 0 .5rem}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--color-neutral-800);margin:0 0 .25rem;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-neutral-500)}.info-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--color-neutral-50);border-radius:8px;border-left:3px solid var(--color-primary-bg)}.info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-700);font-size:.9rem}.info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:var(--color-neutral-800);font-size:.9rem;text-align:right}.quick-actions[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014}.action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem 1.5rem;background:var(--color-primary-bg-light);border:2px solid var(--color-primary-bg);border-radius:10px;color:var(--color-primary-bg);font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.action-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg);color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}@media (max-width: 768px){[_nghost-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.info-grid[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Qa=["sideMenu"];function Ga(r,t){if(r&1){let e=A();a(0,"div",22),y("click",function(){v(e);let o=u();return b(o.close())}),s()}}function Wa(r,t){if(r&1){let e=A();a(0,"li")(1,"a",23),y("click",function(){v(e);let o=u();return b(o.close())}),h(2,"i",24),a(3,"span"),d(4,"POS"),s()()()}}function Ya(r,t){if(r&1){let e=A();a(0,"li")(1,"a",25),y("click",function(){v(e);let o=u();return b(o.close())}),h(2,"i",26),a(3,"span"),d(4,"Dashboard"),s()()()}}var Wt=class r{constructor(t,e){this.auth=t;this.router=e;this.auth.user$.subscribe(n=>{this.userName=n?.name||n?.full_name||n?.username||"";let o=n?.logo||n?.fav_icon||n?.logo_url||null;o&&(this.logoUrl=/^https?:\/\//i.test(o)?o:`${ee.assetsBase.replace(/\/$/,"")}/${o.replace(/^\//,"")}`),this.isOwner=this.auth.isOwner(),this.hasOwner=this.auth.hasOwner()})}open=!1;userName="";logoUrl=`${ee.assetsBase.replace(/\/$/,"")}/no-image-icon.jpg`;isFullscreen=!1;previousFocus=null;sideMenuRef;isOwner=!1;hasOwner=!1;onKeydown=t=>{this.open&&(t.key==="Escape"&&(this.close(),t.preventDefault()),t.key==="Tab"&&this.maintainFocus(t))};toggle(){this.open=!this.open,this.open?this.onOpen():this.onClose()}onOpen(){this.previousFocus=document.activeElement,setTimeout(()=>this.focusFirstInMenu(),0)}close(){this.open=!1,this.onClose()}onClose(){try{this.previousFocus?.focus?.()}catch{}}focusFirstInMenu(){let t=this.sideMenuRef?.nativeElement;if(!t)return;let e=Array.from(t.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])")).filter(n=>!n.hasAttribute("disabled"));e.length&&e[0].focus()}ngOnInit(){document.addEventListener("keydown",this.onKeydown)}ngOnDestroy(){document.removeEventListener("keydown",this.onKeydown)}onFsChange(){let t=document;this.isFullscreen=!!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)}toggleFullscreen(){return $n(this,null,function*(){try{let t=document;if(this.isFullscreen)t.exitFullscreen?yield t.exitFullscreen():t.webkitExitFullscreen?yield t.webkitExitFullscreen():t.mozCancelFullScreen?yield t.mozCancelFullScreen():t.msExitFullscreen&&(yield t.msExitFullscreen()),this.isFullscreen=!1;else{let e=document.documentElement;e.requestFullscreen?yield e.requestFullscreen():e.webkitRequestFullscreen?yield e.webkitRequestFullscreen():e.mozRequestFullScreen?yield e.mozRequestFullScreen():e.msRequestFullscreen&&(yield e.msRequestFullscreen()),this.isFullscreen=!0}}catch{}})}maintainFocus(t){let e=this.sideMenuRef?.nativeElement;if(!e)return;let n=Array.from(e.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])")).filter(c=>!c.hasAttribute("disabled"));if(!n.length)return;let o=n[0],i=n[n.length-1],l=document.activeElement;!t.shiftKey&&l===i?(o.focus(),t.preventDefault()):t.shiftKey&&l===o&&(i.focus(),t.preventDefault())}onLogout(){this.auth.logout().subscribe({complete:()=>{this.auth.clearSession(),this.router.navigate(["/login"])}})}static \u0275fac=function(e){return new(e||r)(N(z),N(q))};static \u0275cmp=V({type:r,selectors:[["app-header"]],viewQuery:function(e,n){if(e&1&&ar(Qa,5,Zn),e&2){let o;sr(o=lr())&&(n.sideMenuRef=o.first)}},hostBindings:function(e,n){e&1&&y("fullscreenchange",function(){return n.onFsChange()},We)("webkitfullscreenchange",function(){return n.onFsChange()},We)("mozfullscreenchange",function(){return n.onFsChange()},We)("MSFullscreenChange",function(){return n.onFsChange()},We)},decls:34,vars:10,consts:[["sideMenu",""],[1,"app-header"],[1,"hamburger",3,"click"],["aria-hidden","true",1,"fa-solid","fa-bars"],[1,"logo-wrap"],["alt","logo","width","120",3,"src"],[1,"spacer"],[1,"fullscreen-btn",3,"click"],["aria-hidden","true"],["class","menu-backdrop",3,"click",4,"ngIf"],[1,"side-menu"],[1,"side-head"],[1,"side-title"],["aria-label","Close menu",1,"side-close",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark"],[4,"ngIf"],["routerLink","/customers","aria-label","Customers",3,"click"],["aria-hidden","true",1,"fa-solid","fa-users"],["routerLink","/profile",3,"click"],[1,"fa-solid","fa-user"],[3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"menu-backdrop",3,"click"],["routerLink","/pos","aria-label","POS",3,"click"],["aria-hidden","true",1,"fa-solid","fa-desktop"],["routerLink","/dashboard","aria-label","Dashboard",3,"click"],["aria-hidden","true",1,"fa-solid","fa-chart-line"]],template:function(e,n){if(e&1){let o=A();a(0,"header",1)(1,"button",2),y("click",function(){return v(o),b(n.toggle())}),h(2,"i",3),s(),a(3,"div",4),h(4,"img",5),s(),h(5,"div",6),a(6,"button",7),y("click",function(){return v(o),b(n.toggleFullscreen())}),h(7,"i",8),s()(),O(8,Ga,1,0,"div",9),a(9,"nav",10,0)(11,"div",11)(12,"strong",12),d(13),s(),a(14,"button",13),y("click",function(){return v(o),b(n.close())}),h(15,"i",14),s()(),a(16,"ul"),O(17,Wa,5,0,"li",15)(18,Ya,5,0,"li",15),a(19,"li")(20,"a",16),y("click",function(){return v(o),b(n.close())}),h(21,"i",17),a(22,"span"),d(23,"Customers"),s()()(),a(24,"li")(25,"a",18),y("click",function(){return v(o),b(n.close())}),h(26,"i",19),a(27,"span"),d(28,"Profile"),s()()(),a(29,"li")(30,"a",20),y("click",function(){return v(o),b(n.onLogout())}),h(31,"i",21),a(32,"span"),d(33,"Logout"),s()()()()()}e&2&&(p(4),f("src",n.logoUrl,st),p(2),rr("title",n.isFullscreen?"Exit fullscreen":"Enter fullscreen"),p(),Le(n.isFullscreen?"fa-solid fa-compress":"fa-solid fa-expand"),p(),f("ngIf",n.open),p(),Z("open",n.open),p(4),S(n.userName),p(4),f("ngIf",n.isOwner),p(),f("ngIf",n.hasOwner))},dependencies:[B,$,J,xe],styles:[".app-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.7rem .75rem;border-bottom:1px solid var(--color-neutral-400);background:var(--color-primary-bg, var(--color-neutral-100));color:var(--color-primary-text, var(--color-neutral-800))}.hamburger[_ngcontent-%COMP%]{font-size:20px;border:0;background:transparent;cursor:pointer}.app-header[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .app-header[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary-text, var(--color-neutral-100))}.fullscreen-btn[_ngcontent-%COMP%]{margin-left:.5rem;background:transparent;border:0;color:var(--color-primary-text, var(--color-neutral-100));font-size:18px;display:inline-flex;align-items:center;justify-content:center;padding:6px;cursor:pointer}.logo-wrap[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:0 16px;display:flex;align-items:center;justify-content:center}.logo-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;object-fit:contain}.spacer[_ngcontent-%COMP%]{flex:1}.side-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-280px;width:280px;height:100%;background:var(--color-neutral-100);box-shadow:2px 0 10px var(--shadow-xxs);transition:left .22s ease;z-index:1000;padding:1rem 0}.side-menu.open[_ngcontent-%COMP%]{left:0;padding:1rem}.side-head[_ngcontent-%COMP%]{padding-bottom:.75rem;border-bottom:1px solid var(--color-neutral-400);margin-bottom:1rem;display:flex;align-items:center;justify-content:space-between}.side-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:var(--overlay-dark-35);z-index:900}.side-close[_ngcontent-%COMP%]{background:transparent;border:0;font-size:20px;cursor:pointer}.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.4rem 0}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-neutral-800);text-decoration:none;display:flex;align-items:center;gap:.75rem;padding:.6rem 0rem;border-radius:8px;transition:all .3s ease}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:28px;text-align:center;font-size:18px;color:var(--color-primary-bg);transition:all .3s ease}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,var(--color-primary-bg) 0%,#ffffff 100%);transform:translate(5px);padding-left:16px;color:var(--color-primary-text)}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--color-primary-text);transform:scale(1.1)}"]})};function Xa(r,t){r&1&&(a(0,"a",9),h(1,"i",10),s())}function Za(r,t){r&1&&(a(0,"a",11),h(1,"i",12),s())}var Yt=class r{constructor(t,e){this.router=t;this.auth=e}isOwner=!1;hasOwner=!1;ngOnInit(){this.auth.user$.subscribe(()=>{this.isOwner=this.auth.isOwner(),this.hasOwner=this.auth.hasOwner()})}go(t){try{this.router.navigate([t])}catch{}}static \u0275fac=function(e){return new(e||r)(N(q),N(z))};static \u0275cmp=V({type:r,selectors:[["app-footer"]],decls:9,vars:2,consts:[["role","navigation","aria-label","Footer navigation",1,"app-footer"],["class","btn","routerLink","/pos","routerLinkActive","active","aria-label","POS",4,"ngIf"],["class","btn","routerLink","/dashboard","routerLinkActive","active","aria-label","Dashboard",4,"ngIf"],["routerLink","/profile","routerLinkActive","active","aria-label","Profile",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-user","fa-lg"],["routerLink","/settings","routerLinkActive","active","aria-label","Settings",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-gear","fa-lg"],["routerLink","/order","routerLinkActive","active","aria-label","Orders",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-receipt","fa-lg"],["routerLink","/pos","routerLinkActive","active","aria-label","POS",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-desktop","fa-lg"],["routerLink","/dashboard","routerLinkActive","active","aria-label","Dashboard",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-chart-line","fa-lg"]],template:function(e,n){e&1&&(a(0,"nav",0),O(1,Xa,2,0,"a",1)(2,Za,2,0,"a",2),a(3,"a",3),h(4,"i",4),s(),a(5,"a",5),h(6,"i",6),s(),a(7,"a",7),h(8,"i",8),s()()),e&2&&(p(),f("ngIf",n.isOwner),p(),f("ngIf",n.hasOwner))},dependencies:[B,$,J,xe,yr],styles:[".app-footer[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;height:64px;display:flex;align-items:center;justify-content:space-around;background:var(--color-primary-bg);color:var(--color-primary-text);border-top:1px solid rgba(255,255,255,.06);z-index:1000}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#ffffffe6;display:inline-flex;align-items:center;justify-content:center;width:52px;height:52px;padding:6px;text-decoration:none;border-radius:12px;transition:background .12s ease,color .12s ease,transform .08s ease}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:24px;height:24px}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{line-height:0;vertical-align:middle;display:inline-block;color:inherit}.app-footer[_ngcontent-%COMP%]   .btn.router-link-active[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]   .btn.router-link-active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]   .btn.router-link-active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);box-shadow:0 6px 16px #0d6efd1f;transform:translateY(-2px)}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff0f;color:var(--color-primary-text)}.with-footer[_nghost-%COMP%]{padding-bottom:56px}"]})};function Ja(r,t){r&1&&(a(0,"div",16),d(1,"Added"),s())}function es(r,t){if(r&1&&(a(0,"span"),d(1),s()),r&2){let e=u().$implicit,n=u(2);p(),L(" (",n.taxPercent(e),"%)")}}function ts(r,t){if(r&1){let e=A();a(0,"li",19)(1,"div",20)(2,"div",21)(3,"div",22),d(4),s(),a(5,"div",23),d(6),s()(),a(7,"div",24)(8,"div",25)(9,"div",26),d(10),s(),a(11,"div",27),d(12),s()()()(),a(13,"div",28)(14,"div",29)(15,"div",30),d(16),je(17,"currency"),s(),a(18,"div",30),d(19),je(20,"currency"),s(),a(21,"div",31),d(22),je(23,"currency"),O(24,es,2,1,"span",32),s()(),a(25,"div",33)(26,"button",34),y("click",function(){let o=v(e).$implicit,i=u(2);return b(i.inc(o.id))}),h(27,"i",35),s(),a(28,"button",36),y("click",function(){let o=v(e).$implicit,i=u(2);return b(i.dec(o.id))}),h(29,"i",37),s(),a(30,"button",38),y("click",function(){let o=v(e).$implicit,i=u(2);return b(i.del(o.id))}),h(31,"i",39),s()()()()}if(r&2){let e=t.$implicit,n=u(2);p(4),S((e.product.product==null?null:e.product.product.name)||e.product.name),p(2),L("Qty: ",e.qty),p(4),L("",(e.product.product==null||e.product.product.category==null?null:e.product.product.category.name)||(e.product.category==null?null:e.product.category.name)," "),p(2),S((e.product.product==null||e.product.product.sub_category==null?null:e.product.product.sub_category.name)||(e.product.sub_category==null?null:e.product.sub_category.name)),p(4),S(pt(17,8,(e.product.product==null?null:e.product.product.price)||e.product.price||e.price,"INR","symbol","1.2-2")),p(3),S(pt(20,13,e.price,"INR","symbol","1.2-2")),p(3),L("Tax: ",pt(23,18,(e.product.product==null?null:e.product.product.tax_amount)||e.product.tax_amount||e.tax_amount||0,"INR","symbol","1.2-2")," "),p(2),f("ngIf",n.taxPercent(e)!==null)}}function ns(r,t){if(r&1&&(a(0,"ul",17),O(1,ts,32,23,"li",18),s()),r&2){let e=u();p(),f("ngForOf",e.items)}}function rs(r,t){r&1&&(a(0,"div",40),d(1,"Cart is empty"),s())}function os(r,t){if(r&1){let e=A();a(0,"button",41),y("click",function(){v(e);let o=u();return b(o.toggle())}),h(1,"i",42),a(2,"span",43),d(3),s()()}if(r&2){let e=u();p(3),S(e.cart.totalItems())}}function is(r,t){if(r&1&&(a(0,"div",44),d(1),s()),r&2){let e=u();p(),S(e.toast)}}var Xt=class r{constructor(t,e){this.cart=t;this.router=e;this.cart.cart$.subscribe(n=>{this.items=n,(!this.items||this.items.length===0)&&(this.open=!1)}),this.cart.added$.subscribe(()=>{this.cart.totalItems()>0&&(this.open=!0,this.pulse=!0,setTimeout(()=>this.pulse=!1,350),this.showToast("Added to cart"))})}open=!1;items=[];toast="";toastTimer=null;pulse=!1;taxPercent(t){try{let e=t.product||{},n=e.price??e.selling_price??0,o=e.tax_amount??e.taxAmount??t.tax_amount??0,i=Number(n)||0,l=Number(o)||0;if(i<=0||l<=0)return null;let c=l/i*100;return Math.round(c*100)/100}catch{return null}}toggle(){if(!this.items?.length){this.showToast("No items available in cart");return}this.open=!this.open}close(){this.open=!1}inc(t){this.cart.increment(t)}dec(t){this.cart.decrement(t)}del(t){this.cart.remove(t)}clear(){this.cart.clear()}goToCheckout(){if(!this.items?.length){this.showToast("Cart is empty");return}this.router.navigate(["/checkout"])}showToast(t){this.toast=t,this.toastTimer&&clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.toast="",this.toastTimer=null},2e3)}static \u0275fac=function(e){return new(e||r)(N(Ct),N(q))};static \u0275cmp=V({type:r,selectors:[["app-cart"]],decls:21,vars:11,consts:[["emptyCart",""],["role","dialog","aria-label","Cart",1,"cart-panel"],[1,"cart-header"],[1,"cart-controls"],["title","Clear cart","aria-label","Clear cart",3,"click"],[1,"fa-solid","fa-trash-can"],["title","Close","aria-label","Close cart",3,"click"],[1,"fa-solid","fa-chevron-down"],["class","cart-added",4,"ngIf"],[1,"cart-body"],["class","cart-items",4,"ngIf","ngIfElse"],[1,"cart-footer"],[1,"cart-summary"],["title","Checkout",1,"checkout",3,"click"],["class","cart-toggle","aria-label","Open cart",3,"click",4,"ngIf"],["class","cart-toast",4,"ngIf"],[1,"cart-added"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-item"],[1,"ci-main"],[1,"d-flex","flex-row","align-center","space-between"],[1,"ci-title"],[1,"quantity-info"],[1,"ci-categories","space-between","d-flex","align-center"],[1,"d-flex","flex-row"],[1,"category"],[1,"subcategory"],[1,"ci-pricing","d-flex","flex-row","align-center","space-between"],[1,"price-info","d-flex","align-center"],[1,"base-price"],[1,"tax-amount"],[4,"ngIf"],[1,"ci-actions","d-flex","flex-row"],["aria-label","Increase",3,"click"],[1,"fa-solid","fa-plus"],["aria-label","Decrease",3,"click"],[1,"fa-solid","fa-minus"],["aria-label","Remove",3,"click"],[1,"fa-solid","fa-trash"],[1,"empty"],["aria-label","Open cart",1,"cart-toggle",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"badge"],[1,"cart-toast"]],template:function(e,n){if(e&1){let o=A();a(0,"div",1)(1,"header",2)(2,"strong"),d(3,"Cart"),s(),a(4,"div",3)(5,"button",4),y("click",function(){return v(o),b(n.clear())}),h(6,"i",5),s(),a(7,"button",6),y("click",function(){return v(o),b(n.close())}),h(8,"i",7),s()()(),O(9,Ja,2,0,"div",8),a(10,"div",9),O(11,ns,2,1,"ul",10)(12,rs,2,0,"ng-template",null,0,gt),s(),a(14,"footer",11)(15,"div",12),d(16),s(),a(17,"button",13),y("click",function(){return v(o),b(n.goToCheckout())}),d(18,"Checkout"),s()()(),O(19,os,4,1,"button",14)(20,is,2,1,"div",15)}if(e&2){let o=lt(13);Z("open",n.open)("pulse",n.pulse),p(9),f("ngIf",n.pulse),p(2),f("ngIf",n.items==null?null:n.items.length)("ngIfElse",o),p(5),Ye("Total: Rs. ",n.cart.totalPrice()," \u2014 Items: ",n.cart.totalItems()),p(3),f("ngIf",n.cart.totalItems()>0),p(),f("ngIf",n.toast)}},dependencies:[B,Be,$,gr],styles:["[_ngcontent-%COMP%]:root{--cart-bg: #fffbe6;--cart-shadow: 0 -6px 24px rgba(0, 0, 0, .12)}.cart-toggle[_ngcontent-%COMP%]{position:fixed;right:4rem;top:10px;z-index:1200;background:var(--color-neutral-100);color:var(--color-primary-bg);border-radius:999px;padding:.6rem .8rem;border:none;display:flex;align-items:center;gap:.5rem}.cart-toggle[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:var(--danger, #ff4d4f);padding:.15rem .4rem;border-radius:999px;color:#fff;font-weight:600}.cart-panel[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;transform:translateY(100%);transition:transform .28s ease;z-index:1100;background:var(--color-primary-text);box-shadow:var(--cart-shadow);padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.06)}.cart-panel.open[_ngcontent-%COMP%]{transform:translateY(0) scaleY(1)}.cart-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #eee}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:999px;border:1px solid rgba(0,0,0,.04);background:#fffffffa;box-shadow:0 1px 4px #0000000f;cursor:pointer;transition:all .15s ease;color:var(--color-neutral-800)}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.cart-controls[_ngcontent-%COMP%]   button.clear[_ngcontent-%COMP%]{background:transparent;color:var(--color-danger-text);border-color:#ff4d4f14}.cart-controls[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--btn-bg: var(--color-neutral-100);--btn-color: var(--color-primary-bg);background:var(--btn-bg);color:var(--btn-color);border:1px solid rgba(0,0,0,.04);padding:6px 8px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;gap:6px;cursor:pointer;box-shadow:0 1px 4px #0c14320a;transition:transform .12s ease,box-shadow .12s ease,opacity .12s ease}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0c143214}.cart-controls[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%]{background:transparent;color:var(--color-danger-text);border-color:#ff4d4f0f}.cart-controls[_ngcontent-%COMP%]   button.ghost[_ngcontent-%COMP%]{background:transparent;border:none;box-shadow:none}.cart-body[_ngcontent-%COMP%]{max-height:222px;overflow:auto;padding:12px}.cart-items[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}.cart-item[_ngcontent-%COMP%]{padding:12px;border-radius:8px;border:1px solid var(--color-neutral-400);background:#fff;transition:all .2s ease}.cart-item[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-bg);box-shadow:0 2px 8px #00000014}.ci-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.ci-title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:var(--color-neutral-900);line-height:1.2}.ci-code[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--color-neutral-500);text-transform:uppercase;letter-spacing:.5px}.ci-categories[_ngcontent-%COMP%]{display:flex;gap:.5rem}.ci-categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:.125rem .5rem;background:var(--color-primary-bg);color:#fff;border-radius:12px;white-space:nowrap}.ci-categories[_ngcontent-%COMP%]   .subcategory[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:.125rem .5rem;background:var(--color-info-bg);color:var(--color-info-text);border:1px solid var(--color-info-border);border-radius:12px;white-space:nowrap}.ci-pricing[_ngcontent-%COMP%]{margin-top:.75rem}.ci-pricing[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{display:flex;gap:.125rem}.ci-pricing[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .base-price[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:var(--color-neutral-900)}.ci-pricing[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .tax-amount[_ngcontent-%COMP%]{font-size:10px;color:var(--color-warning-text);font-weight:500}.ci-hsn[_ngcontent-%COMP%]{font-size:10px;color:var(--color-neutral-500);font-weight:500;font-family:Courier New,monospace}.quantity-info[_ngcontent-%COMP%]{font-size:12px;color:var(--color-neutral-600);font-weight:500;background:var(--color-neutral-100);padding:.125rem .5rem;border-radius:8px;min-width:46px;text-align:right}.ci-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:center}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-neutral-200);border:none;border-radius:6px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:var(--color-neutral-700)}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg);color:#fff;transform:scale(1.1)}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:transparent;color:var(--color-danger-text);box-shadow:none}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background:transparent;color:var(--color-danger-text);transform:none;opacity:.9}.cart-footer[_ngcontent-%COMP%]{padding:12px 16px;border-top:1px solid #eee;display:flex;align-items:center;justify-content:space-between}.checkout[_ngcontent-%COMP%]{background:var(--primary, #0b5cff);color:#fff;border:none;padding:8px 12px;border-radius:8px}.cart-toast[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:5.5rem;background:#000000d9;color:#fff;padding:.5rem .8rem;border-radius:6px;z-index:1300}.cart-added[_ngcontent-%COMP%]{position:absolute;right:1rem;top:-2rem;background:var(--primary, #0b5cff);color:#fff;padding:.25rem .5rem;border-radius:6px;font-size:.85rem}"]})};function as(r,t){if(r&1&&(a(0,"div",1)(1,"div"),d(2),s()()),r&2){let e=u();p(),Le("toast-inner "+(e.t.type||"")),p(),S(e.t.message)}}var Zt=class r{constructor(t){this.toast=t;this.toast.toast$.subscribe(e=>this.t=e)}t=null;static \u0275fac=function(e){return new(e||r)(N(Er))};static \u0275cmp=V({type:r,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","toast",4,"ngIf"],[1,"toast"]],template:function(e,n){e&1&&O(0,as,3,3,"div",0),e&2&&f("ngIf",n.t)},dependencies:[B,$],styles:[".toast[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:1.5rem;z-index:2000}.toast-inner[_ngcontent-%COMP%]{padding:.6rem 1rem;border-radius:6px;color:#fff}.toast-inner.error[_ngcontent-%COMP%]{background:#ff4d4f}.toast-inner.success[_ngcontent-%COMP%]{background:#28a745}.toast-inner.info[_ngcontent-%COMP%]{background:#333}"]})};function ss(r,t){r&1&&h(0,"app-cart")}var Jt=class r{constructor(t,e){this.router=t;this.auth=e}showCart=!0;routerSubscription;ngOnInit(){this.routerSubscription=this.router.events.pipe(Gn(n=>n instanceof Cr)).subscribe(n=>{let o=n.url.includes("/checkout"),i=this.auth.isOwner();this.showCart=i&&!o});let t=this.router.url.includes("/checkout"),e=this.auth.isOwner();this.showCart=e&&!t}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)(N(q),N(z))};static \u0275cmp=V({type:r,selectors:[["app-layout"]],decls:7,vars:1,consts:[[1,"app-layout"],[1,"app-header-sticky"],[1,"app-main"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0),h(1,"app-header",1),a(2,"main",2),h(3,"router-outlet"),s(),h(4,"app-footer"),O(5,ss,1,0,"app-cart",3),h(6,"app-toast"),s()),e&2&&(p(5),f("ngIf",n.showCart))},dependencies:[B,$,J,ft,Wt,Yt,Xt,Zt],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;padding-bottom:72px;min-height:calc(100vh - 150px);max-height:calc(100vh - 150px);overflow-y:auto;overflow-x:hidden}.app-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}app-header[_ngcontent-%COMP%]{flex:0 0 auto}.app-main[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto;-webkit-overflow-scrolling:touch}app-footer[_ngcontent-%COMP%]{flex:0 0 auto}"]})};var en=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.isLoggedIn()?!0:this.router.createUrlTree(["/login"])}static \u0275fac=function(e){return new(e||r)(Y(z),Y(q))};static \u0275prov=oe({token:r,factory:r.\u0275fac,providedIn:"root"})};var tn=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.isOwner()?!0:this.router.createUrlTree(["/dashboard"])}static \u0275fac=function(e){return new(e||r)(Y(z),Y(q))};static \u0275prov=oe({token:r,factory:r.\u0275fac,providedIn:"root"})};var nn=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.hasOwner()?!0:this.router.createUrlTree(["/pos"])}static \u0275fac=function(e){return new(e||r)(Y(z),Y(q))};static \u0275prov=oe({token:r,factory:r.\u0275fac,providedIn:"root"})};var Eo=[{path:"login",component:Bt},{path:"",component:Jt,canActivate:[en],children:[{path:"dashboard",component:Gt,canActivate:[nn]},{path:"pos",component:Kt,canActivate:[tn]},{path:"categories",loadComponent:()=>import("./chunk-BCRBCMYC.js").then(r=>r.CategoriesComponent)},{path:"customers",loadComponent:()=>import("./chunk-CDX2OEKH.js").then(r=>r.CustomersComponent)},{path:"profile",component:$t},{path:"settings",component:Ut},{path:"settings/gender",loadComponent:()=>import("./chunk-SJMUGKFA.js").then(r=>r.GenderComponent)},{path:"settings/payment-list",loadComponent:()=>import("./chunk-X6SZRKWX.js").then(r=>r.PaymentListComponent)},{path:"settings/finance",loadComponent:()=>import("./chunk-XFS4TTEE.js").then(r=>r.FinanceComponent)},{path:"settings/staff",loadComponent:()=>import("./chunk-A6ARQ2NB.js").then(r=>r.StaffComponent)},{path:"order",component:Qt},{path:"checkout",loadComponent:()=>import("./chunk-NZ7JVYYK.js").then(r=>r.CheckoutComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}];var To=(r,t)=>{let n=Yn(z).getToken();if(n){let o=r.clone({setHeaders:{Authorization:`Bearer ${n}`}});return t(o)}return t(r)};function ls(r){return()=>{r.initFromStorage()}}var rn={providers:[vr(Eo,br()),hr(_r([To])),jt(),{provide:nr,useFactory:ls,deps:[z],multi:!0}]};ur(yt,at(Me({},rn),{providers:[...rn&&rn.providers||[],jt()]})).catch(r=>console.error(r));
