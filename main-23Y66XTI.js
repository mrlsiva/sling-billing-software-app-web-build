import{b as qe,c as un,d as He,e as Sr,g as bt,h as wr,j as Er,k as Tr,p as kr,q as vt,r as Ir}from"./chunk-HAJHRD4F.js";import{a as Ot}from"./chunk-4AUTOROT.js";import{$ as h,$a as Mr,Aa as ut,Ba as ft,D as ir,E as mn,F as lt,G as We,H as p,Ha as ht,I as or,Ia as je,Ja as H,K as ar,Ka as _t,M as sr,Ma as hr,Na as B,O as D,Oa as _r,P as R,Pa as Cr,Qa as yr,Ra as Ct,Sa as br,T as P,Ta as vr,V as lr,Va as Pr,Wa as yt,X as ct,Xa as j,Y as f,Ya as ye,Z as a,Za as Or,_ as s,_a as xr,a as Me,aa as cr,ab as Y,b as st,ba as dr,bb as te,c as Wn,ca as I,cb as Pt,d as Yn,da as y,db as z,e as Xn,ea as u,f as Zn,fa as pr,ga as gr,ha as mr,ia as dt,j as Jn,ja as ur,ka as ee,l as er,la as ze,m as tr,ma as c,n as N,na as x,oa as L,p as J,pa as Ye,qa as pt,ra as gt,s as K,sa as Re,t as nr,ta as Ve,u as b,ua as Be,v,w as $,x as de,xa as fr,y as rr,ya as Se,za as mt}from"./chunk-UMG6E2N2.js";var xt=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=R({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&h(0,"router-outlet")},dependencies:[yt],encapsulation:2})};var k=(function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r})(k||{}),ue="*";function Ar(r,t=null){return{type:k.Sequence,steps:r,options:t}}function fn(r){return{type:k.Style,styles:r,offset:null}}var Pe=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Ke=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++n==o&&this._onDestroy()}),l.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,d)=>Math.max(l,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(i)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Xe="!";function Dr(r){return new N(3e3,!1)}function Di(){return new N(3100,!1)}function Fi(){return new N(3101,!1)}function Ni(r){return new N(3001,!1)}function Li(r){return new N(3003,!1)}function zi(r){return new N(3004,!1)}function Nr(r,t){return new N(3005,!1)}function Lr(){return new N(3006,!1)}function zr(){return new N(3007,!1)}function Rr(r,t){return new N(3008,!1)}function Vr(r){return new N(3002,!1)}function Br(r,t,e,n,i){return new N(3010,!1)}function jr(){return new N(3011,!1)}function qr(){return new N(3012,!1)}function Hr(){return new N(3200,!1)}function Kr(){return new N(3202,!1)}function $r(){return new N(3013,!1)}function Ur(r){return new N(3014,!1)}function Qr(r){return new N(3015,!1)}function Gr(r){return new N(3016,!1)}function Wr(r,t){return new N(3404,!1)}function Ri(r){return new N(3502,!1)}function Yr(r){return new N(3503,!1)}function Xr(){return new N(3300,!1)}function Zr(r){return new N(3504,!1)}function Jr(r){return new N(3301,!1)}function ei(r,t){return new N(3302,!1)}function ti(r){return new N(3303,!1)}function ni(r,t){return new N(3400,!1)}function ri(r){return new N(3401,!1)}function ii(r){return new N(3402,!1)}function oi(r,t){return new N(3505,!1)}function Oe(r){switch(r.length){case 0:return new Pe;case 1:return r[0];default:return new Ke(r)}}function yn(r,t,e=new Map,n=new Map){let i=[],o=[],l=-1,d=null;if(t.forEach(g=>{let m=g.get("offset"),_=m==l,C=_&&d||new Map;g.forEach((A,T)=>{let M=T,E=A;if(T!=="offset")switch(M=r.normalizePropertyName(M,i),E){case Xe:E=e.get(T);break;case ue:E=n.get(T);break;default:E=r.normalizeStyleValue(T,M,E,i);break}C.set(M,E)}),_||o.push(C),d=C,l=m}),i.length)throw Ri(i);return o}function Mt(r,t,e,n){switch(t){case"start":r.onStart(()=>n(e&&hn(e,"start",r)));break;case"done":r.onDone(()=>n(e&&hn(e,"done",r)));break;case"destroy":r.onDestroy(()=>n(e&&hn(e,"destroy",r)));break}}function hn(r,t,e){let n=e.totalTime,i=!!e.disabled,o=St(r.element,r.triggerName,r.fromState,r.toState,t||r.phaseName,n??r.totalTime,i),l=r._data;return l!=null&&(o._data=l),o}function St(r,t,e,n,i="",o=0,l){return{element:r,triggerName:t,fromState:e,toState:n,phaseName:i,totalTime:o,disabled:!!l}}function oe(r,t,e){let n=r.get(t);return n||r.set(t,n=e),n}function bn(r){let t=r.indexOf(":"),e=r.substring(1,t),n=r.slice(t+1);return[e,n]}var Vi=typeof document>"u"?null:document.documentElement;function wt(r){let t=r.parentNode||r.host||null;return t===Vi?null:t}function Bi(r){return r.substring(1,6)=="ebkit"}var Ie=null,Fr=!1;function ai(r){Ie||(Ie=ji()||{},Fr=Ie.style?"WebkitAppearance"in Ie.style:!1);let t=!0;return Ie.style&&!Bi(r)&&(t=r in Ie.style,!t&&Fr&&(t="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Ie.style)),t}function ji(){return typeof document<"u"?document.body:null}function vn(r,t){for(;t;){if(t===r)return!0;t=wt(t)}return!1}function Pn(r,t,e){if(e)return Array.from(r.querySelectorAll(t));let n=r.querySelector(t);return n?[n]:[]}var qi=1e3,On="{{",Hi="}}",xn="ng-enter",Et="ng-leave",Ze="ng-trigger",Je=".ng-trigger",Mn="ng-animating",Tt=".ng-animating";function be(r){if(typeof r=="number")return r;let t=r.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_n(parseFloat(t[1]),t[2])}function _n(r,t){switch(t){case"s":return r*qi;default:return r}}function et(r,t,e){return r.hasOwnProperty("duration")?r:$i(r,t,e)}var Ki=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function $i(r,t,e){let n,i=0,o="";if(typeof r=="string"){let l=r.match(Ki);if(l===null)return t.push(Dr(r)),{duration:0,delay:0,easing:""};n=_n(parseFloat(l[1]),l[2]);let d=l[3];d!=null&&(i=_n(parseFloat(d),l[4]));let g=l[5];g&&(o=g)}else n=r;if(!e){let l=!1,d=t.length;n<0&&(t.push(Di()),l=!0),i<0&&(t.push(Fi()),l=!0),l&&t.splice(d,0,Dr(r))}return{duration:n,delay:i,easing:o}}function si(r){return r.length?r[0]instanceof Map?r:r.map(t=>new Map(Object.entries(t))):[]}function fe(r,t,e){t.forEach((n,i)=>{let o=kt(i);e&&!e.has(i)&&e.set(i,r.style[o]),r.style[o]=n})}function we(r,t){t.forEach((e,n)=>{let i=kt(n);r.style[i]=""})}function $e(r){return Array.isArray(r)?r.length==1?r[0]:Ar(r):r}function li(r,t,e){let n=t.params||{},i=Sn(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||e.push(Ni(o))})}var Cn=new RegExp(`${On}\\s*(.+?)\\s*${Hi}`,"g");function Sn(r){let t=[];if(typeof r=="string"){let e;for(;e=Cn.exec(r);)t.push(e[1]);Cn.lastIndex=0}return t}function Ue(r,t,e){let n=`${r}`,i=n.replace(Cn,(o,l)=>{let d=t[l];return d==null&&(e.push(Li(l)),d=""),d.toString()});return i==n?r:i}var Ui=/-+([a-z0-9])/g;function kt(r){return r.replace(Ui,(...t)=>t[1].toUpperCase())}function ci(r,t){return r===0||t===0}function di(r,t,e){if(e.size&&t.length){let n=t[0],i=[];if(e.forEach((o,l)=>{n.has(l)||i.push(l),n.set(l,o)}),i.length)for(let o=1;o<t.length;o++){let l=t[o];i.forEach(d=>l.set(d,It(r,d)))}}return t}function ae(r,t,e){switch(t.type){case k.Trigger:return r.visitTrigger(t,e);case k.State:return r.visitState(t,e);case k.Transition:return r.visitTransition(t,e);case k.Sequence:return r.visitSequence(t,e);case k.Group:return r.visitGroup(t,e);case k.Animate:return r.visitAnimate(t,e);case k.Keyframes:return r.visitKeyframes(t,e);case k.Style:return r.visitStyle(t,e);case k.Reference:return r.visitReference(t,e);case k.AnimateChild:return r.visitAnimateChild(t,e);case k.AnimateRef:return r.visitAnimateRef(t,e);case k.Query:return r.visitQuery(t,e);case k.Stagger:return r.visitStagger(t,e);default:throw zi(t.type)}}function It(r,t){return window.getComputedStyle(r)[t]}var Hn=(()=>{class r{validateStyleProperty(e){return ai(e)}containsElement(e,n){return vn(e,n)}getParentElement(e){return wt(e)}query(e,n,i){return Pn(e,n,i)}computeStyle(e,n,i){return i||""}animate(e,n,i,o,l,d=[],g){return new Pe(i,o)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})(),De=class{static NOOP=new Hn},Fe=class{};var Qi=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Lt=class extends Fe{normalizePropertyName(t,e){return kt(t)}normalizeStyleValue(t,e,n,i){let o="",l=n.toString().trim();if(Qi.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let d=n.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&d[1].length==0&&i.push(Nr(t,n))}return l+o}};var zt="*";function Gi(r,t){let e=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Wi(n,e,t)):e.push(r),e}function Wi(r,t,e){if(r[0]==":"){let g=Yi(r,e);if(typeof g=="function"){t.push(g);return}r=g}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(Qr(r)),t;let i=n[1],o=n[2],l=n[3];t.push(pi(i,l));let d=i==zt&&l==zt;o[0]=="<"&&!d&&t.push(pi(l,i))}function Yi(r,t){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Gr(r)),"* => *"}}var At=new Set(["true","1"]),Dt=new Set(["false","0"]);function pi(r,t){let e=At.has(r)||Dt.has(r),n=At.has(t)||Dt.has(t);return(i,o)=>{let l=r==zt||r==i,d=t==zt||t==o;return!l&&e&&typeof i=="boolean"&&(l=i?At.has(r):Dt.has(r)),!d&&n&&typeof o=="boolean"&&(d=o?At.has(t):Dt.has(t)),l&&d}}var vi=":self",Xi=new RegExp(`s*${vi}s*,?`,"g");function Pi(r,t,e,n){return new An(r).build(t,e,n)}var gi="",An=class{_driver;constructor(t){this._driver=t}build(t,e,n){let i=new Dn(e);return this._resetContextStyleTimingState(i),ae(this,$e(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=gi,t.collectedStyles=new Map,t.collectedStyles.set(gi,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0,o=[],l=[];return t.name.charAt(0)=="@"&&e.errors.push(Lr()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),d.type==k.State){let g=d,m=g.name;m.toString().split(/\s*,\s*/).forEach(_=>{g.name=_,o.push(this.visitState(g,e))}),g.name=m}else if(d.type==k.Transition){let g=this.visitTransition(d,e);n+=g.queryCount,i+=g.depCount,l.push(g)}else e.errors.push(zr())}),{type:k.Trigger,name:t.name,states:o,transitions:l,queryCount:n,depCount:i,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,l=i||{};n.styles.forEach(d=>{d instanceof Map&&d.forEach(g=>{Sn(g).forEach(m=>{l.hasOwnProperty(m)||o.add(m)})})}),o.size&&e.errors.push(Rr(t.name,[...o.values()]))}return{type:k.State,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=ae(this,$e(t.animation),e),i=Gi(t.expr,e.errors);return{type:k.Transition,matchers:i,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ae(t.options)}}visitSequence(t,e){return{type:k.Sequence,steps:t.steps.map(n=>ae(this,n,e)),options:Ae(t.options)}}visitGroup(t,e){let n=e.currentTime,i=0,o=t.steps.map(l=>{e.currentTime=n;let d=ae(this,l,e);return i=Math.max(i,e.currentTime),d});return e.currentTime=i,{type:k.Group,steps:o,options:Ae(t.options)}}visitAnimate(t,e){let n=to(t.timings,e.errors);e.currentAnimateTimings=n;let i,o=t.styles?t.styles:fn({});if(o.type==k.Keyframes)i=this.visitKeyframes(o,e);else{let l=t.styles,d=!1;if(!l){d=!0;let m={};n.easing&&(m.easing=n.easing),l=fn(m)}e.currentTime+=n.duration+n.delay;let g=this.visitStyle(l,e);g.isEmptyStep=d,i=g}return e.currentAnimateTimings=null,{type:k.Animate,timings:n,style:i,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of i)typeof d=="string"?d===ue?n.push(d):e.errors.push(Vr(d)):n.push(new Map(Object.entries(d)));let o=!1,l=null;return n.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(l=d.get("easing"),d.delete("easing")),!o)){for(let g of d.values())if(g.toString().indexOf(On)>=0){o=!0;break}}}),{type:k.Style,styles:n,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(l=>{typeof l!="string"&&l.forEach((d,g)=>{let m=e.collectedStyles.get(e.currentQuerySelector),_=m.get(g),C=!0;_&&(o!=i&&o>=_.startTime&&i<=_.endTime&&(e.errors.push(Br(g,_.startTime,_.endTime,o,i)),C=!1),o=_.startTime),C&&m.set(g,{startTime:o,endTime:i}),e.options&&li(d,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:k.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(jr()),n;let i=1,o=0,l=[],d=!1,g=!1,m=0,_=t.steps.map(Q=>{let G=this._makeStyleAst(Q,e),ne=G.offset!=null?G.offset:eo(G.styles),X=0;return ne!=null&&(o++,X=G.offset=ne),g=g||X<0||X>1,d=d||X<m,m=X,l.push(X),G});g&&e.errors.push(qr()),d&&e.errors.push(Hr());let C=t.steps.length,A=0;o>0&&o<C?e.errors.push(Kr()):o==0&&(A=i/(C-1));let T=C-1,M=e.currentTime,E=e.currentAnimateTimings,V=E.duration;return _.forEach((Q,G)=>{let ne=A>0?G==T?1:A*G:l[G],X=ne*V;e.currentTime=M+E.delay+X,E.duration=X,this._validateStyleAst(Q,e),Q.offset=ne,n.styles.push(Q)}),n}visitReference(t,e){return{type:k.Reference,animation:ae(this,$e(t.animation),e),options:Ae(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:k.AnimateChild,options:Ae(t.options)}}visitAnimateRef(t,e){return{type:k.AnimateRef,animation:this.visitReference(t.animation,e),options:Ae(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;let[o,l]=Zi(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,oe(e.collectedStyles,e.currentQuerySelector,new Map);let d=ae(this,$e(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:k.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:l,animation:d,originalSelector:t.selector,options:Ae(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push($r());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:et(t.timings,e.errors,!0);return{type:k.Stagger,animation:ae(this,$e(t.animation),e),timings:n,options:null}}};function Zi(r){let t=!!r.split(/\s*,\s*/).find(e=>e==vi);return t&&(r=r.replace(Xi,"")),r=r.replace(/@\*/g,Je).replace(/@\w+/g,e=>Je+"-"+e.slice(1)).replace(/:animating/g,Tt),[r,t]}function Ji(r){return r?Me({},r):null}var Dn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function eo(r){if(typeof r=="string")return null;let t=null;if(Array.isArray(r))r.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let e=r;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function to(r,t){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=et(r,t).duration;return wn(o,0,"")}let e=r;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=wn(0,0,"");return o.dynamic=!0,o.strValue=e,o}let i=et(e,t);return wn(i.duration,i.delay,i.easing)}function Ae(r){return r?(r=Me({},r),r.params&&(r.params=Ji(r.params))):r={},r}function wn(r,t,e){return{duration:r,delay:t,easing:e}}function Kn(r,t,e,n,i,o,l=null,d=!1){return{type:1,element:r,keyframes:t,preStyleProps:e,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:l,subTimeline:d}}var nt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},no=1,ro=":enter",io=new RegExp(ro,"g"),oo=":leave",ao=new RegExp(oo,"g");function Oi(r,t,e,n,i,o=new Map,l=new Map,d,g,m=[]){return new Fn().buildKeyframes(r,t,e,n,i,o,l,d,g,m)}var Fn=class{buildKeyframes(t,e,n,i,o,l,d,g,m,_=[]){m=m||new nt;let C=new Nn(t,e,m,i,o,_,[]);C.options=g;let A=g.delay?be(g.delay):0;C.currentTimeline.delayNextStep(A),C.currentTimeline.setStyles([l],null,C.errors,g),ae(this,n,C);let T=C.timelines.filter(M=>M.containsAnimation());if(T.length&&d.size){let M;for(let E=T.length-1;E>=0;E--){let V=T[E];if(V.element===e){M=V;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([d],null,C.errors,g)}return T.length?T.map(M=>M.buildKeyframes()):[Kn(e,[],[],[],0,A,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let i=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(n,i,i.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let i of t){let o=i?.delay;if(o){let l=typeof o=="number"?o:be(Ue(o,i?.params??{},e.errors));n.delayNextStep(l)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,l=n.duration!=null?be(n.duration):null,d=n.delay!=null?be(n.delay):null;return l!==0&&t.forEach(g=>{let m=e.appendInstructionToTimeline(g,l,d);o=Math.max(o,m.duration+m.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ae(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&(i=e.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==k.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Rt);let l=be(o.delay);i.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>ae(this,l,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?be(t.options.delay):0;t.steps.forEach(l=>{let d=e.createSubContext(t.options);o&&d.delayNextStep(o),ae(this,l,d),i=Math.max(i,d.currentTimeline.currentTime),n.push(d.currentTimeline)}),n.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,i=e.params?Ue(n,e.params,e.errors):n;return et(i,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());let o=t.style;o.type==k.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,i=e.currentTimeline.duration,o=n.duration,d=e.createSubContext().currentTimeline;d.easing=n.easing,t.styles.forEach(g=>{let m=g.offset||0;d.forwardTime(m*o),d.setStyles(g.styles,g.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(i+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?be(i.delay):0;o&&(e.previousNode.type===k.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Rt);let l=n,d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=d.length;let g=null;d.forEach((m,_)=>{e.currentQueryIndex=_;let C=e.createSubContext(t.options,m);o&&C.delayNextStep(o),m===e.element&&(g=C.currentTimeline),ae(this,t.animation,C),C.currentTimeline.applyStylesToKeyframe();let A=C.currentTimeline.currentTime;l=Math.max(l,A)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,i=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),d=l*(e.currentQueryTotal-1),g=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=d-g;break;case"full":g=n.currentStaggerTime;break}let _=e.currentTimeline;g&&_.delayNextStep(g);let C=_.currentTime;ae(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-C+(i.startTime-n.currentTimeline.startTime)}},Rt={},Nn=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Rt;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,i,o,l,d,g){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=l,this.timelines=d,this.currentTimeline=g||new Vt(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=be(n.duration)),n.delay!=null&&(i.delay=be(n.delay));let o=n.params;if(o){let l=i.params;l||(l=this.options.params={}),Object.keys(o).forEach(d=>{(!e||!l.hasOwnProperty(d))&&(l[d]=Ue(o[d],l,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(i=>{n[i]=e[i]})}}return t}createSubContext(t=null,e,n){let i=e||this.element,o=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Rt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let i={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new Ln(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,o,l){let d=[];if(i&&d.push(this.element),t.length>0){t=t.replace(io,"."+this._enterClassName),t=t.replace(ao,"."+this._leaveClassName);let g=n!=1,m=this._driver.query(this.element,t,g);n!==0&&(m=n<0?m.slice(m.length+n,m.length):m.slice(0,n)),d.push(...m)}return!o&&d.length==0&&l.push(Ur(e)),d}},Vt=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new r(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=no,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||ue),this._currentKeyframe.set(e,ue);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&this._previousKeyframe.set("easing",e);let o=i&&i.params||{},l=so(t,this._globalTimelineStyles);for(let[d,g]of l){let m=Ue(g,o,n);this._pendingStyles.set(d,m),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??ue),this._updateStyle(d,m)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let i=this._styleSummary.get(n);(!i||e.time>i.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((d,g)=>{let m=new Map([...this._backFill,...d]);m.forEach((_,C)=>{_===Xe?t.add(C):_===ue&&e.add(C)}),n||m.set("offset",g/this.duration),i.push(m)});let o=[...t.values()],l=[...e.values()];if(n){let d=i[0],g=new Map(d);d.set("offset",0),g.set("offset",1),i=[d,g]}return Kn(this.element,i,o,l,this.duration,this.startTime,this.easing,!1)}},Ln=class extends Vt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,i,o,l,d=!1){super(t,e,l.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=d,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],l=n+e,d=e/l,g=new Map(t[0]);g.set("offset",0),o.push(g);let m=new Map(t[0]);m.set("offset",mi(d)),o.push(m);let _=t.length-1;for(let C=1;C<=_;C++){let A=new Map(t[C]),T=A.get("offset"),M=e+T*n;A.set("offset",mi(M/l)),o.push(A)}n=l,e=0,i="",t=o}return Kn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}};function mi(r,t=3){let e=Math.pow(10,t-1);return Math.round(r*e)/e}function so(r,t){let e=new Map,n;return r.forEach(i=>{if(i==="*"){n??=t.keys();for(let o of n)e.set(o,ue)}else for(let[o,l]of i)e.set(o,l)}),e}function ui(r,t,e,n,i,o,l,d,g,m,_,C,A){return{type:0,element:r,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:o,toState:n,toStyles:l,timelines:d,queriedElements:g,preStyleProps:m,postStyleProps:_,totalTime:C,errors:A}}var En={},Bt=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return lo(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(e,n):new Map}build(t,e,n,i,o,l,d,g,m,_){let C=[],A=this.ast.options&&this.ast.options.params||En,T=d&&d.params||En,M=this.buildStyles(n,T,C),E=g&&g.params||En,V=this.buildStyles(i,E,C),Q=new Set,G=new Map,ne=new Map,X=i==="void",Ne={params:xi(E,A),delay:this.ast.options?.delay},_e=_?[]:Oi(t,e,this.ast.animation,o,l,M,V,Ne,m,C),re=0;return _e.forEach(ie=>{re=Math.max(ie.duration+ie.delay,re)}),C.length?ui(e,this._triggerName,n,i,X,M,V,[],[],G,ne,re,C):(_e.forEach(ie=>{let Ee=ie.element,Le=oe(G,Ee,new Set);ie.preStyleProps.forEach(Te=>Le.add(Te));let $n=oe(ne,Ee,new Set);ie.postStyleProps.forEach(Te=>$n.add(Te)),Ee!==e&&Q.add(Ee)}),ui(e,this._triggerName,n,i,X,M,V,_e,[...Q.values()],G,ne,re))}};function lo(r,t,e,n,i){return r.some(o=>o(t,e,n,i))}function xi(r,t){let e=Me({},t);return Object.entries(r).forEach(([n,i])=>{i!=null&&(e[n]=i)}),e}var zn=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,i=xi(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((l,d)=>{l&&(l=Ue(l,i,e));let g=this.normalizer.normalizePropertyName(d,e);l=this.normalizer.normalizeStyleValue(d,g,l,e),n.set(d,l)})}),n}};function co(r,t,e){return new Rn(r,t,e)}var Rn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new zn(i.style,o,n))}),fi(this.states,"true","1"),fi(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Bt(t,i,this.states))}),this.fallbackTransition=po(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(l=>l.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function po(r,t,e){let n=[(l,d)=>!0],i={type:k.Sequence,steps:[],options:null},o={type:k.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new Bt(r,o,t)}function fi(r,t,e){r.has(t)?r.has(e)||r.set(e,r.get(t)):r.has(e)&&r.set(t,r.get(e))}var go=new nt,Vn=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],i=[],o=Pi(this._driver,e,n,i);if(n.length)throw Yr(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let i=t.element,o=yn(this._normalizer,t.keyframes,e,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let i=[],o=this._animations.get(t),l,d=new Map;if(o?(l=Oi(this._driver,e,o,xn,Et,new Map,new Map,n,go,i),l.forEach(_=>{let C=oe(d,_.element,new Map);_.postStyleProps.forEach(A=>C.set(A,null))})):(i.push(Xr()),l=[]),i.length)throw Zr(i);d.forEach((_,C)=>{_.forEach((A,T)=>{_.set(T,this._driver.computeStyle(C,T,ue))})});let g=l.map(_=>{let C=d.get(_.element);return this._buildPlayer(_,new Map,C)}),m=Oe(g);return this._playersById.set(t,m),m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Jr(t);return e}listen(t,e,n,i){let o=St(e,"","","");return Mt(this._getPlayer(t),n,o,i),()=>{}}command(t,e,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let l=i[0]||{};this.create(t,e,l);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},hi="ng-animate-queued",mo=".ng-animate-queued",Tn="ng-animate-disabled",uo=".ng-animate-disabled",fo="ng-star-inserted",ho=".ng-star-inserted",_o=[],Mi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Co={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},he="__ng_removed",rt=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=bo(i),n){let o=t,{value:l}=o,d=Wn(o,["value"]);this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(i=>{n[i]==null&&(n[i]=e[i])})}}},tt="void",kn=new rt(tt),Bn=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,ge(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.has(e))throw ei(n,e);if(n==null||n.length==0)throw ti(e);if(!vo(n))throw ni(n,e);let o=oe(this._elementListeners,t,[]),l={name:e,phase:n,callback:i};o.push(l);let d=oe(this._engine.statesByElement,t,new Map);return d.has(e)||(ge(t,Ze),ge(t,Ze+"-"+e),d.set(e,kn)),()=>{this._engine.afterFlush(()=>{let g=o.indexOf(l);g>=0&&o.splice(g,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ri(t);return e}trigger(t,e,n,i=!0){let o=this._getTrigger(e),l=new it(this.id,e,t),d=this._engine.statesByElement.get(t);d||(ge(t,Ze),ge(t,Ze+"-"+e),this._engine.statesByElement.set(t,d=new Map));let g=d.get(e),m=new rt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&g&&m.absorbOptions(g.options),d.set(e,m),g||(g=kn),!(m.value===tt)&&g.value===m.value){if(!xo(g.params,m.params)){let E=[],V=o.matchStyles(g.value,g.params,E),Q=o.matchStyles(m.value,m.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{we(t,V),fe(t,Q)})}return}let A=oe(this._engine.playersByElement,t,[]);A.forEach(E=>{E.namespaceId==this.id&&E.triggerName==e&&E.queued&&E.destroy()});let T=o.matchTransition(g.value,m.value,t,m.params),M=!1;if(!T){if(!i)return;T=o.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:g,toState:m,player:l,isFallbackTransition:M}),M||(ge(t,hi),l.onStart(()=>{Qe(t,hi)})),l.onDone(()=>{let E=this.players.indexOf(l);E>=0&&this.players.splice(E,1);let V=this._engine.playersByElement.get(t);if(V){let Q=V.indexOf(l);Q>=0&&V.splice(Q,1)}}),this.players.push(l),A.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Je,!0);n.forEach(i=>{if(i[he])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(l=>l.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,n,i){let o=this._engine.statesByElement.get(t),l=new Map;if(o){let d=[];if(o.forEach((g,m)=>{if(l.set(m,g.value),this._triggers.has(m)){let _=this.trigger(t,m,tt,i);_&&d.push(_)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),n&&Oe(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let i=new Set;e.forEach(o=>{let l=o.name;if(i.has(l))return;i.add(l);let g=this._triggers.get(l).fallbackTransition,m=n.get(l)||kn,_=new rt(tt),C=new it(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:g,fromState:m,toState:_,player:C,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let l=t;for(;l=l.parentNode;)if(n.statesByElement.get(l)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[he];(!o||o===Mi)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ge(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,l=this._elementListeners.get(o);l&&l.forEach(d=>{if(d.name==n.triggerName){let g=St(o,n.triggerName,n.fromState.value,n.toState.value);g._data=t,Mt(n.player,d.phase,g,d.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((n,i)=>{let o=n.transition.ast.depCount,l=i.transition.ast.depCount;return o==0||l==0?o-l:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},jn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Bn(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let l=!1,d=this.driver.getParentElement(e);for(;d;){let g=i.get(d);if(g){let m=n.indexOf(g);n.splice(m+1,0,t),l=!0;break}d=this.driver.getParentElement(d)}l||n.unshift(t)}else n.push(t);return i.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,i){if(Ft(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!Ft(e))return;let o=e[he];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){let l=this._fetchNamespace(t);l&&l.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ge(t,Tn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Qe(t,Tn))}removeNode(t,e,n){if(Ft(e)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,i,o){this.collectedLeaveElements.push(e),e[he]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,i,o){return Ft(e)?this._fetchNamespace(t).listen(e,n,i,o):()=>{}}_buildInstruction(t,e,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Je,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Tt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Oe(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[he];if(e&&e.setForRemoval){if(t[he]=Mi,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Tn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,uo,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];ge(i,fo)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Oe(e).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw ii(t)}_flushAnimations(t,e){let n=new nt,i=[],o=new Map,l=[],d=new Map,g=new Map,m=new Map,_=new Set;this.disabledNodes.forEach(O=>{_.add(O);let S=this.driver.query(O,mo,!0);for(let w=0;w<S.length;w++)_.add(S[w])});let C=this.bodyNode,A=Array.from(this.statesByElement.keys()),T=yi(A,this.collectedEnterElements),M=new Map,E=0;T.forEach((O,S)=>{let w=xn+E++;M.set(S,w),O.forEach(F=>ge(F,w))});let V=[],Q=new Set,G=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){let S=this.collectedLeaveElements[O],w=S[he];w&&w.setForRemoval&&(V.push(S),Q.add(S),w.hasAnimation?this.driver.query(S,ho,!0).forEach(F=>Q.add(F)):G.add(S))}let ne=new Map,X=yi(A,Array.from(Q));X.forEach((O,S)=>{let w=Et+E++;ne.set(S,w),O.forEach(F=>ge(F,w))}),t.push(()=>{T.forEach((O,S)=>{let w=M.get(S);O.forEach(F=>Qe(F,w))}),X.forEach((O,S)=>{let w=ne.get(S);O.forEach(F=>Qe(F,w))}),V.forEach(O=>{this.processLeaveNode(O)})});let Ne=[],_e=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(w=>{let F=w.player,W=w.element;if(Ne.push(F),this.collectedEnterElements.length){let Z=W[he];if(Z&&Z.setForMove){if(Z.previousTriggersValues&&Z.previousTriggersValues.has(w.triggerName)){let ke=Z.previousTriggersValues.get(w.triggerName),ce=this.statesByElement.get(w.element);if(ce&&ce.has(w.triggerName)){let at=ce.get(w.triggerName);at.value=ke,ce.set(w.triggerName,at)}}F.destroy();return}}let Ce=!C||!this.driver.containsElement(C,W),le=ne.get(W),xe=M.get(W),q=this._buildInstruction(w,n,xe,le,Ce);if(q.errors&&q.errors.length){_e.push(q);return}if(Ce){F.onStart(()=>we(W,q.fromStyles)),F.onDestroy(()=>fe(W,q.toStyles)),i.push(F);return}if(w.isFallbackTransition){F.onStart(()=>we(W,q.fromStyles)),F.onDestroy(()=>fe(W,q.toStyles)),i.push(F);return}let Gn=[];q.timelines.forEach(Z=>{Z.stretchStartingKeyframe=!0,this.disabledNodes.has(Z.element)||Gn.push(Z)}),q.timelines=Gn,n.append(W,q.timelines);let Ai={instruction:q,player:F,element:W};l.push(Ai),q.queriedElements.forEach(Z=>oe(d,Z,[]).push(F)),q.preStyleProps.forEach((Z,ke)=>{if(Z.size){let ce=g.get(ke);ce||g.set(ke,ce=new Set),Z.forEach((at,gn)=>ce.add(gn))}}),q.postStyleProps.forEach((Z,ke)=>{let ce=m.get(ke);ce||m.set(ke,ce=new Set),Z.forEach((at,gn)=>ce.add(gn))})});if(_e.length){let O=[];_e.forEach(S=>{O.push(oi(S.triggerName,S.errors))}),Ne.forEach(S=>S.destroy()),this.reportError(O)}let re=new Map,ie=new Map;l.forEach(O=>{let S=O.element;n.has(S)&&(ie.set(S,S),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,re))}),i.forEach(O=>{let S=O.element;this._getPreviousPlayers(S,!1,O.namespaceId,O.triggerName,null).forEach(F=>{oe(re,S,[]).push(F),F.destroy()})});let Ee=V.filter(O=>bi(O,g,m)),Le=new Map;Ci(Le,this.driver,G,m,ue).forEach(O=>{bi(O,g,m)&&Ee.push(O)});let Te=new Map;T.forEach((O,S)=>{Ci(Te,this.driver,new Set(O),g,Xe)}),Ee.forEach(O=>{let S=Le.get(O),w=Te.get(O);Le.set(O,new Map([...S?.entries()??[],...w?.entries()??[]]))});let pn=[],Un=[],Qn={};l.forEach(O=>{let{element:S,player:w,instruction:F}=O;if(n.has(S)){if(_.has(S)){w.onDestroy(()=>fe(S,F.toStyles)),w.disabled=!0,w.overrideTotalTime(F.totalTime),i.push(w);return}let W=Qn;if(ie.size>1){let le=S,xe=[];for(;le=le.parentNode;){let q=ie.get(le);if(q){W=q;break}xe.push(le)}xe.forEach(q=>ie.set(q,W))}let Ce=this._buildAnimation(w.namespaceId,F,re,o,Te,Le);if(w.setRealPlayer(Ce),W===Qn)pn.push(w);else{let le=this.playersByElement.get(W);le&&le.length&&(w.parentPlayer=Oe(le)),i.push(w)}}else we(S,F.fromStyles),w.onDestroy(()=>fe(S,F.toStyles)),Un.push(w),_.has(S)&&i.push(w)}),Un.forEach(O=>{let S=o.get(O.element);if(S&&S.length){let w=Oe(S);O.setRealPlayer(w)}}),i.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<V.length;O++){let S=V[O],w=S[he];if(Qe(S,Et),w&&w.hasAnimation)continue;let F=[];if(d.size){let Ce=d.get(S);Ce&&Ce.length&&F.push(...Ce);let le=this.driver.query(S,Tt,!0);for(let xe=0;xe<le.length;xe++){let q=d.get(le[xe]);q&&q.length&&F.push(...q)}}let W=F.filter(Ce=>!Ce.destroyed);W.length?Po(this,S,W):this.processLeaveNode(S)}return V.length=0,pn.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();let S=this.players.indexOf(O);this.players.splice(S,1)}),O.play()}),pn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,o){let l=[];if(e){let d=this.playersByQueriedElement.get(t);d&&(l=d)}else{let d=this.playersByElement.get(t);if(d){let g=!o||o==tt;d.forEach(m=>{m.queued||!g&&m.triggerName!=i||l.push(m)})}}return(n||i)&&(l=l.filter(d=>!(n&&n!=d.namespaceId||i&&i!=d.triggerName))),l}_beforeAnimationBuild(t,e,n){let i=e.triggerName,o=e.element,l=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:i;for(let g of e.timelines){let m=g.element,_=m!==o,C=oe(n,m,[]);this._getPreviousPlayers(m,_,l,d,e.toState).forEach(T=>{let M=T.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),T.destroy(),C.push(T)})}we(o,e.fromStyles)}_buildAnimation(t,e,n,i,o,l){let d=e.triggerName,g=e.element,m=[],_=new Set,C=new Set,A=e.timelines.map(M=>{let E=M.element;_.add(E);let V=E[he];if(V&&V.removedBeforeQueried)return new Pe(M.duration,M.delay);let Q=E!==g,G=Oo((n.get(E)||_o).map(re=>re.getRealPlayer())).filter(re=>{let ie=re;return ie.element?ie.element===E:!1}),ne=o.get(E),X=l.get(E),Ne=yn(this._normalizer,M.keyframes,ne,X),_e=this._buildPlayer(M,Ne,G);if(M.subTimeline&&i&&C.add(E),Q){let re=new it(t,d,E);re.setRealPlayer(_e),m.push(re)}return _e});m.forEach(M=>{oe(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>yo(this.playersByQueriedElement,M.element,M))}),_.forEach(M=>ge(M,Mn));let T=Oe(A);return T.onDestroy(()=>{_.forEach(M=>Qe(M,Mn)),fe(g,e.toStyles)}),C.forEach(M=>{oe(i,M,[]).push(T)}),T}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Pe(t.duration,t.delay)}},it=class{namespaceId;triggerName;element;_player=new Pe;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(i=>Mt(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){oe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function yo(r,t,e){let n=r.get(t);if(n){if(n.length){let i=n.indexOf(e);n.splice(i,1)}n.length==0&&r.delete(t)}return n}function bo(r){return r??null}function Ft(r){return r&&r.nodeType===1}function vo(r){return r=="start"||r=="done"}function _i(r,t){let e=r.style.display;return r.style.display=t??"none",e}function Ci(r,t,e,n,i){let o=[];e.forEach(g=>o.push(_i(g)));let l=[];n.forEach((g,m)=>{let _=new Map;g.forEach(C=>{let A=t.computeStyle(m,C,i);_.set(C,A),(!A||A.length==0)&&(m[he]=Co,l.push(m))}),r.set(m,_)});let d=0;return e.forEach(g=>_i(g,o[d++])),l}function yi(r,t){let e=new Map;if(r.forEach(d=>e.set(d,[])),t.length==0)return e;let n=1,i=new Set(t),o=new Map;function l(d){if(!d)return n;let g=o.get(d);if(g)return g;let m=d.parentNode;return e.has(m)?g=m:i.has(m)?g=n:g=l(m),o.set(d,g),g}return t.forEach(d=>{let g=l(d);g!==n&&e.get(g).push(d)}),e}function ge(r,t){r.classList?.add(t)}function Qe(r,t){r.classList?.remove(t)}function Po(r,t,e){Oe(e).onDone(()=>r.processLeaveNode(t))}function Oo(r){let t=[];return Si(r,t),t}function Si(r,t){for(let e=0;e<r.length;e++){let n=r[e];n instanceof Ke?Si(n.players,t):t.push(n)}}function xo(r,t){let e=Object.keys(r),n=Object.keys(t);if(e.length!=n.length)return!1;for(let i=0;i<e.length;i++){let o=e[i];if(!t.hasOwnProperty(o)||r[o]!==t[o])return!1}return!0}function bi(r,t,e){let n=e.get(r);if(!n)return!1;let i=t.get(r);return i?n.forEach(o=>i.add(o)):t.set(r,n),e.delete(r),!0}var Ge=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new jn(t.body,e,n),this._timelineEngine=new Vn(t.body,e,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,e,n,i,o){let l=t+"-"+i,d=this._triggerCache[l];if(!d){let g=[],m=[],_=Pi(this._driver,o,g,m);if(g.length)throw Wr(i,g);d=co(i,_,this._normalizer),this._triggerCache[l]=d}this._transitionEngine.registerTrigger(e,i,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if(n.charAt(0)=="@"){let[o,l]=bn(n),d=i;this._timelineEngine.command(o,e,l,d)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,o){if(n.charAt(0)=="@"){let[l,d]=bn(n);return this._timelineEngine.listen(l,e,d,o)}return this._transitionEngine.listen(t,e,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Mo(r,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=In(t[0]),t.length>1&&(n=In(t[t.length-1]))):t instanceof Map&&(e=In(t)),e||n?new So(r,e,n):null}var So=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i;let o=r.initialStylesByElement.get(e);o||r.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fe(this._element,this._initialStyles),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(we(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),fe(this._element,this._initialStyles),this._state=3)}}return r})();function In(r){let t=null;return r.forEach((e,n)=>{wo(n)&&(t=t||new Map,t.set(n,e))}),t}function wo(r){return r==="display"||r==="position"}var jt=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:It(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},qt=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return vn(t,e)}getParentElement(t){return wt(t)}query(t,e,n){return Pn(t,e,n)}computeStyle(t,e,n){return It(t,e)}animate(t,e,n,i,o,l=[]){let d=i==0?"both":"forwards",g={duration:n,delay:i,fill:d};o&&(g.easing=o);let m=new Map,_=l.filter(T=>T instanceof jt);ci(n,i)&&_.forEach(T=>{T.currentSnapshot.forEach((M,E)=>m.set(E,M))});let C=si(e).map(T=>new Map(T));C=di(t,C,m);let A=Mo(t,C);return new jt(t,C,g,A)}};var Nt="@",wi="@.disabled",Ht=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,i){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,i=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,n,i){if(i){this.delegate.removeChild(t,e,n);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Nt&&e==wi?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,i){return this.delegate.listen(t,e,n,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},qn=class extends Ht{factory;constructor(t,e,n,i,o){super(e,n,i,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Nt?e.charAt(1)=="."&&e==wi?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,i){if(e.charAt(0)==Nt){let o=Eo(t),l=e.slice(1),d="";return l.charAt(0)!=Nt&&([l,d]=To(l)),this.engine.listen(this.namespaceId,o,l,d,g=>{let m=g._data||-1;this.factory.scheduleListenerCallback(m,n,g)})}return this.delegate.listen(t,e,n,i)}};function Eo(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function To(r){let t=r.indexOf("."),e=r.substring(0,t),n=r.slice(t+1);return[e,n]}var Kt=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(t,e){let i=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let m=this._rendererCache,_=m.get(i);if(!_){let C=()=>m.delete(i);_=new Ht("",i,this.engine,C),m.set(i,_)}return _}let o=e.id,l=e.id+"-"+this._currentId;this._currentId++,this.engine.register(l,t);let d=m=>{Array.isArray(m)?m.forEach(d):this.engine.registerTrigger(o,l,t,m.name,m)};return e.data.animation.forEach(d),new qn(this,l,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[l,d]=o;l(d)}),this._animationCallbacksBuffer=[]})}),i.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Io=(()=>{class r extends Ge{constructor(e,n,i){super(e,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(K(rr),K(De),K(Fe))};static \u0275prov=J({token:r,factory:r.\u0275fac})}return r})();function Ao(){return new Lt}function Do(r,t,e){return new Kt(r,t,e)}var Ei=[{provide:Fe,useFactory:Ao},{provide:Ge,useClass:Io},{provide:sr,useFactory:Do,deps:[_r,Ge,ar]}],Hs=[{provide:De,useClass:Hn},{provide:mn,useValue:"NoopAnimations"},...Ei],Fo=[{provide:De,useFactory:()=>new qt},{provide:mn,useFactory:()=>"BrowserAnimations"},...Ei];function $t(){return or("NgEagerAnimations"),[...Fo]}function No(r,t){if(r&1&&(a(0,"div",43),c(1),s()),r&2){let e=u();p(),x(e.error)}}var Ut=class r{constructor(t,e,n){this.fb=t;this.auth=e;this.router=n;this.form=this.fb.group({slug_name:["",un.required],password:["",un.required]})}form;loading=!1;error="";showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}submit(){if(this.form.invalid)return;this.loading=!0,this.error="";let{slug_name:t,password:e}=this.form.value;this.auth.login(t,e).subscribe({next:n=>{if(this.loading=!1,console.log("Login Response:",n),n?.data?.user_detail?.payment_method==="1"){this.error="Payment expired. Please Contact Admin.";return}let l=n?.token||n?.access_token||n?.auth_token||n?.data?.token||n?.data?.access_token||n?.data?.auth_token;if(l){sessionStorage.setItem("auth_token",l),console.log("Login routing logic:",{isSuperAdmin:this.auth.isSuperAdmin(),isHO:this.auth.isHO(),isHOWithBilling:this.auth.isHOWithBilling(),isBranch:this.auth.isBranch(),shouldAccessPOS:this.auth.shouldAccessPOS()}),this.auth.isSuperAdmin()?this.router.navigate(["/super-admin"]):this.auth.isHO()?this.auth.isHOWithBilling()?(console.log("HO with billing enabled - redirecting to POS"),this.router.navigate(["/pos"])):(console.log("HO without billing - redirecting to dashboard"),this.router.navigate(["/dashboard"])):this.auth.isBranch()?this.router.navigate(["/pos"]):this.router.navigate(["/dashboard"]);return}if(n?.success){console.log("Login success routing logic:",{isSuperAdmin:this.auth.isSuperAdmin(),isHO:this.auth.isHO(),isHOWithBilling:this.auth.isHOWithBilling(),isBranch:this.auth.isBranch(),shouldAccessPOS:this.auth.shouldAccessPOS()}),this.auth.isSuperAdmin()?this.router.navigate(["/super-admin"]):this.auth.isHO()?this.auth.isHOWithBilling()?(console.log("HO with billing enabled - redirecting to POS"),this.router.navigate(["/pos"])):(console.log("HO without billing - redirecting to dashboard"),this.router.navigate(["/dashboard"])):this.auth.isBranch()?this.router.navigate(["/pos"]):this.router.navigate(["/dashboard"]);return}this.error="Invalid login response"},error:n=>{this.loading=!1,this.error=n?.error?.message||"Invalid credentials"}})}static \u0275fac=function(e){return new(e||r)(D(kr),D(z),D(j))};static \u0275cmp=R({type:r,selectors:[["app-login"]],decls:47,vars:7,consts:[[1,"login-container"],[1,"pos-icons-container"],[1,"pos-icon","pos-icon-1"],[1,"fas","fa-cash-register"],[1,"pos-icon","pos-icon-2"],[1,"fas","fa-credit-card"],[1,"pos-icon","pos-icon-3"],[1,"fas","fa-receipt"],[1,"pos-icon","pos-icon-4"],[1,"fas","fa-barcode"],[1,"pos-icon","pos-icon-5"],[1,"fas","fa-shopping-cart"],[1,"pos-icon","pos-icon-6"],[1,"fas","fa-coins"],[1,"pos-icon","pos-icon-7"],[1,"fas","fa-calculator"],[1,"pos-icon","pos-icon-8"],[1,"fas","fa-tag"],[1,"pos-icon","pos-icon-9"],[1,"fas","fa-wallet"],[1,"pos-icon","pos-icon-10"],[1,"fas","fa-money-bill"],[1,"pos-icon","pos-icon-11"],[1,"fas","fa-store"],[1,"pos-icon","pos-icon-12"],[1,"fas","fa-cart-plus"],[1,"pos-brand"],["src","assets/images/sling-logo.png","alt","POS Logo",2,"width","280px"],[1,"login-card"],[1,"login-title"],[1,"login-underline"],[3,"ngSubmit","formGroup"],[1,"input-group"],[1,"far","fa-user","input-icon"],["type","text","formControlName","slug_name","placeholder","Enter User Name",1,"form-input"],[1,"fas","fa-shield-alt","input-icon"],["formControlName","password","placeholder","Password",1,"form-input",3,"type"],[1,"eye-icon",3,"click"],[1,"forgot-password"],["href","#"],["type","submit",1,"login-btn",3,"disabled"],[1,"fas","fa-arrow-right"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),h(3,"i",3),s(),a(4,"div",4),h(5,"i",5),s(),a(6,"div",6),h(7,"i",7),s(),a(8,"div",8),h(9,"i",9),s(),a(10,"div",10),h(11,"i",11),s(),a(12,"div",12),h(13,"i",13),s(),a(14,"div",14),h(15,"i",15),s(),a(16,"div",16),h(17,"i",17),s(),a(18,"div",18),h(19,"i",19),s(),a(20,"div",20),h(21,"i",21),s(),a(22,"div",22),h(23,"i",23),s(),a(24,"div",24),h(25,"i",25),s()(),a(26,"div",26),h(27,"img",27),s(),a(28,"div",28)(29,"h2",29),c(30,"Login"),s(),h(31,"div",30),a(32,"form",31),y("ngSubmit",function(){return n.submit()}),a(33,"div",32),h(34,"i",33)(35,"input",34),s(),a(36,"div",32),h(37,"i",35)(38,"input",36),a(39,"i",37),y("click",function(){return n.togglePasswordVisibility()}),s()(),a(40,"div",38)(41,"a",39),c(42,"Forgot Password ?"),s()(),a(43,"button",40),c(44),h(45,"i",41),s(),P(46,No,2,1,"div",42),s()()()),e&2&&(p(32),f("formGroup",n.form),p(6),f("type",n.showPassword?"text":"password"),p(),ze(n.showPassword?"fas fa-eye-slash":"fas fa-eye"),p(4),f("disabled",n.loading),p(),L(" ",n.loading?"Logging in...":"Login"," "),p(2),f("ngIf",n.error))},dependencies:[B,H,Ir,wr,qe,He,Sr,Er,Tr],styles:['.login-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:100vh;background:linear-gradient(135deg,var(--color-primary-bg-light) 0%,var(--color-neutral-300) 100%);display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}.back-button[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;z-index:10}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:var(--color-neutral-600);cursor:pointer;transition:color .3s ease}.back-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--color-neutral-800)}.pos-icons-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}.pos-icon[_ngcontent-%COMP%]{position:absolute;opacity:1;color:var(--color-primary-bg)}.pos-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;animation:_ngcontent-%COMP%_float 20s infinite ease-in-out}.pos-icon-1[_ngcontent-%COMP%]{top:15%;left:10%;animation-delay:0s}.pos-icon-1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:35px}.pos-icon-2[_ngcontent-%COMP%]{top:20%;right:15%;animation-delay:-5s}.pos-icon-2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.pos-icon-3[_ngcontent-%COMP%]{top:60%;left:20%;animation-delay:-10s}.pos-icon-3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px}.pos-icon-4[_ngcontent-%COMP%]{top:70%;right:25%;animation-delay:-15s}.pos-icon-4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:32px}.pos-icon-5[_ngcontent-%COMP%]{top:35%;left:5%;animation-delay:-20s}.pos-icon-5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px}.pos-icon-6[_ngcontent-%COMP%]{top:45%;right:8%;animation-delay:-25s}.pos-icon-6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.pos-icon-7[_ngcontent-%COMP%]{top:10%;right:35%;animation-delay:-30s}.pos-icon-7[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.pos-icon-8[_ngcontent-%COMP%]{top:55%;right:40%;animation-delay:-35s}.pos-icon-8[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.pos-icon-9[_ngcontent-%COMP%]{top:80%;left:8%;animation-delay:-40s}.pos-icon-9[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:26px}.pos-icon-10[_ngcontent-%COMP%]{top:25%;left:45%;animation-delay:-45s}.pos-icon-10[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}.pos-icon-11[_ngcontent-%COMP%]{top:85%;right:10%;animation-delay:-50s}.pos-icon-11[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}.pos-icon-12[_ngcontent-%COMP%]{top:40%;left:65%;animation-delay:-55s}.pos-icon-12[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0);opacity:.15}25%{transform:translateY(-15px) rotate(5deg);opacity:.25}50%{transform:translateY(0) rotate(0);opacity:.15}75%{transform:translateY(-8px) rotate(-5deg);opacity:.2}}.pos-brand[_ngcontent-%COMP%]{position:absolute;top:100px;text-align:center;z-index:2}.pos-brand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;color:var(--color-primary-bg);margin-bottom:10px;display:block}.pos-brand[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:42px;font-weight:700;color:var(--color-primary-bg);margin:0;text-shadow:0 2px 4px var(--shadow-xxs)}.login-card[_ngcontent-%COMP%]{background:var(--color-neutral-100);border-radius:16px;padding:30px;width:320px;box-shadow:0 8px 32px var(--shadow-xxs);position:relative;z-index:2;margin-top:80px}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:var(--color-neutral-800);margin:0 0 8px;text-align:left}.login-underline[_ngcontent-%COMP%]{width:40px;height:3px;background:var(--color-primary-bg);margin-bottom:25px}.nfc-login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid var(--color-primary-bg);background:var(--color-neutral-100);color:var(--color-primary-bg);border-radius:25px;font-size:14px;font-weight:500;margin-bottom:20px;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px}.nfc-login-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg);color:var(--color-primary-text)}.nfc-login-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.divider[_ngcontent-%COMP%]{text-align:center;margin:20px 0;position:relative}.divider[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:var(--color-neutral-400)}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:var(--color-neutral-100);padding:0 15px;color:var(--color-neutral-600);font-size:12px;position:relative;z-index:1}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:16px}.input-group[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:var(--color-neutral-600);font-size:14px;z-index:1}.input-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]{position:absolute;right:15px;top:50%;transform:translateY(-50%);color:var(--color-neutral-600);font-size:16px;cursor:pointer;z-index:1;transition:all .3s ease;padding:2px;border-radius:4px}.input-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]:hover{color:var(--color-primary-bg);background:#f8931d1a;transform:translateY(-50%) scale(1.1)}.input-group[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%]:active{color:var(--color-secondary-bg);background:#19ad9f1a;transform:translateY(-50%) scale(.95)}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:12px 45px;border:1px solid var(--color-neutral-400);border-radius:8px;font-size:14px;background:var(--color-neutral-200);transition:all .3s ease;box-sizing:border-box}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg);background:var(--color-neutral-100)}.input-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-600)}.forgot-password[_ngcontent-%COMP%]{text-align:center;margin:16px 0 24px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary-bg);text-decoration:none;font-size:13px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:var(--color-primary-bg);color:var(--color-primary-text);border:none;border-radius:25px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:16px}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-secondary-bg);transform:translateY(-1px)}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled)   i[_ngcontent-%COMP%]{transform:translate(5px)}.login-btn[_ngcontent-%COMP%]:disabled{background:var(--color-neutral-500);cursor:not-allowed;transform:none}.login-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;transition:transform .3s ease}.error-message[_ngcontent-%COMP%]{background:var(--color-danger-bg);color:var(--color-neutral-800);padding:10px;border-radius:6px;text-align:center;font-size:13px;border:1px solid var(--color-danger-border)}']})};var Qt=class r{constructor(t){this.http=t}url=`${te.apiBase}/pos/product`;list(t){let e={};return t&&(t.category&&(e.category=t.category),t.sub_category&&(e.sub_category=t.sub_category),t.product&&(e.product=t.product),t.filter&&(e.filter=t.filter),t.page&&(e.page=t.page.toString()),t.per_page&&(e.per_page=t.per_page.toString())),this.http.get(this.url,{params:e})}getById(t){let e=`${te.apiBase}/pos/${t}/get_product_detail`;return this.http.get(e).pipe(Jn(n=>{let i=n&&n.data?n.data:n;return i?.product?i.product:i}),tr(()=>this.searchPagesForId(t)))}searchPagesForId(t){let e=this.url;return new Zn(n=>{let i=o=>{this.http.get(o).subscribe({next:l=>{let d=l&&l.data?l.data:Array.isArray(l)?l:[];if(Array.isArray(d)){let m=d.find(_=>{let C=_?.product?_.product:_;return String(C?.id)===String(t)||C?.unique_id===t||C?.unique_number===t});if(m){let _=m?.product?m.product:m;n.next(_),n.complete();return}}let g=l?.next_page_url||l?.links?.find?.(m=>m?.label?.toString().includes("Next"))?.url;g?i(g):n.error(new Error("Product not found"))},error:l=>{n.error(l)}})};i(e)})}resolveImageUrl(t){if(!t)return null;try{return/^https?:\/\//i.test(t)?t:`${te.assetsBase.replace(/\/$/,"")}/${t.replace(/^\//,"")}`}catch{return null}}static \u0275fac=function(e){return new(e||r)(K(Ct))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};var Bo=(r,t,e)=>({"qty-warning":r,"qty-danger":t,"out-of-stock":e});function jo(r,t){if(r&1){let e=I();a(0,"button",21),y("click",function(){b(e);let i=u();return v(i.clearSearch())}),a(1,"i",22),c(2,"\u2715"),s()()}}function qo(r,t){if(r&1&&(a(0,"span",23),c(1),s()),r&2){let e=u();p(),L(" ",(e.selectedCategory?1:0)+(e.selectedSubCategory?1:0)," ")}}function Ho(r,t){if(r&1){let e=I();a(0,"span",32),c(1),a(2,"button",33),y("click",function(){b(e);let i=u(3);return v(i.clearCategoryFilter())}),c(3,"\u2715"),s()()}if(r&2){let e=u(3);p(),L(" ",e.selectedCategory.name," ")}}function Ko(r,t){if(r&1){let e=I();a(0,"span",34),c(1),a(2,"button",33),y("click",function(){b(e);let i=u(3);return v(i.clearSubCategoryFilter())}),c(3,"\u2715"),s()()}if(r&2){let e=u(3);p(),L(" ",e.selectedSubCategory.name," ")}}function $o(r,t){if(r&1&&(a(0,"div",28)(1,"span",29),c(2,"Active Filters:"),s(),P(3,Ho,4,1,"span",30)(4,Ko,4,1,"span",31),s()),r&2){let e=u(2);p(3),f("ngIf",e.selectedCategory),p(),f("ngIf",e.selectedSubCategory)}}function Uo(r,t){if(r&1&&(a(0,"div",24)(1,"div",25)(2,"span",26),c(3),s()(),P(4,$o,5,2,"div",27),s()),r&2){let e=u();p(3),gt("Showing ",e.filteredProducts.length," of ",e.totalItems," products (Page ",e.currentPage," of ",e.totalPages,")"),p(),f("ngIf",e.selectedCategory||e.selectedSubCategory)}}function Qo(r,t){r&1&&(a(0,"span",56),c(1,"Select Category"),s())}function Go(r,t){if(r&1&&(a(0,"span",57),c(1),s()),r&2){let e=u(2);p(),x(e.selectedCategory.name)}}function Wo(r,t){if(r&1){let e=I();a(0,"button",69),y("click",function(i){return b(e),u(3).clearCategorySearch(),v(i.stopPropagation())}),$(),a(1,"svg",40),h(2,"line",41)(3,"line",42),s()()}}function Yo(r,t){r&1&&($(),a(0,"svg",70),h(1,"polyline",71),s())}function Xo(r,t){r&1&&($(),a(0,"svg",70),h(1,"polyline",71),s())}function Zo(r,t){if(r&1){let e=I();a(0,"div",64),y("click",function(i){let o=b(e).$implicit;return u(3).selectCategory(o),v(i.stopPropagation())}),a(1,"span",65),c(2),s(),P(3,Xo,2,0,"svg",66),s()}if(r&2){let e=t.$implicit,n=u(3);ee("selected",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id),p(2),x(e.name),p(),f("ngIf",(n.selectedCategory==null?null:n.selectedCategory.id)===e.id)}}function Jo(r,t){if(r&1&&(a(0,"div",72),c(1),s()),r&2){let e=u(3);p(),L(' No categories found matching "',e.categorySearchTerm,'" ')}}function ea(r,t){if(r&1){let e=I();a(0,"div",58)(1,"div",59)(2,"div",60),$(),a(3,"svg",61),h(4,"circle",4)(5,"path",5),s(),de(),a(6,"input",62),Be("ngModelChange",function(i){b(e);let o=u(2);return Ve(o.categorySearchTerm,i)||(o.categorySearchTerm=i),v(i)}),y("input",function(){b(e);let i=u(2);return v(i.onCategorySearch())})("click",function(i){return b(e),v(i.stopPropagation())}),s(),P(7,Wo,4,0,"button",63),s()(),a(8,"div",64),y("click",function(i){return b(e),u(2).selectCategory(null),v(i.stopPropagation())}),a(9,"span",65),c(10,"All Categories"),s(),P(11,Yo,2,0,"svg",66),s(),P(12,Zo,4,4,"div",67)(13,Jo,2,1,"div",68),s()}if(r&2){let e=u(2);p(6),Re("ngModel",e.categorySearchTerm),p(),f("ngIf",e.categorySearchTerm),p(),ee("selected",!e.selectedCategory),p(3),f("ngIf",!e.selectedCategory),p(),f("ngForOf",e.filteredCategories),p(),f("ngIf",e.categorySearchTerm&&e.filteredCategories.length===0)}}function ta(r,t){if(r&1&&(a(0,"span",56),c(1),s()),r&2){let e=u(2);p(),L(" ",e.selectedCategory?"Select Sub-Category":"Select category first"," ")}}function na(r,t){if(r&1&&(a(0,"span",57),c(1),s()),r&2){let e=u(2);p(),x(e.selectedSubCategory.name)}}function ra(r,t){if(r&1){let e=I();a(0,"button",69),y("click",function(i){return b(e),u(3).clearSubCategorySearch(),v(i.stopPropagation())}),$(),a(1,"svg",40),h(2,"line",41)(3,"line",42),s()()}}function ia(r,t){r&1&&($(),a(0,"svg",70),h(1,"polyline",71),s())}function oa(r,t){r&1&&($(),a(0,"svg",70),h(1,"polyline",71),s())}function aa(r,t){if(r&1){let e=I();a(0,"div",64),y("click",function(i){let o=b(e).$implicit;return u(3).selectSubCategory(o),v(i.stopPropagation())}),a(1,"span",65),c(2),s(),P(3,oa,2,0,"svg",66),s()}if(r&2){let e=t.$implicit,n=u(3);ee("selected",(n.selectedSubCategory==null?null:n.selectedSubCategory.id)===e.id),p(2),x(e.name),p(),f("ngIf",(n.selectedSubCategory==null?null:n.selectedSubCategory.id)===e.id)}}function sa(r,t){if(r&1&&(a(0,"div",72),c(1),s()),r&2){let e=u(3);p(),L(' No sub-categories found matching "',e.subCategorySearchTerm,'" ')}}function la(r,t){if(r&1){let e=I();a(0,"div",58)(1,"div",59)(2,"div",60),$(),a(3,"svg",61),h(4,"circle",4)(5,"path",5),s(),de(),a(6,"input",73),Be("ngModelChange",function(i){b(e);let o=u(2);return Ve(o.subCategorySearchTerm,i)||(o.subCategorySearchTerm=i),v(i)}),y("input",function(){b(e);let i=u(2);return v(i.onSubCategorySearch())})("click",function(i){return b(e),v(i.stopPropagation())}),s(),P(7,ra,4,0,"button",63),s()(),a(8,"div",64),y("click",function(i){return b(e),u(2).selectSubCategory(null),v(i.stopPropagation())}),a(9,"span",65),c(10,"All Sub-Categories"),s(),P(11,ia,2,0,"svg",66),s(),P(12,aa,4,4,"div",67)(13,sa,2,1,"div",68),s()}if(r&2){let e=u(2);p(6),Re("ngModel",e.subCategorySearchTerm),p(),f("ngIf",e.subCategorySearchTerm),p(),ee("selected",!e.selectedSubCategory),p(3),f("ngIf",!e.selectedSubCategory),p(),f("ngForOf",e.filteredSubCategories),p(),f("ngIf",e.subCategorySearchTerm&&e.filteredSubCategories.length===0)}}function ca(r,t){if(r&1){let e=I();a(0,"div",35),y("click",function(){b(e);let i=u();return v(i.closeFilterModal())}),a(1,"div",36),y("click",function(i){return b(e),v(i.stopPropagation())}),a(2,"div",37)(3,"h3",38),c(4,"Filter Products"),s(),a(5,"button",39),y("click",function(){b(e);let i=u();return v(i.closeFilterModal())}),$(),a(6,"svg",40),h(7,"line",41)(8,"line",42),s()()(),de(),a(9,"div",43)(10,"div",44)(11,"label",45),c(12,"Category"),s(),a(13,"div",46),y("click",function(){b(e);let i=u();return v(i.toggleCategoryDropdown())}),a(14,"div",47),P(15,Qo,2,0,"span",48)(16,Go,2,1,"span",49),$(),a(17,"svg",50),h(18,"polyline",51),s()(),P(19,ea,14,7,"div",52),s()(),de(),a(20,"div",44)(21,"label",45),c(22,"Sub-Category"),s(),a(23,"div",46),y("click",function(){b(e);let i=u();return v(i.selectedCategory&&i.toggleSubCategoryDropdown())}),a(24,"div",47),P(25,ta,2,1,"span",48)(26,na,2,1,"span",49),$(),a(27,"svg",50),h(28,"polyline",51),s()(),P(29,la,14,7,"div",52),s()()(),de(),a(30,"div",53)(31,"button",54),y("click",function(){b(e);let i=u();return v(i.clearAllFilters())}),c(32," Clear All "),s(),a(33,"button",55),y("click",function(){b(e);let i=u();return v(i.applyFilters())}),c(34," Apply Filters "),s()()()()}if(r&2){let e=u();p(15),f("ngIf",!e.selectedCategory),p(),f("ngIf",e.selectedCategory),p(),ee("open",e.showCategoryDropdown),p(2),f("ngIf",e.showCategoryDropdown),p(4),ee("disabled",!e.selectedCategory),p(2),f("ngIf",!e.selectedSubCategory),p(),f("ngIf",e.selectedSubCategory),p(),ee("open",e.showSubCategoryDropdown),p(2),f("ngIf",e.showSubCategoryDropdown&&e.selectedCategory)}}function da(r,t){r&1&&(a(0,"div",74),h(1,"div",75),a(2,"div",76),c(3,"Loading POS items..."),s()())}function pa(r,t){if(r&1){let e=I();a(0,"button",81),y("click",function(){b(e);let i=u(2);return v(i.goToLogin())}),c(1," Go to Login "),s()}}function ga(r,t){if(r&1){let e=I();a(0,"button",81),y("click",function(){b(e);let i=u(2);return v(i.fetchProducts())}),c(1," Retry "),s()}}function ma(r,t){if(r&1&&(a(0,"div",77)(1,"div",78),c(2,"\u26A0\uFE0F"),s(),a(3,"div",79),c(4),s(),P(5,pa,2,0,"button",80)(6,ga,2,0,"button",80),s()),r&2){let e=u();p(4),x(e.error),p(),f("ngIf",e.error.includes("Unauthenticated")||e.error.includes("authenticated")),p(),f("ngIf",!e.error.includes("Unauthenticated")&&!e.error.includes("authenticated"))}}function ua(r,t){if(r&1){let e=I();a(0,"li",84),y("click",function(){let i=b(e).$implicit,o=u(2);return v(i.quantity>0?o.addToCart(i):null)}),a(1,"div",85)(2,"div",86)(3,"div",87),c(4),s()(),a(5,"div",86)(6,"div",88),c(7),s()(),a(8,"div",86)(9,"div",87),c(10,"Rs. "),a(11,"strong"),c(12),s()(),a(13,"div",89),c(14),a(15,"span"),c(16,"Qty"),s()()()()()}if(r&2){let e=t.$implicit;ur("cursor",e.quantity>0?"pointer":"not-allowed"),f("ngClass",fr(11,Bo,e.quantity>0&&e.quantity<5,e.quantity===0,e.quantity<=0))("title",e.quantity<=0?"Out of stock - cannot add to cart":"Click to add to cart"),ct("data-quantity",e.quantity),p(4),Ye("",e.product.name," (",e.product.code,")"),p(3),Ye("",e.product.category.name," \u2022 ",e.product.sub_category.name," "),p(5),x(e.product.price),p(2),L("",e.quantity," ")}}function fa(r,t){if(r&1&&(a(0,"ul",82),P(1,ua,17,15,"li",83),s()),r&2){let e=u();p(),f("ngForOf",e.filteredProducts)}}function ha(r,t){if(r&1){let e=I();a(0,"button",106),y("click",function(){let i=b(e).$implicit,o=u(2);return v(o.goToPage(i))}),c(1),s()}if(r&2){let e=t.$implicit,n=u(2);ee("active",e===n.currentPage),p(),L(" ",e," ")}}function _a(r,t){if(r&1){let e=I();a(0,"div",90)(1,"div",91)(2,"span",92),c(3),s()(),a(4,"div",93)(5,"button",94),y("click",function(){b(e);let i=u();return v(i.goToFirstPage())}),$(),a(6,"svg",40),h(7,"polyline",95)(8,"polyline",96),s()(),de(),a(9,"button",97),y("click",function(){b(e);let i=u();return v(i.goToPreviousPage())}),$(),a(10,"svg",40),h(11,"polyline",98),s()(),de(),a(12,"div",99),P(13,ha,2,3,"button",100),s(),a(14,"button",101),y("click",function(){b(e);let i=u();return v(i.goToNextPage())}),$(),a(15,"svg",40),h(16,"polyline",102),s()(),de(),a(17,"button",103),y("click",function(){b(e);let i=u();return v(i.goToLastPage())}),$(),a(18,"svg",40),h(19,"polyline",104)(20,"polyline",105),s()()()()}if(r&2){let e=u();p(3),pt(" Showing ",(e.currentPage-1)*e.safeItemsPerPage+1," to ",e.Math.min(e.currentPage*e.safeItemsPerPage,e.totalItems)," of ",e.totalItems," products "),p(2),f("disabled",e.currentPage===1),p(4),f("disabled",e.currentPage===1),p(4),f("ngForOf",e.getPageNumbers()),p(),f("disabled",e.currentPage===e.totalPages),p(3),f("disabled",e.currentPage===e.totalPages)}}function Ca(r,t){if(r&1){let e=I();a(0,"div",107)(1,"div",108),c(2,"\u{1F4E6}"),s(),a(3,"div",109),c(4,"No POS Items Found"),s(),a(5,"div",110),c(6,"There are currently no products available in the system."),s(),a(7,"button",81),y("click",function(){b(e);let i=u();return v(i.fetchProducts())}),c(8,"Refresh"),s()()}}function ya(r,t){if(r&1){let e=I();a(0,"div",111)(1,"div",112),c(2,"\u{1F50D}"),s(),a(3,"div",113),c(4,"No Results Found"),s(),a(5,"div",114),c(6),s(),a(7,"button",115),y("click",function(){b(e);let i=u();return v(i.clearSearch())}),c(8,"Clear Search"),s()()}if(r&2){let e=u();p(6),L('No products found matching "',e.searchTerm,'"')}}var Gt=class r{constructor(t,e,n,i,o){this.productService=t;this.auth=e;this.cart=n;this.router=i;this.toastService=o}products=[];filteredProducts=[];loading=!1;error=null;username=null;userEmail=null;logoUrl=null;currentPage=1;totalPages=1;itemsPerPage=null;totalItems=0;paginationData=null;apiConfig={productPaths:["data.data","data","items","results","products"],currentPageFields:["current_page","currentPage","page"],totalPagesFields:["last_page","lastPage","totalPages","total_pages"],itemsPerPageFields:["per_page","perPage","pageSize","page_size","limit"],totalItemsFields:["total","totalItems","total_items","count"]};searchTerm="";searchTimeout;showFilterModal=!1;showCategoryDropdown=!1;showSubCategoryDropdown=!1;categories=[];subCategories=[];filteredCategories=[];filteredSubCategories=[];selectedCategory=null;selectedSubCategory=null;categorySearchTerm="";subCategorySearchTerm="";placeholderUrl=`${te.assetsBase.replace(/\/$/,"")}/no-image-icon.jpg`;Math=Math;subs=null;ngOnInit(){this.subs=this.auth.user$.subscribe(t=>{this.username=t?.name||t?.full_name||t?.username||null,this.userEmail=t?.email||t?.email_address||null;let e=t?.logo||t?.fav_icon||t?.logo_url||null;e?/^https?:\/\//i.test(e)?this.logoUrl=e:this.logoUrl=`${te.assetsBase.replace(/\/$/,"")}/${e.replace(/^\//,"")}`:this.logoUrl=`${te.assetsBase.replace(/\/$/,"")}/no-image-icon.jpg`}),this.fetchProducts()}ngOnDestroy(){this.subs?.unsubscribe(),this.searchTimeout&&clearTimeout(this.searchTimeout)}fetchProducts(t=1){if(this.loading=!0,this.error=null,this.currentPage=t,!this.auth.isLoggedIn()){this.error="You are not authenticated. Please log in.",this.loading=!1;return}let e={page:t};this.itemsPerPage&&Number(this.itemsPerPage)>0&&(e.per_page=this.itemsPerPage),this.selectedCategory&&(e.category=this.selectedCategory.id),this.selectedSubCategory&&(e.sub_category=this.selectedSubCategory.id),this.searchTerm.trim()&&(e.filter=this.searchTerm.trim()),this.productService.list(e).subscribe({next:n=>{console.log("API Response:",n),console.log("Filters sent:",e);let i=this.extractPaginationInfo(n);console.log("Extracted pagination info:",i),this.paginationData=i.data,this.products=i.products,console.log("First 3 products structure:",this.products.slice(0,3)),this.currentPage=i.currentPage,this.totalPages=i.totalPages,this.itemsPerPage=i.itemsPerPage,this.totalItems=i.totalItems,console.log("Final pagination state:",{currentPage:this.currentPage,totalPages:this.totalPages,itemsPerPage:this.itemsPerPage,totalItems:this.totalItems}),this.normalizeProductQuantities(),this.filteredProducts=[...this.products],this.extractCategoriesAndSubCategories(),this.loading=!1},error:n=>{console.error("Product fetch error:",n),n.status===401?(this.error="Unauthenticated. Please log in again.",this.auth.clearSession()):n.status===403?this.error="Access denied. You do not have permission to view POS items.":n.status===404?this.error="POS endpoint not found. Please check your configuration.":this.error=n?.error?.message||"Failed to load POS items. Please try again.",this.loading=!1}})}goToPage(t){t>=1&&t<=this.totalPages&&t!==this.currentPage&&this.fetchProducts(t)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}getPageNumbers(){let t=[],n=Math.floor(2.5),i=Math.max(1,this.currentPage-n),o=Math.min(this.totalPages,this.currentPage+n);o-i+1<5&&(i===1?o=Math.min(this.totalPages,i+5-1):o===this.totalPages&&(i=Math.max(1,o-5+1)));for(let l=i;l<=o;l++)t.push(l);return t}get safeItemsPerPage(){return this.itemsPerPage||21}getCurrentPageProducts(){return!this.filteredProducts||this.filteredProducts.length===0?[]:this.filteredProducts}extractPaginationInfo(t){let e=null,n=[],i=1,o=1,l=this.itemsPerPage||21,d=0;if(t?.data&&typeof t.data=="object"){e=t.data,n=this.extractValueByPaths(t,this.apiConfig.productPaths)||[],i=this.extractValueByFields(t.data,this.apiConfig.currentPageFields)||1,o=this.extractValueByFields(t.data,this.apiConfig.totalPagesFields)||1;let m=this.extractValueByFields(t.data,this.apiConfig.itemsPerPageFields);m!=null?l=Number(m)||l:this.itemsPerPage&&Number(this.itemsPerPage)>0&&(l=this.itemsPerPage),d=this.extractValueByFields(t.data,this.apiConfig.totalItemsFields)||n.length}else Array.isArray(t?.data)?(e=t.data,n=t.data,d=n.length):Array.isArray(t)?(e=t,n=t,d=n.length):(console.warn("Unknown API response structure:",t),this.logApiStructure(t),e=t,n=[]);i=Math.max(1,Number(i)||1),l=Math.max(1,Number(l)||21),d=Math.max(0,Number(d)||n.length);let g=this.extractValueByFields(t?.data,this.apiConfig.totalPagesFields);return g&&Number(g)>1?o=Math.max(1,Number(g)):o=Math.max(1,Math.ceil(d/l)),{data:e,products:n,currentPage:i,totalPages:o,itemsPerPage:l,totalItems:d}}extractValueByFields(t,e){for(let n of e)if(t&&t.hasOwnProperty(n)&&t[n]!==null&&t[n]!==void 0)return t[n];return null}extractValueByPaths(t,e){for(let n of e){let i=this.getNestedValue(t,n);if(Array.isArray(i))return i}return null}getNestedValue(t,e){return e.split(".").reduce((n,i)=>n&&n[i]!==void 0?n[i]:null,t)}logApiStructure(t){console.group("API Response Structure Analysis"),console.log("Full response:",t),console.log("Response type:",typeof t),console.log("Is array:",Array.isArray(t)),t&&typeof t=="object"&&(console.log("Top-level keys:",Object.keys(t)),t.data&&(console.log("res.data type:",typeof t.data),console.log("res.data is array:",Array.isArray(t.data)),t.data&&typeof t.data=="object"&&!Array.isArray(t.data)&&console.log("res.data keys:",Object.keys(t.data)))),console.groupEnd()}normalizeProductQuantities(){Array.isArray(this.products)&&(console.log("Normalizing quantities for",this.products.length,"products"),this.products=this.products.map((t,e)=>{let n=t?.quantity??t?.product?.quantity??0,i=Number(n),o=Number.isFinite(i)?Math.max(0,Math.floor(i)):0;return e<5&&console.log(`Product ${e+1} quantity normalization:`,{original:t,rawQuantity:n,processedQuantity:o,productHasQuantity:t?.quantity,nestedProductQuantity:t?.product?.quantity}),st(Me({},t),{quantity:o})}),console.log("Quantity normalization complete"))}onSearch(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.fetchProducts(1)},300)}clearSearch(){this.searchTerm="",this.fetchProducts(1)}extractCategoriesAndSubCategories(){let t=new Map,e=new Map;this.products.forEach(n=>{let i=n.product||n;i.category&&i.category.id&&t.set(i.category.id,i.category),i.sub_category&&i.sub_category.id&&e.set(i.sub_category.id,i.sub_category)}),this.categories=Array.from(t.values()).sort((n,i)=>n.name.localeCompare(i.name)),this.subCategories=Array.from(e.values()).sort((n,i)=>n.name.localeCompare(i.name)),this.filteredCategories=[...this.categories],this.filteredSubCategories=[...this.subCategories],console.log("Categories extracted:",this.categories.length,this.categories),console.log("Sub-categories extracted:",this.subCategories.length,this.subCategories)}openFilterModal(){this.showFilterModal=!0,this.categorySearchTerm="",this.subCategorySearchTerm="",this.filteredCategories=[...this.categories],this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(t=>this.products.some(e=>(e.product||e).category?.id===this.selectedCategory.id&&(e.product||e).sub_category?.id===t.id)):[...this.subCategories]}closeFilterModal(){this.showFilterModal=!1,this.showCategoryDropdown=!1,this.showSubCategoryDropdown=!1,this.categorySearchTerm="",this.subCategorySearchTerm=""}toggleCategoryDropdown(){this.showCategoryDropdown=!this.showCategoryDropdown,this.showSubCategoryDropdown=!1,this.showCategoryDropdown&&(this.categorySearchTerm="",this.filteredCategories=[...this.categories])}toggleSubCategoryDropdown(){this.showSubCategoryDropdown=!this.showSubCategoryDropdown,this.showCategoryDropdown=!1,this.showSubCategoryDropdown&&(this.subCategorySearchTerm="",this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(t=>this.products.some(e=>(e.product||e).category?.id===this.selectedCategory.id&&(e.product||e).sub_category?.id===t.id)):[...this.subCategories])}onCategorySearch(){if(!this.categorySearchTerm.trim()){this.filteredCategories=[...this.categories];return}let t=this.categorySearchTerm.toLowerCase();this.filteredCategories=this.categories.filter(e=>e.name.toLowerCase().includes(t))}clearCategorySearch(){this.categorySearchTerm="",this.filteredCategories=[...this.categories]}selectCategory(t){this.selectedCategory=t,this.selectedSubCategory=null,this.subCategorySearchTerm="",this.showCategoryDropdown=!1,t?this.filteredSubCategories=this.subCategories.filter(e=>this.products.some(n=>(n.product||n).category?.id===t.id&&(n.product||n).sub_category?.id===e.id)):this.filteredSubCategories=[...this.subCategories],this.fetchProducts(1)}onSubCategorySearch(){if(!this.subCategorySearchTerm.trim()){this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(n=>this.products.some(i=>(i.product||i).category?.id===this.selectedCategory.id&&(i.product||i).sub_category?.id===n.id)):[...this.subCategories];return}let t=this.subCategorySearchTerm.toLowerCase(),e=this.selectedCategory?this.subCategories.filter(n=>this.products.some(i=>(i.product||i).category?.id===this.selectedCategory.id&&(i.product||i).sub_category?.id===n.id)):this.subCategories;this.filteredSubCategories=e.filter(n=>n.name.toLowerCase().includes(t))}clearSubCategorySearch(){this.subCategorySearchTerm="",this.filteredSubCategories=this.selectedCategory?this.subCategories.filter(t=>this.products.some(e=>(e.product||e).category?.id===this.selectedCategory.id&&(e.product||e).sub_category?.id===t.id)):[...this.subCategories]}selectSubCategory(t){this.selectedSubCategory=t,this.showSubCategoryDropdown=!1,this.fetchProducts(1)}clearCategoryFilter(){this.selectedCategory=null,this.selectedSubCategory=null,this.fetchProducts(1)}clearSubCategoryFilter(){this.selectedSubCategory=null,this.fetchProducts(1)}clearAllFilters(){this.selectedCategory=null,this.selectedSubCategory=null,this.searchTerm="",this.fetchProducts(1),this.closeFilterModal()}applyFilters(){this.fetchProducts(1),this.closeFilterModal()}logout(){this.auth.logout().subscribe({error:()=>this.auth.clearSession()})}productIdOf(t){return String(t?.product?.id??t?.id??t?.product?.unique_id??"")}imgUrl(t){if(!t)return null;let e=t.image||t.file||t.image_path||t.photo||null;return this.productService.resolveImageUrl(e)}addToCart(t){console.log("\u{1F6D2} AddToCart called with item:",t);let e=t.product??t;console.log("\u{1F6D2} Extracted product:",e);let n=[e?.quantity,t?.quantity,e?.product?.quantity,t?.product?.quantity,e?.stock,t?.stock,e?.available_quantity,t?.available_quantity,e?.qty,t?.qty];console.log("\u{1F6D2} All possible quantity values:",n);let i=n.find(l=>Number.isFinite(Number(l))&&Number(l)>=0)||0,o=Number(i);if(console.log("\u{1F6D2} Final extracted quantity:",o),console.log("\u{1F6D2} AddToCart validation:",{item:t,product:e,extractedQuantity:o,allQuantities:n,isValid:Number.isFinite(o)&&o>0}),!Number.isFinite(o)||o<=0){console.log("\u{1F6AB} BLOCKED: Item has quantity:",o),this.toastService.show("Item is out of stock and cannot be added to cart","error"),console.log("Prevented adding item with quantity:",o);return}console.log("\u2705 ALLOWED: Adding item to cart with quantity:",o),this.cart.add(e),this.toastService.show(`${e?.name||"Item"} added to cart`,"success")}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||r)(D(Qt),D(z),D(Pt),D(j),D(Ot))};static \u0275cmp=R({type:r,selectors:[["app-product-list"]],decls:22,vars:13,consts:[[1,"search-container"],[1,"search-input-wrapper"],[1,"search-input-group"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-search-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search by product code, name, category or sub-category...","autocomplete","off",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-search-btn","type","button","aria-label","Clear search",3,"click",4,"ngIf"],["type","button","aria-label","Filter products",1,"filter-btn",3,"click"],[1,"filter-icon-wrapper"],["viewBox","0 0 24 24","fill","currentColor",1,"filter-icon"],["d","M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"],["class","filter-badge",4,"ngIf"],["class","search-results-info",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","product-list",4,"ngIf"],["class","pagination-container",4,"ngIf"],["class","no-products-container",4,"ngIf"],["class","no-results-container",4,"ngIf"],["type","button","aria-label","Clear search",1,"clear-search-btn",3,"click"],[1,"clear-icon"],[1,"filter-badge"],[1,"search-results-info"],[1,"results-summary"],[1,"results-text"],["class","active-filters",4,"ngIf"],[1,"active-filters"],[1,"filters-label"],["class","filter-chip category-chip",4,"ngIf"],["class","filter-chip subcategory-chip",4,"ngIf"],[1,"filter-chip","category-chip"],["type","button",1,"chip-remove",3,"click"],[1,"filter-chip","subcategory-chip"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"modal-body"],[1,"filter-group"],[1,"filter-label"],[1,"custom-select-wrapper",3,"click"],[1,"custom-select-display"],["class","placeholder",4,"ngIf"],["class","selected-value",4,"ngIf"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"dropdown-arrow"],["points","6,9 12,15 18,9"],["class","custom-dropdown",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","button",1,"btn-primary",3,"click"],[1,"placeholder"],[1,"selected-value"],[1,"custom-dropdown"],[1,"dropdown-search"],[1,"search-input-container"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"search-icon"],["type","text","placeholder","Search categories...","autocomplete","off",1,"dropdown-search-input",3,"ngModelChange","input","click","ngModel"],["class","clear-search-btn","type","button",3,"click",4,"ngIf"],[1,"dropdown-option",3,"click"],[1,"option-text"],["class","check-icon","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",4,"ngIf"],["class","dropdown-option",3,"selected","click",4,"ngFor","ngForOf"],["class","no-options-message",4,"ngIf"],["type","button",1,"clear-search-btn",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"check-icon"],["points","20,6 9,17 4,12"],[1,"no-options-message"],["type","text","placeholder","Search sub-categories...","autocomplete","off",1,"dropdown-search-input",3,"ngModelChange","input","click","ngModel"],[1,"loading-container"],[1,"loading-spinner"],[1,"loading-text"],[1,"error-container"],[1,"error-icon"],[1,"error-message"],["class","retry-btn",3,"click",4,"ngIf"],[1,"retry-btn",3,"click"],[1,"product-list"],["class","product-item",3,"ngClass","cursor","title","click",4,"ngFor","ngForOf"],[1,"product-item",3,"click","ngClass","title"],[1,"product-item-listing"],[1,"product-main"],[1,"product-title"],[1,"product-meta","mb-3"],[1,"product-meta"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-text"],[1,"pagination-controls"],["title","First Page",1,"pagination-btn",3,"click","disabled"],["points","11,17 6,12 11,7"],["points","18,17 13,12 18,7"],["title","Previous Page",1,"pagination-btn",3,"click","disabled"],["points","15,18 9,12 15,6"],[1,"pagination-numbers"],["class","pagination-number",3,"active","click",4,"ngFor","ngForOf"],["title","Next Page",1,"pagination-btn",3,"click","disabled"],["points","9,18 15,12 9,6"],["title","Last Page",1,"pagination-btn",3,"click","disabled"],["points","13,17 18,12 13,7"],["points","6,17 11,12 6,7"],[1,"pagination-number",3,"click"],[1,"no-products-container"],[1,"no-products-icon"],[1,"no-products-title"],[1,"no-products-message"],[1,"no-results-container"],[1,"no-results-icon"],[1,"no-results-title"],[1,"no-results-message"],[1,"clear-btn",3,"click"]],template:function(e,n){e&1&&(a(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),$(),a(4,"svg",3),h(5,"circle",4)(6,"path",5),s(),de(),a(7,"input",6),Be("ngModelChange",function(o){return Ve(n.searchTerm,o)||(n.searchTerm=o),o}),y("input",function(){return n.onSearch()}),s(),P(8,jo,3,0,"button",7),s(),a(9,"button",8),y("click",function(){return n.openFilterModal()}),a(10,"div",9),$(),a(11,"svg",10),h(12,"path",11),s(),P(13,qo,2,1,"span",12),s()()(),P(14,Uo,5,5,"div",13),s(),P(15,ca,35,12,"div",14)(16,da,4,0,"div",15)(17,ma,7,3,"div",16)(18,fa,2,1,"ul",17)(19,_a,21,8,"div",18)(20,Ca,9,0,"div",19)(21,ya,9,1,"div",20),s()),e&2&&(p(7),Re("ngModel",n.searchTerm),p(),f("ngIf",n.searchTerm),p(),ee("active",n.selectedCategory||n.selectedSubCategory),p(4),f("ngIf",n.selectedCategory||n.selectedSubCategory),p(),f("ngIf",n.searchTerm||n.selectedCategory||n.selectedSubCategory),p(),f("ngIf",n.showFilterModal),p(),f("ngIf",n.loading),p(),f("ngIf",n.error),p(),f("ngIf",n.filteredProducts==null?null:n.filteredProducts.length),p(),f("ngIf",n.totalPages>1&&!n.loading&&!n.error),p(),f("ngIf",(n.filteredProducts==null?null:n.filteredProducts.length)&&!n.loading&&!n.error&&(n.products==null?null:n.products.length)===0),p(),f("ngIf",!(n.filteredProducts!=null&&n.filteredProducts.length)&&!n.loading&&!n.error&&n.searchTerm))},dependencies:[B,ht,je,H,Y,vt,qe,He,bt],styles:["[_nghost-%COMP%]{display:block;padding:.75rem;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);font-size:13px;line-height:1.35}.search-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem 0}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:stretch}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;background:#fff;border-radius:6px;border:1px solid var(--color-neutral-400);transition:border-color .2s ease}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]:focus-within{border-color:var(--color-primary-bg)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .input-search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;width:16px;height:16px;color:var(--color-neutral-500);z-index:1}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 2.25rem;border:none;border-radius:6px;font-size:14px;background:transparent;color:var(--color-neutral-800)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-500)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:var(--color-neutral-200);border:none;color:var(--color-neutral-600);cursor:pointer;padding:.25rem;border-radius:4px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-300)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:12px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem;background:var(--color-primary-bg);color:#fff;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s ease;min-width:48px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-primary-bg) 50%,white)}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn.active[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{color:#fff}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .filter-icon-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .filter-icon-wrapper[_ngcontent-%COMP%]   .filter-icon[_ngcontent-%COMP%]{width:18px;height:18px}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]   .filter-icon-wrapper[_ngcontent-%COMP%]   .filter-badge[_ngcontent-%COMP%]{position:absolute;top:-6px;right:-6px;background:#dc3545;color:#fff;border-radius:50%;width:16px;height:16px;font-size:10px;font-weight:600;display:flex;align-items:center;justify-content:center}.search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .filter-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-neutral-200)}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:14px;color:var(--color-neutral-700);margin-bottom:.75rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-icon[_ngcontent-%COMP%]{font-size:16px;opacity:.8}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{font-weight:500}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.5rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filters-label[_ngcontent-%COMP%]{font-size:12px;color:var(--color-neutral-600);font-weight:500;margin-right:.25rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:16px;font-size:12px;font-weight:500;border:1px solid}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip.category-chip[_ngcontent-%COMP%]{background:var(--color-primary-bg-light);color:var(--color-primary-bg);border-color:var(--color-primary-bg)}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip.subcategory-chip[_ngcontent-%COMP%]{background:var(--color-info-bg);color:var(--color-info-text);border-color:var(--color-info-border)}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]   .chip-remove[_ngcontent-%COMP%]{background:transparent;border:none;color:currentColor;cursor:pointer;padding:.125rem;border-radius:2px;width:14px;height:14px;display:flex;align-items:center;justify-content:center;font-size:10px;margin-left:.25rem}.search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .active-filters[_ngcontent-%COMP%]   .filter-chip[_ngcontent-%COMP%]   .chip-remove[_ngcontent-%COMP%]:hover{background:#0000001a}.search-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--color-neutral-400);border-radius:6px;font-size:14px;background-color:#fff;transition:border-color .2s ease}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg)}.search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-500)}.clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.75rem;background:none;border:none;font-size:16px;color:var(--color-neutral-600);cursor:pointer;padding:.25rem;border-radius:50%;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.clear-search-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-200);color:var(--color-neutral-800)}.clear-search-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}.search-results-info[_ngcontent-%COMP%]{margin-top:.5rem;font-size:12px;color:var(--color-neutral-600);text-align:center}.no-results[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--color-neutral-600);font-style:italic;background:var(--color-neutral-100);border-radius:6px;margin:1rem 0}h2[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]{display:block;padding:0;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);min-height:calc(100vh - 150px);font-size:13px;line-height:1.35}[_nghost-%COMP%]   *[_ngcontent-%COMP%], [_nghost-%COMP%]   *[_ngcontent-%COMP%]:before, [_nghost-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:border-box}h2[_ngcontent-%COMP%]{margin-bottom:.6rem;font-size:1.05rem;margin-top:0}ul[_ngcontent-%COMP%]{list-style:none;padding:.5rem;margin:0;display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.75rem;box-sizing:border-box}li.product-item[_ngcontent-%COMP%]{background:var(--color-neutral-100);border-radius:6px;border:1px solid var(--color-neutral-300)}li[_ngcontent-%COMP%]   .product-item-listing[_ngcontent-%COMP%]{padding:.75rem 1rem}li.product-item.qty-warning[_ngcontent-%COMP%]{background:var(--color-warning-bg);border:1px solid var(--color-warning-border)}li.product-item.qty-danger[_ngcontent-%COMP%]{background:var(--color-danger-bg);border:1px solid var(--color-danger-border)}li.product-item.out-of-stock[_ngcontent-%COMP%]:hover{cursor:not-allowed!important}.product-main[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem}.product-main[role=button][_ngcontent-%COMP%]{cursor:pointer}.product-main[role=button][_ngcontent-%COMP%]:hover{background:var(--color-neutral-200)}.product-title[_ngcontent-%COMP%]{font-weight:600}.product-title[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-meta[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:4px 0}.product-meta.mb-3[_ngcontent-%COMP%]{margin-bottom:.25rem}.product-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:var(--color-primary-bg-light);border:1px solid var(--color-primary-bg);color:var(--color-primary-bg);padding:0 4px;border-radius:4px}.product-footer[_ngcontent-%COMP%]{margin-top:.5rem;color:var(--color-neutral-800)}.expanded[_ngcontent-%COMP%]{margin-top:.75rem}.expanded-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.card[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:flex-start;padding:.5rem;border:1px solid var(--color-neutral-400);border-radius:6px;background:var(--color-neutral-200);min-width:0}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;object-fit:cover;border-radius:4px}img[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.card-body[_ngcontent-%COMP%]{flex:1}.expanded-loading[_ngcontent-%COMP%]{padding:.5rem;color:var(--color-neutral-600)}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%], .no-products[_ngcontent-%COMP%]{text-align:center;margin:1rem 0;font-weight:700;color:var(--color-neutral-700)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid var(--color-neutral-300);border-top:4px solid var(--color-primary-bg);border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:16px;color:var(--color-neutral-600);font-weight:500}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;background:var(--color-danger-bg);border:1px solid var(--color-danger-border);border-radius:8px;margin:1rem}.error-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem}.error-container[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:16px;color:var(--color-danger-text);font-weight:500;margin-bottom:1.5rem;max-width:500px}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.error-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.no-products-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;background:var(--color-neutral-50);border:1px solid var(--color-neutral-200);border-radius:8px;margin:1rem}.no-products-container[_ngcontent-%COMP%]   .no-products-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:1rem;opacity:.6}.no-products-container[_ngcontent-%COMP%]   .no-products-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--color-neutral-800);margin-bottom:.5rem}.no-products-container[_ngcontent-%COMP%]   .no-products-message[_ngcontent-%COMP%]{font-size:14px;color:var(--color-neutral-600);margin-bottom:1.5rem;max-width:400px}.no-products-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.no-products-container[_ngcontent-%COMP%]   .retry-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.no-results-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem 1rem;text-align:center;background:var(--color-warning-bg);border:1px solid var(--color-warning-border);border-radius:8px;margin:1rem}.no-results-container[_ngcontent-%COMP%]   .no-results-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:1rem;opacity:.7}.no-results-container[_ngcontent-%COMP%]   .no-results-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-warning-text);margin-bottom:.5rem}.no-results-container[_ngcontent-%COMP%]   .no-results-message[_ngcontent-%COMP%]{font-size:14px;color:var(--color-warning-text);margin-bottom:1.5rem}.no-results-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{background:var(--color-neutral-600);color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.no-results-container[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-700)}button.logout[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;background-color:var(--color-primary-bg);color:var(--color-primary-text);border:none;border-radius:4px;cursor:pointer}@media (min-width: 0px){ul[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 420px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 800px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1100px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (min-width: 1280px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1100}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;max-width:400px;width:90%;max-height:80vh;overflow:visible;border:1px solid var(--color-neutral-300)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--color-neutral-200);display:flex;align-items:center;justify-content:space-between}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:var(--color-neutral-900);margin:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{background:var(--color-neutral-100);border:none;border-radius:4px;width:32px;height:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--color-neutral-600);transition:background-color .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-200)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem;overflow:visible}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid var(--color-neutral-400);border-radius:6px;font-size:14px;background:#fff;color:var(--color-neutral-800);cursor:pointer;transition:border-color .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled{background:var(--color-neutral-100);color:var(--color-neutral-500);cursor:not-allowed}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:.5rem}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem 1.5rem;background:var(--color-neutral-50);display:flex;gap:.75rem;justify-content:flex-end;border-top:1px solid var(--color-neutral-200)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s ease}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:var(--color-neutral-600);color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:var(--color-neutral-700)}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:#fff}.modal-overlay[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.filter-group[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-size:14px;font-weight:500;color:var(--color-neutral-700)}.custom-select-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;overflow:visible}.custom-select-wrapper.disabled[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]{background:var(--color-neutral-100);color:var(--color-neutral-500);cursor:not-allowed}.custom-select-wrapper.disabled[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--color-neutral-400)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]{width:100%;padding:.75rem 3rem .75rem .75rem;border:1px solid var(--color-neutral-400);border-radius:6px;background:#fff;color:var(--color-neutral-800);font-size:14px;cursor:pointer;transition:border-color .2s ease;position:relative;display:flex;align-items:center;justify-content:space-between;min-height:48px}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]:hover:not(.disabled){border-color:var(--color-primary-bg)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:var(--color-neutral-500)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .selected-value[_ngcontent-%COMP%]{color:var(--color-neutral-800);font-weight:500}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:16px;height:16px;transition:transform .2s ease;color:var(--color-neutral-600)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-select-display[_ngcontent-%COMP%]   .dropdown-arrow.open[_ngcontent-%COMP%]{transform:translateY(-50%) rotate(180deg)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid var(--color-primary-bg);border-top:none;border-radius:0 0 6px 6px;max-height:250px;overflow-y:auto;z-index:1050;box-shadow:0 4px 6px #0000001a;display:block}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]{padding:.75rem;border-bottom:1px solid var(--color-neutral-200);background:var(--color-neutral-50);position:sticky;top:0;z-index:1051}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;width:14px;height:14px;color:var(--color-neutral-500);z-index:1}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 2.25rem .5rem 2rem;border:1px solid var(--color-neutral-300);border-radius:4px;font-size:13px;background:#fff;color:var(--color-neutral-800)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary-bg)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .dropdown-search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-400);font-size:12px}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:none;border:none;color:var(--color-neutral-500);cursor:pointer;padding:.25rem;border-radius:2px;width:20px;height:20px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-200);color:var(--color-neutral-700)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-search[_ngcontent-%COMP%]   .search-input-container[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:12px;height:12px}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]{padding:.75rem;cursor:pointer;transition:background-color .2s ease;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--color-neutral-100);font-size:14px;color:var(--color-neutral-800)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]:hover{background:var(--color-neutral-50)}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]{background:color-mix(in srgb,var(--color-primary-bg) 10%,white);color:var(--color-primary-bg);font-weight:500}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option.selected[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{font-weight:500}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .option-text[_ngcontent-%COMP%]{flex:1}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{width:16px;height:16px;color:var(--color-primary-bg);flex-shrink:0}.custom-select-wrapper[_ngcontent-%COMP%]   .custom-dropdown[_ngcontent-%COMP%]   .no-options-message[_ngcontent-%COMP%]{padding:1rem .75rem;text-align:center;color:var(--color-neutral-500);font-size:13px;font-style:italic;border-bottom:none}.pagination-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;margin:1rem 0;border:1px solid var(--color-neutral-200)}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .pagination-text[_ngcontent-%COMP%]{font-size:14px;color:var(--color-neutral-600);font-weight:500}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;flex-wrap:wrap}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#fff;border:1px solid var(--color-neutral-300);border-radius:6px;cursor:pointer;transition:all .2s ease;color:var(--color-neutral-600)}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--color-primary-bg);border-color:var(--color-primary-bg);color:#fff}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{background:var(--color-neutral-100);color:var(--color-neutral-400);cursor:not-allowed;border-color:var(--color-neutral-200)}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]{display:flex;gap:.25rem;margin:0 .5rem;flex-wrap:wrap;justify-content:center}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-width:36px;height:36px;padding:0 .5rem;background:#fff;border:1px solid var(--color-neutral-300);border-radius:6px;cursor:pointer;transition:all .2s ease;color:var(--color-neutral-700);font-size:14px;font-weight:500}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg-light);border-color:var(--color-primary-bg);color:var(--color-primary-bg)}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number.active[_ngcontent-%COMP%]{background:var(--color-primary-bg);border-color:var(--color-primary-bg);color:#fff;font-weight:600}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]:focus{outline:2px solid var(--color-primary-bg-light);outline-offset:2px}@media (max-width: 480px){.pagination-container[_ngcontent-%COMP%]{padding:.75rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{gap:.25rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{width:32px;height:32px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]{margin:0 .25rem}.pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-numbers[_ngcontent-%COMP%]   .pagination-number[_ngcontent-%COMP%]{min-width:32px;height:32px;font-size:13px}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .pagination-text[_ngcontent-%COMP%]{font-size:13px}}"]})};function ba(r,t){if(r&1&&(a(0,"p")(1,"span",11),c(2,"Email"),s(),a(3,"span",12),c(4),s()()),r&2){let e=u(2);p(4),x(e.user.email)}}function va(r,t){if(r&1&&(a(0,"p")(1,"span",11),c(2,"Phone"),s(),a(3,"span",12),c(4),s()()),r&2){let e=u(2);p(4),x(e.user.phone)}}function Pa(r,t){if(r&1&&(a(0,"p")(1,"span",11),c(2,"Company"),s(),a(3,"span",12),c(4),s()()),r&2){let e=u(2);p(4),x(e.user.company)}}function Oa(r,t){if(r&1&&(a(0,"p")(1,"span",11),c(2,"Address"),s(),a(3,"span",12),c(4),s()()),r&2){let e=u(2);p(4),x(e.user.user_detail.address)}}function xa(r,t){if(r&1&&(a(0,"p")(1,"span",11),c(2,"Next Payment"),s(),a(3,"span",12),c(4),s()()),r&2){let e=u(2);p(4),x(e.user.user_detail.plan_end)}}function Ma(r,t){if(r&1&&(cr(0),a(1,"section",6)(2,"div",7),h(3,"img",8),s(),a(4,"div",9)(5,"h2"),c(6),s(),P(7,ba,5,1,"p",10)(8,va,5,1,"p",10)(9,Pa,5,1,"p",10)(10,Oa,5,1,"p",10)(11,xa,5,1,"p",10),s()(),dr()),r&2){let e=u();p(3),f("src",e.imgUrl||(e.user==null?null:e.user.avatar)||(e.user==null?null:e.user.logo)||"assets/no-avatar.png",lt),p(3),x(e.user.name||e.user.full_name||e.user.username),p(),f("ngIf",e.user.email),p(),f("ngIf",e.user.phone),p(),f("ngIf",e.user.company),p(),f("ngIf",e.user.user_detail.address),p(),f("ngIf",e.user.user_detail.plan_end)}}function Sa(r,t){r&1&&(a(0,"div",13),c(1,"Not logged in"),s())}var Wt=class r{constructor(t,e){this.auth=t;this.router=e;this.auth.user$.subscribe(n=>{this.user=n;let i=n&&(n.fav_icon||n.favicon||n.avatar||n.logo||n.logo_url)||"";this.imgUrl=this.resolveImage(i)||"assets/no-avatar.png"})}user=null;imgUrl="";goBack(){try{this.router.navigate(["/pos"])}catch{history.back()}}editProfile(){try{this.router.navigate(["/profile/edit"])}catch{}}resolveImage(t){if(!t)return null;let e=String(t).trim();if(!e)return null;if(/^(data:|https?:)\/\//i.test(e))return e;let n=(te.assetsBase||"").replace(/\/$/,"");return n?`${n}/${e.replace(/^\//,"")}`:e}static \u0275fac=function(e){return new(e||r)(D(z),D(j))};static \u0275cmp=R({type:r,selectors:[["app-profile"]],decls:9,vars:2,consts:[["noUser",""],[1,"profile-page"],[1,"profile-nav"],["aria-label","Back",1,"nav-icon",3,"click"],[1,"fa-solid","fa-arrow-left"],[4,"ngIf","ngIfElse"],[1,"profile-card"],[1,"profile-avatar"],["alt","avatar",3,"src"],[1,"profile-main"],[4,"ngIf"],[1,"label"],[1,"value"],[1,"no-user"]],template:function(e,n){if(e&1){let i=I();a(0,"div",1)(1,"div",2)(2,"button",3),y("click",function(){return b(i),v(n.goBack())}),h(3,"i",4),s(),a(4,"h2"),c(5,"Profile"),s()(),P(6,Ma,12,7,"ng-container",5)(7,Sa,2,0,"ng-template",null,0,ft),s()}if(e&2){let i=dt(8);p(6),f("ngIf",n.user)("ngIfElse",i)}},dependencies:[B,H,Y],styles:[".profile-card[_ngcontent-%COMP%]{max-width:900px;margin:1rem auto;background:var(--color-neutral-100);border-radius:12px;box-shadow:0 6px 20px #0000000f;padding:1rem;display:grid;grid-template-columns:120px 1fr;gap:1rem;align-items:center}.profile-avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:12px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:var(--color-neutral-200);margin:0 auto}.profile-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.profile-main[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:1.25rem}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.75rem 0;color:var(--color-neutral-600);display:flex;justify-content:space-between;gap:1rem;align-items:center;padding-bottom:.5rem;border-bottom:1px solid var(--color-neutral-500)}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{border-bottom:none;padding-bottom:0}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800)}.profile-main[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--color-neutral-600);text-align:right}.profile-actions[_ngcontent-%COMP%]{margin-top:.75rem;display:flex;gap:.5rem}.button-primary[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);padding:8px 12px;border-radius:8px;border:none;cursor:pointer}.button-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-neutral-300);padding:8px 12px;border-radius:8px;cursor:pointer}.profile-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;margin-bottom:.75rem}.profile-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-neutral-700);background-color:transparent;border:1px solid var(--color-neutral-500);padding:8px;border-radius:50%;width:36px;height:36px}@media (max-width: 640px){.profile-card[_ngcontent-%COMP%]{grid-template-columns:1fr;text-align:center}.profile-actions[_ngcontent-%COMP%]{justify-content:center}}"]})};var Yt=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=R({type:r,selectors:[["app-settings"]],decls:17,vars:0,consts:[[1,"settings-grid"],["routerLink","/settings/gender",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-venus-mars","fa-2x"],[1,"label"],["routerLink","/settings/payment-list",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-credit-card","fa-2x"],["routerLink","/settings/finance",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-wallet","fa-2x"],["routerLink","/settings/staff",1,"setting-card"],["aria-hidden","true",1,"fa-solid","fa-users","fa-2x"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"a",1),h(2,"i",2),a(3,"div",3),c(4,"Gender"),s()(),a(5,"a",4),h(6,"i",5),a(7,"div",3),c(8,"Payment List"),s()(),a(9,"a",6),h(10,"i",7),a(11,"div",3),c(12,"Finance"),s()(),a(13,"a",8),h(14,"i",9),a(15,"div",3),c(16,"Staff"),s()()())},dependencies:[B,Y,ye],styles:[".settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:12px}.setting-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:16px;border-radius:10px;background:#fff2e2;border:1px solid #eee;color:var(--text, #222);text-decoration:none}.setting-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-top:8px;font-weight:600}"]})};var Xt=class r{constructor(t){this.http=t}list(t){let e=new yr;return t&&Object.keys(t).forEach(n=>{t[n]!==null&&t[n]!==void 0&&t[n]!==""&&(e=e.set(n,String(t[n])))}),this.http.get(`${te.apiBase}/orders`,{params:e})}getOrderDetail(t){return this.http.get(`${te.apiBase}/orders/${t}/view`)}formatCurrency(t){let e=typeof t=="string"?parseFloat(t):t;return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}formatDate(t){let e=new Date(t);return new Intl.DateTimeFormat("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e)}getOrderStatus(t){return t===1?"Refunded":"Completed"}getOrderStatusClass(t){return t===1?"status-refunded":"status-completed"}static \u0275fac=function(e){return new(e||r)(K(Ct))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ea(r,t){if(r&1){let e=I();a(0,"button",17),y("click",function(){b(e);let i=u(2);return v(i.clearSearch())}),a(1,"i",18),c(2,"\u2715"),s()()}}function Ta(r,t){if(r&1&&(a(0,"div",19)(1,"div",20)(2,"span",21),c(3),s()()()),r&2){let e=u(2);p(3),gt("Showing ",e.orders.length," of ",e.totalItems," orders (Page ",e.currentPage," of ",e.totalPages,")")}}function ka(r,t){r&1&&(a(0,"div",22)(1,"div",23),c(2,"Loading orders..."),s()())}function Ia(r,t){if(r&1&&(a(0,"div",24)(1,"div",25)(2,"span",26),c(3,"\u26A0\uFE0F"),s(),c(4),s()()),r&2){let e=u(2);p(4),L(" ",e.error," ")}}function Aa(r,t){if(r&1&&(a(0,"div",31)(1,"div",32),c(2,"\u{1F4C4}"),s(),a(3,"h3"),c(4,"No orders found"),s(),a(5,"p"),c(6),s()()),r&2){let e=u(3);p(6),x(e.searchTerm?"Try adjusting your search criteria.":"No orders have been placed yet.")}}function Da(r,t){if(r&1){let e=I();a(0,"div",35),y("click",function(){let i=b(e).$implicit,o=u(4);return v(o.viewOrderDetail(i))}),a(1,"div",36)(2,"div",37)(3,"strong"),c(4),s()(),a(5,"div",38),c(6),s()(),a(7,"div",39)(8,"div",40)(9,"span",41),c(10,"Total:"),s(),a(11,"span",42),c(12),s()(),a(13,"div",43)(14,"span",44),c(15,"Date:"),s(),a(16,"span",45),c(17),s()(),a(18,"div",46)(19,"span",47),c(20,"Customer ID:"),s(),a(21,"span",48),c(22),s()()(),a(23,"div",49)(24,"button",50),c(25," View Details \u2192 "),s()()()}if(r&2){let e=t.$implicit,n=u(4);p(4),x(e.bill_id),p(),f("ngClass",n.getOrderStatusClass(e.is_refunded)),p(),L(" ",n.getOrderStatus(e.is_refunded)," "),p(6),x(n.formatCurrency(e.bill_amount)),p(5),x(n.formatDate(e.billed_on)),p(5),L("#",e.customer_id)}}function Fa(r,t){if(r&1&&(a(0,"div",33),P(1,Da,26,6,"div",34),s()),r&2){let e=u(3);p(),f("ngForOf",e.orders)}}function Na(r,t){if(r&1){let e=I();a(0,"button",60),y("click",function(){let i=b(e).$implicit,o=u(4);return v(o.goToPage(i))}),c(1),s()}if(r&2){let e=t.$implicit,n=u(4);ee("active",e===n.currentPage),p(),L(" ",e," ")}}function La(r,t){if(r&1){let e=I();a(0,"div",51)(1,"div",52)(2,"span",53),c(3),s()(),a(4,"div",54)(5,"button",55),y("click",function(){b(e);let i=u(3);return v(i.goToFirstPage())}),c(6," \u27EA "),s(),a(7,"button",56),y("click",function(){b(e);let i=u(3);return v(i.goToPreviousPage())}),c(8," \u27E8 "),s(),P(9,Na,2,3,"button",57),a(10,"button",58),y("click",function(){b(e);let i=u(3);return v(i.goToNextPage())}),c(11," \u27E9 "),s(),a(12,"button",59),y("click",function(){b(e);let i=u(3);return v(i.goToLastPage())}),c(13," \u27EB "),s()()()}if(r&2){let e=u(3);p(3),pt(" Showing ",(e.currentPage-1)*e.itemsPerPage+1," to ",e.Math.min(e.currentPage*e.itemsPerPage,e.totalItems)," of ",e.totalItems," orders "),p(2),f("disabled",e.currentPage===1),p(2),f("disabled",e.currentPage===1),p(2),f("ngForOf",e.getPageNumbers()),p(),f("disabled",e.currentPage===e.totalPages),p(2),f("disabled",e.currentPage===e.totalPages)}}function za(r,t){if(r&1&&(a(0,"div",27),P(1,Aa,7,1,"div",28)(2,Fa,2,1,"div",29)(3,La,14,8,"div",30),s()),r&2){let e=u(2);p(),f("ngIf",e.orders.length===0),p(),f("ngIf",e.orders.length>0),p(),f("ngIf",e.totalPages>1)}}function Ra(r,t){if(r&1){let e=I();a(0,"div")(1,"div",3)(2,"div",4)(3,"div",5),$(),a(4,"svg",6),h(5,"circle",7)(6,"path",8),s(),de(),a(7,"input",9),Be("ngModelChange",function(i){b(e);let o=u();return Ve(o.searchTerm,i)||(o.searchTerm=i),v(i)}),y("input",function(){b(e);let i=u();return v(i.onSearch())}),s(),P(8,Ea,3,0,"button",10),s()(),P(9,Ta,4,4,"div",11),s(),a(10,"div",12)(11,"h2",13),c(12,"Orders"),s()(),P(13,ka,3,0,"div",14)(14,Ia,5,1,"div",15)(15,za,4,3,"div",16),s()}if(r&2){let e=u();p(7),Re("ngModel",e.searchTerm),p(),f("ngIf",e.searchTerm),p(),f("ngIf",e.searchTerm),p(4),f("ngIf",e.loading),p(),f("ngIf",e.error&&!e.loading),p(),f("ngIf",!e.loading&&!e.error)}}function Va(r,t){r&1&&(a(0,"div",67)(1,"div",23),c(2,"Loading order details..."),s()())}function Ba(r,t){if(r&1&&(a(0,"div",91)(1,"div",79)(2,"div",92),c(3),s()(),a(4,"div",80),c(5),s(),a(6,"div",81),c(7),s(),a(8,"div",82)(9,"div",93),c(10),a(11,"small"),c(12),s()()(),a(13,"div",83),c(14),s()()),r&2){let e=t.$implicit,n=u(3);p(3),x(e.name),p(2),x(e.quantity),p(2),x(n.formatCurrency(e.selling_price)),p(3),L("",n.formatCurrency(e.tax_amount)," "),p(2),L("(",e.tax_percent,"%)"),p(2),L(" ",n.formatCurrency(n.parseFloat(e.selling_price)*n.parseFloat(e.quantity))," ")}}function ja(r,t){if(r&1&&(a(0,"div",96)(1,"div",97)(2,"span",98),c(3,"Payment Method:"),s(),a(4,"span",99),c(5),s()(),a(6,"div",97)(7,"span",98),c(8,"Amount:"),s(),a(9,"span",99),c(10),s()()()),r&2){let e=t.$implicit,n=u(4);p(5),L("Method #",e.payment_id),p(5),x(n.formatCurrency(e.amount))}}function qa(r,t){if(r&1&&(a(0,"div",94)(1,"h4"),c(2,"Payment Details"),s(),P(3,ja,11,2,"div",95),s()),r&2){let e=u(3);p(3),f("ngForOf",e.orderPaymentDetails)}}function Ha(r,t){if(r&1&&(a(0,"div",68)(1,"div",69)(2,"h4"),c(3,"Order Summary"),s(),a(4,"div",70)(5,"div",71)(6,"span",72),c(7,"Bill ID:"),s(),a(8,"span",73),c(9),s()(),a(10,"div",71)(11,"span",72),c(12,"Total Amount:"),s(),a(13,"span",74),c(14),s()(),a(15,"div",71)(16,"span",72),c(17,"Date:"),s(),a(18,"span",73),c(19),s()(),a(20,"div",71)(21,"span",72),c(22,"Status:"),s(),a(23,"span",75),c(24),s()(),a(25,"div",71)(26,"span",72),c(27,"Customer ID:"),s(),a(28,"span",73),c(29),s()(),a(30,"div",71)(31,"span",72),c(32,"Billed By:"),s(),a(33,"span",73),c(34),s()()()(),a(35,"div",76)(36,"h4"),c(37,"Order Items"),s(),a(38,"div",77)(39,"div",78)(40,"div",79),c(41,"Item"),s(),a(42,"div",80),c(43,"Qty"),s(),a(44,"div",81),c(45,"Price"),s(),a(46,"div",82),c(47,"Tax"),s(),a(48,"div",83),c(49,"Total"),s()(),P(50,Ba,15,6,"div",84),s(),a(51,"div",85)(52,"div",86)(53,"span",87),c(54,"Subtotal:"),s(),a(55,"span",88),c(56),s()(),a(57,"div",86)(58,"span",87),c(59,"Total Tax:"),s(),a(60,"span",88),c(61),s()(),a(62,"div",89)(63,"span",87),c(64,"Final Total:"),s(),a(65,"span",88),c(66),s()()()(),P(67,qa,4,1,"div",90),s()),r&2){let e=u(2);p(9),x(e.selectedOrder.bill_id),p(5),x(e.formatCurrency(e.selectedOrder.bill_amount)),p(5),x(e.formatDate(e.selectedOrder.billed_on)),p(4),f("ngClass",e.getOrderStatusClass(e.selectedOrder.is_refunded)),p(),L(" ",e.getOrderStatus(e.selectedOrder.is_refunded)," "),p(5),L("#",e.selectedOrder.customer_id),p(5),L("User #",e.selectedOrder.billed_by),p(16),f("ngForOf",e.orderDetails),p(6),x(e.formatCurrency(e.calculateOrderTotal())),p(5),x(e.formatCurrency(e.calculateTotalTax())),p(5),x(e.formatCurrency(e.selectedOrder.bill_amount)),p(),f("ngIf",e.orderPaymentDetails.length>0)}}function Ka(r,t){if(r&1){let e=I();a(0,"div",61)(1,"div",62)(2,"button",63),y("click",function(){b(e);let i=u();return v(i.goBack())}),h(3,"i",64),s(),a(4,"h2"),c(5,"Order Details"),s()(),P(6,Va,3,0,"div",65)(7,Ha,68,12,"div",66),s()}if(r&2){let e=u();p(6),f("ngIf",e.loadingOrderDetail),p(),f("ngIf",!e.loadingOrderDetail&&e.selectedOrder)}}var Zt=class r{constructor(t,e,n){this.orderService=t;this.auth=e;this.router=n}orders=[];loading=!1;error=null;currentPage=1;totalPages=1;itemsPerPage=10;totalItems=0;searchTerm="";searchTimeout;showOrderDetail=!1;selectedOrder=null;orderDetails=[];orderPaymentDetails=[];loadingOrderDetail=!1;Math=Math;parseFloat=parseFloat;subs=new Xn;ngOnInit(){this.fetchOrders()}ngOnDestroy(){this.subs.unsubscribe(),this.searchTimeout&&clearTimeout(this.searchTimeout)}fetchOrders(t=1){if(this.loading=!0,this.error=null,this.currentPage=t,!this.auth.isLoggedIn()){this.error="You are not authenticated. Please log in.",this.loading=!1;return}let e={page:t};this.searchTerm.trim()&&(e.search=this.searchTerm.trim());let n=this.orderService.list(e).subscribe({next:i=>{console.log("Orders API Response:",i),i.success&&i.data?(this.orders=i.data.data,this.currentPage=i.data.current_page,this.totalPages=i.data.last_page,this.itemsPerPage=i.data.per_page,this.totalItems=i.data.total):(this.error=i.message||"Failed to load orders",this.orders=[]),this.loading=!1},error:i=>{console.error("Order fetch error:",i),i.status===401?(this.error="Unauthenticated. Please log in again.",this.auth.clearSession()):i.status===403?this.error="Access denied. You do not have permission to view orders.":i.status===404?this.error="Orders endpoint not found. Please check your configuration.":this.error=i?.error?.message||"Failed to load orders. Please try again.",this.loading=!1}});this.subs.add(n)}onSearch(){this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.fetchOrders(1)},300)}clearSearch(){this.searchTerm="",this.fetchOrders(1)}goToPage(t){t>=1&&t<=this.totalPages&&t!==this.currentPage&&this.fetchOrders(t)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}goToNextPage(){this.currentPage<this.totalPages&&this.goToPage(this.currentPage+1)}goToPreviousPage(){this.currentPage>1&&this.goToPage(this.currentPage-1)}getPageNumbers(){let t=[],n=Math.floor(2.5),i=Math.max(1,this.currentPage-n),o=Math.min(this.totalPages,this.currentPage+n);o-i+1<5&&(i===1?o=Math.min(this.totalPages,i+5-1):o===this.totalPages&&(i=Math.max(1,o-5+1)));for(let l=i;l<=o;l++)t.push(l);return t}viewOrderDetail(t){this.selectedOrder=t,this.loadingOrderDetail=!0,this.showOrderDetail=!0,this.orderDetails=[],this.orderPaymentDetails=[];let e=this.orderService.getOrderDetail(t.id).subscribe({next:n=>{console.log("Order Detail Response:",n),n.success&&n.data?(this.orderDetails=n.data.order_details,this.orderPaymentDetails=n.data.order_payment_details):this.error=n.message||"Failed to load order details",this.loadingOrderDetail=!1},error:n=>{console.error("Order detail fetch error:",n),this.error=n?.error?.message||"Failed to load order details. Please try again.",this.loadingOrderDetail=!1}});this.subs.add(e)}closeOrderDetail(){this.showOrderDetail=!1,this.selectedOrder=null,this.orderDetails=[],this.orderPaymentDetails=[]}goBack(){this.closeOrderDetail()}formatCurrency(t){return this.orderService.formatCurrency(t)}formatDate(t){return this.orderService.formatDate(t)}getOrderStatus(t){return this.orderService.getOrderStatus(t)}getOrderStatusClass(t){return this.orderService.getOrderStatusClass(t)}calculateOrderTotal(){return this.orderDetails.reduce((t,e)=>t+parseFloat(e.selling_price)*parseFloat(e.quantity),0)}calculateTotalTax(){return this.orderDetails.reduce((t,e)=>t+parseFloat(e.tax_amount),0)}static \u0275fac=function(e){return new(e||r)(D(Xt),D(z),D(j))};static \u0275cmp=R({type:r,selectors:[["app-order"]],decls:3,vars:2,consts:[[1,"page","page-order"],[4,"ngIf"],["class","order-detail-page",4,"ngIf"],[1,"search-container"],[1,"search-input-wrapper"],[1,"search-input-group"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"input-search-icon"],["cx","11","cy","11","r","8"],["d","m21 21-4.35-4.35"],["type","text","placeholder","Search orders by Bill ID, customer ID...","autocomplete","off",1,"search-input",3,"ngModelChange","input","ngModel"],["class","clear-search-btn","type","button","aria-label","Clear search",3,"click",4,"ngIf"],["class","search-results-info",4,"ngIf"],[1,"page-header"],[1,"page-title"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","orders-container",4,"ngIf"],["type","button","aria-label","Clear search",1,"clear-search-btn",3,"click"],[1,"clear-icon"],[1,"search-results-info"],[1,"results-summary"],[1,"results-text"],[1,"loading-container"],[1,"loading-spinner"],[1,"error-container"],[1,"error-message"],[1,"error-icon"],[1,"orders-container"],["class","empty-state",4,"ngIf"],["class","orders-grid",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"empty-state"],[1,"empty-icon"],[1,"orders-grid"],["class","order-card",3,"click",4,"ngFor","ngForOf"],[1,"order-card",3,"click"],[1,"order-header"],[1,"order-id"],[1,"order-status",3,"ngClass"],[1,"order-info"],[1,"order-amount"],[1,"amount-label"],[1,"amount-value"],[1,"order-date"],[1,"date-label"],[1,"date-value"],[1,"order-customer"],[1,"customer-label"],[1,"customer-value"],[1,"order-footer"],[1,"view-details-btn"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-text"],[1,"pagination-controls"],["title","First Page",1,"pagination-btn",3,"click","disabled"],["title","Previous Page",1,"pagination-btn",3,"click","disabled"],["class","pagination-btn page-number",3,"active","click",4,"ngFor","ngForOf"],["title","Next Page",1,"pagination-btn",3,"click","disabled"],["title","Last Page",1,"pagination-btn",3,"click","disabled"],[1,"pagination-btn","page-number",3,"click"],[1,"order-detail-page"],[1,"order-detail-nav"],["aria-label","Back",1,"nav-icon",3,"click"],[1,"fa-solid","fa-arrow-left"],["class","loading-detail",4,"ngIf"],["class","order-detail-content",4,"ngIf"],[1,"loading-detail"],[1,"order-detail-content"],[1,"order-summary"],[1,"summary-grid"],[1,"summary-item"],[1,"label"],[1,"value"],[1,"value","amount"],[1,"value",3,"ngClass"],[1,"order-items"],[1,"items-table"],[1,"table-header"],[1,"col-item"],[1,"col-qty"],[1,"col-price"],[1,"col-tax"],[1,"col-total"],["class","table-row",4,"ngFor","ngForOf"],[1,"order-totals"],[1,"total-row"],[1,"total-label"],[1,"total-value"],[1,"total-row","final-total"],["class","payment-details",4,"ngIf"],[1,"table-row"],[1,"item-name"],[1,"d-flex","align-item-center","gap-8"],[1,"payment-details"],["class","payment-item",4,"ngFor","ngForOf"],[1,"payment-item"],[1,"payment-info"],[1,"payment-label"],[1,"payment-value"]],template:function(e,n){e&1&&(a(0,"div",0),P(1,Ra,16,6,"div",1)(2,Ka,8,2,"div",2),s()),e&2&&(p(),f("ngIf",!n.showOrderDetail),p(),f("ngIf",n.showOrderDetail))},dependencies:[B,ht,je,H,vt,qe,He,bt,Y],styles:['[_nghost-%COMP%]{display:block;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);font-size:13px;line-height:1.35}.page-order[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem 0;margin-bottom:1.5rem}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:stretch}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center;background:#fff;border-radius:6px;border:1px solid var(--color-neutral-400);transition:border-color .2s ease}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]:focus-within{border-color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .input-search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;width:16px;height:16px;color:var(--color-neutral-500);z-index:1}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 2.5rem .75rem 2.25rem;border:none;border-radius:6px;font-size:14px;background:transparent;color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-neutral-500)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]{position:absolute;right:.5rem;background:var(--color-neutral-200);border:none;color:var(--color-neutral-600);cursor:pointer;padding:.25rem;border-radius:4px;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]:hover{background:var(--color-neutral-300)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input-wrapper[_ngcontent-%COMP%]   .search-input-group[_ngcontent-%COMP%]   .clear-search-btn[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{font-size:12px}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--color-neutral-200)}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:.5rem}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-results-info[_ngcontent-%COMP%]   .results-summary[_ngcontent-%COMP%]   .results-text[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:13px;font-weight:500}.page-order[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.page-order[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:var(--color-neutral-800);margin:0}.page-order[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .error-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px}.page-order[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:1rem;background-color:var(--color-error-bg, #fed7d7);border:1px solid var(--color-error-border, #feb2b2);border-radius:8px;color:var(--color-error-text, #c53030)}.page-order[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:1.2rem}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:.5rem;color:var(--color-neutral-700);font-weight:500}.page-order[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.page-order[_ngcontent-%COMP%]   .orders-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;margin-bottom:2rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]{background:#fff;border:1px solid var(--color-neutral-300);border-radius:8px;padding:1.25rem;transition:all .2s ease;cursor:pointer;box-shadow:0 1px 3px #0000000d}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0000001a;border-color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-id[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-status[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:500}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-status.status-completed[_ngcontent-%COMP%]{background-color:var(--color-success-bg, #c6f6d5);color:var(--color-success-text, #22543d)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-header[_ngcontent-%COMP%]   .order-status.status-refunded[_ngcontent-%COMP%]{background-color:var(--color-error-bg, #fed7d7);color:var(--color-error-text, #c53030)}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]{margin-bottom:1rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.85rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-label[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-weight:500}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-primary-bg);font-size:1rem}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .date-value[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-info[_ngcontent-%COMP%]   .customer-value[_ngcontent-%COMP%]{color:var(--color-neutral-700);font-weight:500}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:var(--color-primary-bg);color:var(--color-primary-text);border:none;border-radius:6px;font-weight:500;font-size:.9rem;cursor:pointer;transition:background-color .2s ease}.page-order[_ngcontent-%COMP%]   .order-card[_ngcontent-%COMP%]   .order-footer[_ngcontent-%COMP%]   .view-details-btn[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,var(--color-primary-bg) 90%,black)}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center;margin-top:2rem;padding:1rem;background:#fff;border-radius:8px}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%]   .pagination-text[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.85rem;font-weight:500}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{display:flex;gap:.25rem;align-items:center}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;border:1px solid var(--color-neutral-300);background-color:#fff;color:var(--color-neutral-600);border-radius:4px;cursor:pointer;transition:all .2s ease;min-width:36px;font-size:.85rem;font-weight:500}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--color-neutral-100);border-color:var(--color-neutral-400)}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn.active[_ngcontent-%COMP%]{background-color:var(--color-primary-bg);color:var(--color-primary-text);border-color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]   .pagination-btn.page-number[_ngcontent-%COMP%]{font-weight:500}.page-order[_ngcontent-%COMP%]   .modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:1rem}.page-order[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;max-width:900px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;border-bottom:1px solid var(--color-neutral-200);background:var(--color-primary-bg-light)}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-primary-bg);margin:0}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--color-neutral-600);padding:.25rem;border-radius:4px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-close-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-200);color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;margin-bottom:1.5rem}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-neutral-700);background-color:transparent;border:1px solid var(--color-neutral-500);padding:8px;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]:hover{background-color:var(--color-neutral-100);border-color:var(--color-primary-bg);color:var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   .nav-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.page-order[_ngcontent-%COMP%]   .order-detail-nav[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--color-neutral-800);margin:0}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%]{padding:1rem 0rem}.page-order[_ngcontent-%COMP%]   .loading-detail[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:2rem}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child, .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .order-detail-page[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .order-detail-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--color-neutral-800);margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid var(--color-primary-bg-light)}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background-color:var(--color-neutral-50);border-radius:6px;border-left:3px solid var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-weight:500;font-size:.85rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800);font-size:.9rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.amount[_ngcontent-%COMP%]{color:var(--color-primary-bg);font-size:1rem}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.status-completed[_ngcontent-%COMP%]{color:var(--color-success-text, #22543d)}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .value.status-refunded[_ngcontent-%COMP%]{color:var(--color-error-text, #c53030)}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]{border:1px solid var(--color-neutral-200);border-radius:6px;overflow:hidden}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 80px 100px 120px 100px;gap:1rem;padding:.75rem;align-items:center}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:var(--color-primary-bg-light);font-weight:600;color:var(--color-primary-bg);border-bottom:1px solid var(--color-neutral-200);font-size:.85rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{border-bottom:1px solid var(--color-neutral-200);font-size:.85rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:nth-child(2n){background-color:var(--color-neutral-50)}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500;color:var(--color-neutral-800);margin-bottom:.25rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]   .item-id[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-neutral-600)}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-price[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]{text-align:right;font-weight:500}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;color:var(--color-neutral-600);font-size:12px;line-height:16px}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]{color:var(--color-primary-bg);font-weight:600}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background-color:var(--color-primary-bg-light);border-radius:6px}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;font-size:.9rem}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-row.final-total[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:var(--color-primary-bg);border-top:2px solid var(--color-primary-bg);margin-top:.5rem;padding-top:1rem}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:var(--color-neutral-700);font-weight:500}.page-order[_ngcontent-%COMP%]   .order-totals[_ngcontent-%COMP%]   .total-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800)}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]{padding:1rem;background-color:var(--color-neutral-50);border-radius:6px;margin-bottom:.5rem;border-left:3px solid var(--color-primary-bg)}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem;font-size:.9rem}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]:last-child{margin-bottom:0}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-label[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-weight:500}.page-order[_ngcontent-%COMP%]   .payment-item[_ngcontent-%COMP%]   .payment-info[_ngcontent-%COMP%]   .payment-value[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-800)}@media (max-width: 768px){.page-order[_ngcontent-%COMP%]{padding:.5rem}.page-order[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{padding:.75rem}.page-order[_ngcontent-%COMP%]   .orders-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.page-order[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{margin:.5rem;max-height:95vh}.page-order[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.5rem;text-align:left}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-price[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%], .page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]{text-align:left}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{display:none}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{display:block;padding:1rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.5rem;display:flex;justify-content:space-between;align-items:center}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:600;color:var(--color-neutral-600);margin-right:1rem}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-item[_ngcontent-%COMP%]:before{content:"Item: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-qty[_ngcontent-%COMP%]:before{content:"Qty: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-price[_ngcontent-%COMP%]:before{content:"Price: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-tax[_ngcontent-%COMP%]:before{content:"Tax: "}.page-order[_ngcontent-%COMP%]   .items-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-total[_ngcontent-%COMP%]:before{content:"Total: "}.page-order[_ngcontent-%COMP%]   .summary-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.page-order[_ngcontent-%COMP%]   .pagination-controls[_ngcontent-%COMP%]{flex-wrap:wrap}}']})};function $a(r,t){if(r&1&&(a(0,"p",5),c(1),s()),r&2){let e=u();p(),L("Welcome, ",e.user.name)}}function Ua(r,t){r&1&&(a(0,"div",6)(1,"div",7),c(2,"Loading dashboard..."),s()())}function Qa(r,t){if(r&1&&(a(0,"div",33)(1,"span",34),c(2,"Address:"),s(),a(3,"span",35),c(4),s()()),r&2){let e=u(3);p(4),x(e.user.user_detail.address)}}function Ga(r,t){if(r&1&&(a(0,"div",33)(1,"span",34),c(2,"Plan Expires:"),s(),a(3,"span",35),c(4),Se(5,"date"),s()()),r&2){let e=u(3);p(4),x(mt(5,1,e.user.user_detail.plan_end,"mediumDate"))}}function Wa(r,t){if(r&1&&(a(0,"div",31)(1,"h2"),c(2,"Business Information"),s(),a(3,"div",32)(4,"div",33)(5,"span",34),c(6,"Business Name:"),s(),a(7,"span",35),c(8),s()(),a(9,"div",33)(10,"span",34),c(11,"Email:"),s(),a(12,"span",35),c(13),s()(),a(14,"div",33)(15,"span",34),c(16,"Phone:"),s(),a(17,"span",35),c(18),s()(),a(19,"div",33)(20,"span",34),c(21,"Unique ID:"),s(),a(22,"span",35),c(23),s()(),P(24,Qa,5,1,"div",36)(25,Ga,6,4,"div",36),s()()),r&2){let e=u(2);p(8),x(e.user.name||"-"),p(5),x(e.user.email||"-"),p(5),x(e.user.phone||"-"),p(5),x(e.user.unique_id||"-"),p(),f("ngIf",e.user.user_detail==null?null:e.user.user_detail.address),p(),f("ngIf",e.user.user_detail==null?null:e.user.user_detail.plan_end)}}function Ya(r,t){if(r&1&&(a(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),h(4,"i",12),s(),a(5,"div",13)(6,"h3",14),c(7,"Total Branches"),s(),a(8,"p",15),c(9,"-"),s(),a(10,"span",16),c(11,"Active branches"),s()()(),a(12,"div",10)(13,"div",11),h(14,"i",17),s(),a(15,"div",13)(16,"h3",14),c(17,"Total Staff"),s(),a(18,"p",15),c(19,"-"),s(),a(20,"span",16),c(21,"Active staff members"),s()()(),a(22,"div",10)(23,"div",11),h(24,"i",18),s(),a(25,"div",13)(26,"h3",14),c(27,"Today's Orders"),s(),a(28,"p",15),c(29,"-"),s(),a(30,"span",16),c(31,"Orders processed today"),s()()(),a(32,"div",10)(33,"div",11),h(34,"i",19),s(),a(35,"div",13)(36,"h3",14),c(37,"Today's Revenue"),s(),a(38,"p",15),c(39,"\u20B9 -"),s(),a(40,"span",16),c(41,"Total revenue today"),s()()()(),P(42,Wa,26,6,"div",20),a(43,"div",21)(44,"h2"),c(45,"Quick Actions"),s(),a(46,"div",22)(47,"button",23),h(48,"i",24),a(49,"span"),c(50,"Categories"),s()(),a(51,"button",25),h(52,"i",17),a(53,"span"),c(54,"Manage Customers"),s()(),a(55,"button",26),h(56,"i",18),a(57,"span"),c(58,"View Orders"),s()(),a(59,"button",27),h(60,"i",28),a(61,"span"),c(62,"Settings"),s()(),a(63,"button",29),h(64,"i",30),a(65,"span"),c(66,"Profile"),s()()()()()),r&2){let e=u();p(42),f("ngIf",e.user)}}var Jt=class r{constructor(t){this.auth=t}user=null;loading=!0;ngOnInit(){this.auth.user$.subscribe(t=>{this.user=t,this.loading=!1})}static \u0275fac=function(e){return new(e||r)(D(z))};static \u0275cmp=R({type:r,selectors:[["app-dashboard"]],decls:7,vars:3,consts:[[1,"dashboard-page"],[1,"dashboard-header"],["class","welcome-text",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"welcome-text"],[1,"loading-container"],[1,"loading-spinner"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fa-solid","fa-store"],[1,"stat-info"],[1,"stat-title"],[1,"stat-value"],[1,"stat-label"],[1,"fa-solid","fa-users"],[1,"fa-solid","fa-receipt"],[1,"fa-solid","fa-indian-rupee-sign"],["class","info-section",4,"ngIf"],[1,"quick-actions"],[1,"action-buttons"],["routerLink","/categories",1,"action-btn"],[1,"fa-solid","fa-layer-group"],["routerLink","/customers",1,"action-btn"],["routerLink","/order",1,"action-btn"],["routerLink","/settings",1,"action-btn"],[1,"fa-solid","fa-cog"],["routerLink","/profile",1,"action-btn"],[1,"fa-solid","fa-user"],[1,"info-section"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],["class","info-item",4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),c(3,"Dashboard"),s(),P(4,$a,2,1,"p",2),s(),P(5,Ua,3,0,"div",3)(6,Ya,67,1,"div",4),s()),e&2&&(p(4),f("ngIf",n.user),p(),f("ngIf",n.loading),p(),f("ngIf",!n.loading))},dependencies:[B,H,Y,ye,_t],styles:["[_nghost-%COMP%]{display:block;padding:1.5rem;background-color:color-mix(in srgb,var(--color-primary-bg) 5%,white 95%);min-height:100vh}.dashboard-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;color:var(--color-neutral-800);margin:0 0 .5rem}.dashboard-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-neutral-600);margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:300px}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:1.1rem;color:var(--color-neutral-600)}.dashboard-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:2rem}.dashboard-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:0}.dashboard-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--color-neutral-800);margin:0 0 1rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;display:flex;gap:1.5rem;align-items:flex-start;box-shadow:0 2px 8px #00000014;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001f}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;background:linear-gradient(135deg,var(--color-primary-bg) 0%,color-mix(in srgb,var(--color-primary-bg) 80%,black) 100%);display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--color-neutral-600);margin:0 0 .5rem}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--color-neutral-800);margin:0 0 .25rem;line-height:1}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--color-neutral-500)}.info-section[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:var(--color-neutral-50);border-radius:8px;border-left:3px solid var(--color-primary-bg)}.info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-neutral-700);font-size:.9rem}.info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:var(--color-neutral-800);font-size:.9rem;text-align:right}.quick-actions[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014}.action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.25rem 1.5rem;background:var(--color-primary-bg-light);border:2px solid var(--color-primary-bg);border-radius:10px;color:var(--color-primary-bg);font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.action-btn[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg);color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}@media (max-width: 768px){[_nghost-%COMP%]{padding:1rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.stat-card[_ngcontent-%COMP%]{padding:1rem;gap:1rem}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.info-grid[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function Xa(r,t){if(r&1&&(a(0,"p",5),c(1),s()),r&2){let e=u();p(),L("Welcome, ",e.user.name)}}function Za(r,t){r&1&&(a(0,"div",6)(1,"div",7),c(2,"Loading dashboard..."),s()())}function Ja(r,t){if(r&1&&(a(0,"div",34)(1,"span",35),c(2,"Account Created:"),s(),a(3,"span",36),c(4),Se(5,"date"),s()()),r&2){let e=u(3);p(4),x(mt(5,1,e.user.created_at,"mediumDate"))}}function es(r,t){if(r&1&&(a(0,"div",32)(1,"h2"),c(2,"System Information"),s(),a(3,"div",33)(4,"div",34)(5,"span",35),c(6,"Admin Name:"),s(),a(7,"span",36),c(8),s()(),a(9,"div",34)(10,"span",35),c(11,"Email:"),s(),a(12,"span",36),c(13),s()(),a(14,"div",34)(15,"span",35),c(16,"Phone:"),s(),a(17,"span",36),c(18),s()(),a(19,"div",34)(20,"span",35),c(21,"Role:"),s(),a(22,"span",37),c(23,"Super Admin"),s()(),a(24,"div",34)(25,"span",35),c(26,"Unique ID:"),s(),a(27,"span",36),c(28),s()(),P(29,Ja,6,4,"div",38),s()()),r&2){let e=u(2);p(8),x(e.user.name||"-"),p(5),x(e.user.email||"-"),p(5),x(e.user.phone||"-"),p(10),x(e.user.unique_id||"-"),p(),f("ngIf",e.user.created_at)}}function ts(r,t){if(r&1&&(a(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),h(4,"i",12),s(),a(5,"div",13)(6,"h3",14),c(7,"Total Companies"),s(),a(8,"p",15),c(9,"-"),s(),a(10,"span",16),c(11,"Active companies"),s()()(),a(12,"div",10)(13,"div",11),h(14,"i",17),s(),a(15,"div",13)(16,"h3",14),c(17,"Total HO Users"),s(),a(18,"p",15),c(19,"-"),s(),a(20,"span",16),c(21,"Head office users"),s()()(),a(22,"div",10)(23,"div",11),h(24,"i",18),s(),a(25,"div",13)(26,"h3",14),c(27,"Total Branches"),s(),a(28,"p",15),c(29,"-"),s(),a(30,"span",16),c(31,"All branches"),s()()(),a(32,"div",10)(33,"div",11),h(34,"i",19),s(),a(35,"div",13)(36,"h3",14),c(37,"Total Revenue"),s(),a(38,"p",15),c(39,"\u20B9 -"),s(),a(40,"span",16),c(41,"Platform revenue"),s()()()(),P(42,es,30,5,"div",20),a(43,"div",21)(44,"h2"),c(45,"System Management"),s(),a(46,"div",22)(47,"button",23),h(48,"i",12),a(49,"span"),c(50,"Manage Companies"),s()(),a(51,"button",24),h(52,"i",17),a(53,"span"),c(54,"Manage HO Users"),s()(),a(55,"button",25),h(56,"i",18),a(57,"span"),c(58,"Manage Branches"),s()(),a(59,"button",26),h(60,"i",27),a(61,"span"),c(62,"Analytics"),s()(),a(63,"button",28),h(64,"i",29),a(65,"span"),c(66,"System Settings"),s()(),a(67,"button",30),h(68,"i",31),a(69,"span"),c(70,"Admin Profile"),s()()()()()),r&2){let e=u();p(42),f("ngIf",e.user)}}var en=class r{constructor(t){this.auth=t}user=null;loading=!0;ngOnInit(){this.auth.user$.subscribe(t=>{this.user=t,this.loading=!1})}static \u0275fac=function(e){return new(e||r)(D(z))};static \u0275cmp=R({type:r,selectors:[["app-super-admin-dashboard"]],decls:7,vars:3,consts:[[1,"super-admin-dashboard"],[1,"dashboard-header"],["class","welcome-text",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"welcome-text"],[1,"loading-container"],[1,"loading-spinner"],[1,"dashboard-content"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fa-solid","fa-building"],[1,"stat-info"],[1,"stat-title"],[1,"stat-value"],[1,"stat-label"],[1,"fa-solid","fa-users-gear"],[1,"fa-solid","fa-store"],[1,"fa-solid","fa-indian-rupee-sign"],["class","info-section",4,"ngIf"],[1,"quick-actions"],[1,"action-buttons"],[1,"action-btn","primary"],[1,"action-btn","secondary"],[1,"action-btn","info"],[1,"action-btn","success"],[1,"fa-solid","fa-chart-line"],[1,"action-btn","warning"],[1,"fa-solid","fa-cogs"],["routerLink","/profile",1,"action-btn","danger"],[1,"fa-solid","fa-user-shield"],[1,"info-section"],[1,"info-grid"],[1,"info-item"],[1,"info-label"],[1,"info-value"],[1,"info-value","badge-super-admin"],["class","info-item",4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),c(3,"Super Admin Dashboard"),s(),P(4,Xa,2,1,"p",2),s(),P(5,Za,3,0,"div",3)(6,ts,71,1,"div",4),s()),e&2&&(p(4),f("ngIf",n.user),p(),f("ngIf",n.loading),p(),f("ngIf",!n.loading))},dependencies:[B,H,Y,ye,_t],styles:[".super-admin-dashboard[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto;min-height:calc(100vh - 160px)}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;font-size:32px;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.2)}.dashboard-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{margin:0;font-size:18px;opacity:.9}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:400px}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:18px;color:#666}.dashboard-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-bottom:16px}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a;display:flex;align-items:center;gap:20px;transition:all .3s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #00000026}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:24px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-title[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{margin:0 0 4px;font-size:28px;font-weight:700;color:#1a1a1a}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#999}.info-section[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 24px;font-size:24px;font-weight:600;color:#1a1a1a;border-bottom:2px solid #f0f0f0;padding-bottom:12px}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}.info-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#f8f9fa;border-radius:8px;border-left:4px solid #667eea}.info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:14px}.info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-weight:500;color:#555}.info-item[_ngcontent-%COMP%]   .info-value.badge-super-admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:4px 12px;border-radius:16px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.quick-actions[_ngcontent-%COMP%]{background:#fff;padding:32px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 24px;font-size:24px;font-weight:600;color:#1a1a1a;text-align:center}.action-buttons[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.action-btn[_ngcontent-%COMP%]{padding:20px;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s;display:flex;flex-direction:column;align-items:center;gap:12px;text-decoration:none;color:#fff}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-align:center}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0003}.action-btn.primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.action-btn.secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.action-btn.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.action-btn.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.action-btn.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.action-btn.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9a9e,#fecfef);color:#333}@media (max-width: 768px){.super-admin-dashboard[_ngcontent-%COMP%], .dashboard-header[_ngcontent-%COMP%]{padding:16px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.dashboard-header[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{font-size:16px}.stats-grid[_ngcontent-%COMP%], .info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-buttons[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}.action-btn[_ngcontent-%COMP%]{padding:16px 12px}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}}"]})};var ns=["sideMenu"];function rs(r,t){if(r&1){let e=I();a(0,"div",22),y("click",function(){b(e);let i=u();return v(i.close())}),s()}}function is(r,t){if(r&1){let e=I();a(0,"li")(1,"a",23),y("click",function(){b(e);let i=u();return v(i.close())}),h(2,"i",24),a(3,"span"),c(4,"Super Admin"),s()()()}}function os(r,t){if(r&1){let e=I();a(0,"li")(1,"a",25),y("click",function(){b(e);let i=u();return v(i.close())}),h(2,"i",26),a(3,"span"),c(4,"Dashboard"),s()()()}}function as(r,t){if(r&1){let e=I();a(0,"li")(1,"a",27),y("click",function(){b(e);let i=u();return v(i.close())}),h(2,"i",28),a(3,"span"),c(4,"POS"),s()()()}}var tn=class r{constructor(t,e){this.auth=t;this.router=e;this.auth.user$.subscribe(n=>{this.userName=n?.name||n?.full_name||n?.username||"";let i=n?.logo||n?.fav_icon||n?.logo_url||null;i&&(this.logoUrl=/^https?:\/\//i.test(i)?i:`${te.assetsBase.replace(/\/$/,"")}/${i.replace(/^\//,"")}`),this.isSuperAdmin=this.auth.isSuperAdmin(),this.isHO=this.auth.isHO(),this.isBranch=this.auth.isBranch(),this.shouldShowPOS=this.auth.shouldAccessPOS()})}open=!1;userName="";logoUrl=`${te.assetsBase.replace(/\/$/,"")}/no-image-icon.jpg`;isFullscreen=!1;previousFocus=null;sideMenuRef;isSuperAdmin=!1;isHO=!1;isBranch=!1;shouldShowPOS=!1;onKeydown=t=>{this.open&&(t.key==="Escape"&&(this.close(),t.preventDefault()),t.key==="Tab"&&this.maintainFocus(t))};toggle(){this.open=!this.open,this.open?this.onOpen():this.onClose()}onOpen(){this.previousFocus=document.activeElement,setTimeout(()=>this.focusFirstInMenu(),0)}close(){this.open=!1,this.onClose()}onClose(){try{this.previousFocus?.focus?.()}catch{}}focusFirstInMenu(){let t=this.sideMenuRef?.nativeElement;if(!t)return;let e=Array.from(t.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])")).filter(n=>!n.hasAttribute("disabled"));e.length&&e[0].focus()}ngOnInit(){document.addEventListener("keydown",this.onKeydown)}ngOnDestroy(){document.removeEventListener("keydown",this.onKeydown)}onFsChange(){let t=document;this.isFullscreen=!!(t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement)}toggleFullscreen(){return Yn(this,null,function*(){try{let t=document;if(this.isFullscreen)t.exitFullscreen?yield t.exitFullscreen():t.webkitExitFullscreen?yield t.webkitExitFullscreen():t.mozCancelFullScreen?yield t.mozCancelFullScreen():t.msExitFullscreen&&(yield t.msExitFullscreen()),this.isFullscreen=!1;else{let e=document.documentElement;e.requestFullscreen?yield e.requestFullscreen():e.webkitRequestFullscreen?yield e.webkitRequestFullscreen():e.mozRequestFullScreen?yield e.mozRequestFullScreen():e.msRequestFullscreen&&(yield e.msRequestFullscreen()),this.isFullscreen=!0}}catch{}})}maintainFocus(t){let e=this.sideMenuRef?.nativeElement;if(!e)return;let n=Array.from(e.querySelectorAll("a, button, [tabindex]:not([tabindex='-1'])")).filter(d=>!d.hasAttribute("disabled"));if(!n.length)return;let i=n[0],o=n[n.length-1],l=document.activeElement;!t.shiftKey&&l===o?(i.focus(),t.preventDefault()):t.shiftKey&&l===i&&(o.focus(),t.preventDefault())}onLogout(){this.auth.logout().subscribe({complete:()=>{this.auth.clearSession(),this.router.navigate(["/login"])}})}static \u0275fac=function(e){return new(e||r)(D(z),D(j))};static \u0275cmp=R({type:r,selectors:[["app-header"]],viewQuery:function(e,n){if(e&1&&pr(ns,5,ir),e&2){let i;gr(i=mr())&&(n.sideMenuRef=i.first)}},hostBindings:function(e,n){e&1&&y("fullscreenchange",function(){return n.onFsChange()},We)("webkitfullscreenchange",function(){return n.onFsChange()},We)("mozfullscreenchange",function(){return n.onFsChange()},We)("MSFullscreenChange",function(){return n.onFsChange()},We)},decls:35,vars:11,consts:[["sideMenu",""],[1,"app-header"],[1,"hamburger",3,"click"],["aria-hidden","true",1,"fa-solid","fa-bars"],[1,"logo-wrap"],["alt","logo","width","120",3,"src"],[1,"spacer"],[1,"fullscreen-btn",3,"click"],["aria-hidden","true"],["class","menu-backdrop",3,"click",4,"ngIf"],[1,"side-menu"],[1,"side-head"],[1,"side-title"],["aria-label","Close menu",1,"side-close",3,"click"],["aria-hidden","true",1,"fa-solid","fa-xmark"],[4,"ngIf"],["routerLink","/customers","aria-label","Customers",3,"click"],["aria-hidden","true",1,"fa-solid","fa-users"],["routerLink","/profile",3,"click"],[1,"fa-solid","fa-user"],[3,"click"],[1,"fa-solid","fa-right-from-bracket"],[1,"menu-backdrop",3,"click"],["routerLink","/super-admin","aria-label","Super Admin Dashboard",3,"click"],["aria-hidden","true",1,"fa-solid","fa-crown"],["routerLink","/dashboard","aria-label","Dashboard",3,"click"],["aria-hidden","true",1,"fa-solid","fa-chart-line"],["routerLink","/pos","aria-label","POS",3,"click"],["aria-hidden","true",1,"fa-solid","fa-desktop"]],template:function(e,n){if(e&1){let i=I();a(0,"header",1)(1,"button",2),y("click",function(){return b(i),v(n.toggle())}),h(2,"i",3),s(),a(3,"div",4),h(4,"img",5),s(),h(5,"div",6),a(6,"button",7),y("click",function(){return b(i),v(n.toggleFullscreen())}),h(7,"i",8),s()(),P(8,rs,1,0,"div",9),a(9,"nav",10,0)(11,"div",11)(12,"strong",12),c(13),s(),a(14,"button",13),y("click",function(){return b(i),v(n.close())}),h(15,"i",14),s()(),a(16,"ul"),P(17,is,5,0,"li",15)(18,os,5,0,"li",15)(19,as,5,0,"li",15),a(20,"li")(21,"a",16),y("click",function(){return b(i),v(n.close())}),h(22,"i",17),a(23,"span"),c(24,"Customers"),s()()(),a(25,"li")(26,"a",18),y("click",function(){return b(i),v(n.close())}),h(27,"i",19),a(28,"span"),c(29,"Profile"),s()()(),a(30,"li")(31,"a",20),y("click",function(){return b(i),v(n.onLogout())}),h(32,"i",21),a(33,"span"),c(34,"Logout"),s()()()()()}e&2&&(p(4),f("src",n.logoUrl,lt),p(2),ct("title",n.isFullscreen?"Exit fullscreen":"Enter fullscreen"),p(),ze(n.isFullscreen?"fa-solid fa-compress":"fa-solid fa-expand"),p(),f("ngIf",n.open),p(),ee("open",n.open),p(4),x(n.userName),p(4),f("ngIf",n.isSuperAdmin),p(),f("ngIf",n.isHO),p(),f("ngIf",n.shouldShowPOS))},dependencies:[B,H,Y,ye],styles:[".app-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.7rem .75rem;border-bottom:1px solid var(--color-neutral-400);background:var(--color-primary-bg, var(--color-neutral-100));color:var(--color-primary-text, var(--color-neutral-800))}.hamburger[_ngcontent-%COMP%]{font-size:20px;border:0;background:transparent;cursor:pointer}.app-header[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .app-header[_ngcontent-%COMP%]   .hamburger[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:var(--color-primary-text, var(--color-neutral-100))}.fullscreen-btn[_ngcontent-%COMP%]{margin-left:.5rem;background:transparent;border:0;color:var(--color-primary-text, var(--color-neutral-100));font-size:18px;display:inline-flex;align-items:center;justify-content:center;padding:6px;cursor:pointer}.logo-wrap[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:0 16px;display:flex;align-items:center;justify-content:center}.logo-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;object-fit:contain}.spacer[_ngcontent-%COMP%]{flex:1}.side-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-280px;width:280px;height:100%;background:var(--color-neutral-100);box-shadow:2px 0 10px var(--shadow-xxs);transition:left .22s ease;z-index:1000;padding:1rem 0}.side-menu.open[_ngcontent-%COMP%]{left:0;padding:1rem}.side-head[_ngcontent-%COMP%]{padding-bottom:.75rem;border-bottom:1px solid var(--color-neutral-400);margin-bottom:1rem;display:flex;align-items:center;justify-content:space-between}.side-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.menu-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:var(--overlay-dark-35);z-index:900}.side-close[_ngcontent-%COMP%]{background:transparent;border:0;font-size:20px;cursor:pointer}.side-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.4rem 0}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:var(--color-neutral-800);text-decoration:none;display:flex;align-items:center;gap:.75rem;padding:.6rem 0rem;border-radius:8px;transition:all .3s ease}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:28px;text-align:center;font-size:18px;color:var(--color-primary-bg);transition:all .3s ease}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,var(--color-primary-bg) 0%,#ffffff 100%);transform:translate(5px);padding-left:16px;color:var(--color-primary-text)}.side-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--color-primary-text);transform:scale(1.1)}"]})};function ss(r,t){r&1&&(a(0,"a",10),h(1,"i",11),s())}function ls(r,t){r&1&&(a(0,"a",12),h(1,"i",13),s())}function cs(r,t){r&1&&(a(0,"a",14),h(1,"i",15),s())}var nn=class r{constructor(t,e){this.router=t;this.auth=e}isSuperAdmin=!1;isHO=!1;isBranch=!1;shouldShowPOS=!1;ngOnInit(){this.auth.user$.subscribe(()=>{this.isSuperAdmin=this.auth.isSuperAdmin(),this.isHO=this.auth.isHO(),this.isBranch=this.auth.isBranch(),this.shouldShowPOS=this.auth.shouldAccessPOS()})}go(t){try{this.router.navigate([t])}catch{}}static \u0275fac=function(e){return new(e||r)(D(j),D(z))};static \u0275cmp=R({type:r,selectors:[["app-footer"]],decls:10,vars:3,consts:[["role","navigation","aria-label","Footer navigation",1,"app-footer"],["class","btn","routerLink","/super-admin","routerLinkActive","active","aria-label","Super Admin",4,"ngIf"],["class","btn","routerLink","/dashboard","routerLinkActive","active","aria-label","Dashboard",4,"ngIf"],["class","btn","routerLink","/pos","routerLinkActive","active","aria-label","POS",4,"ngIf"],["routerLink","/profile","routerLinkActive","active","aria-label","Profile",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-user","fa-lg"],["routerLink","/settings","routerLinkActive","active","aria-label","Settings",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-gear","fa-lg"],["routerLink","/order","routerLinkActive","active","aria-label","Orders",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-receipt","fa-lg"],["routerLink","/super-admin","routerLinkActive","active","aria-label","Super Admin",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-crown","fa-lg"],["routerLink","/dashboard","routerLinkActive","active","aria-label","Dashboard",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-chart-line","fa-lg"],["routerLink","/pos","routerLinkActive","active","aria-label","POS",1,"btn"],["aria-hidden","true",1,"fa-solid","fa-desktop","fa-lg"]],template:function(e,n){e&1&&(a(0,"nav",0),P(1,ss,2,0,"a",1)(2,ls,2,0,"a",2)(3,cs,2,0,"a",3),a(4,"a",4),h(5,"i",5),s(),a(6,"a",6),h(7,"i",7),s(),a(8,"a",8),h(9,"i",9),s()()),e&2&&(p(),f("ngIf",n.isSuperAdmin),p(),f("ngIf",n.isHO),p(),f("ngIf",n.shouldShowPOS))},dependencies:[B,H,Y,ye,Or],styles:[".app-footer[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;height:64px;display:flex;align-items:center;justify-content:space-around;background:var(--color-primary-bg);color:var(--color-primary-text);border-top:1px solid rgba(255,255,255,.06);z-index:1000}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#ffffffe6;display:inline-flex;align-items:center;justify-content:center;width:52px;height:52px;padding:6px;text-decoration:none;border-radius:12px;transition:background .12s ease,color .12s ease,transform .08s ease}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:24px;height:24px}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{line-height:0;vertical-align:middle;display:inline-block;color:inherit}.app-footer[_ngcontent-%COMP%]   .btn.router-link-active[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]   .btn.router-link-active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .app-footer[_ngcontent-%COMP%]   .btn.router-link-active[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);box-shadow:0 6px 16px #0d6efd1f;transform:translateY(-2px)}.app-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background:#ffffff0f;color:var(--color-primary-text)}.with-footer[_nghost-%COMP%]{padding-bottom:56px}"]})};function ds(r,t){r&1&&(a(0,"div",16),c(1,"Added"),s())}function ps(r,t){if(r&1&&(a(0,"span"),c(1),s()),r&2){let e=u().$implicit,n=u(2);p(),L(" (",n.taxPercent(e),"%)")}}function gs(r,t){if(r&1){let e=I();a(0,"li",19)(1,"div",20)(2,"div",21)(3,"div",22),c(4),s(),a(5,"div",23),c(6),s()(),a(7,"div",24)(8,"div",25)(9,"div",26),c(10),s(),a(11,"div",27),c(12),s()()()(),a(13,"div",28)(14,"div",29)(15,"div",30),c(16),Se(17,"currency"),s(),a(18,"div",30),c(19),Se(20,"currency"),s(),a(21,"div",31),c(22),Se(23,"currency"),P(24,ps,2,1,"span",32),s()(),a(25,"div",33)(26,"button",34),y("click",function(){let i=b(e).$implicit,o=u(2);return v(o.inc(i.id))}),h(27,"i",35),s(),a(28,"button",36),y("click",function(){let i=b(e).$implicit,o=u(2);return v(o.dec(i.id))}),h(29,"i",37),s(),a(30,"button",38),y("click",function(){let i=b(e).$implicit,o=u(2);return v(o.del(i.id))}),h(31,"i",39),s()()()()}if(r&2){let e=t.$implicit,n=u(2);p(4),x((e.product.product==null?null:e.product.product.name)||e.product.name),p(2),L("Qty: ",e.qty),p(4),L("",(e.product.product==null||e.product.product.category==null?null:e.product.product.category.name)||(e.product.category==null?null:e.product.category.name)," "),p(2),x((e.product.product==null||e.product.product.sub_category==null?null:e.product.product.sub_category.name)||(e.product.sub_category==null?null:e.product.sub_category.name)),p(4),x(ut(17,8,(e.product.product==null?null:e.product.product.price)||e.product.price||e.price,"INR","symbol","1.2-2")),p(3),x(ut(20,13,e.price,"INR","symbol","1.2-2")),p(3),L("Tax: ",ut(23,18,(e.product.product==null?null:e.product.product.tax_amount)||e.product.tax_amount||e.tax_amount||0,"INR","symbol","1.2-2")," "),p(2),f("ngIf",n.taxPercent(e)!==null)}}function ms(r,t){if(r&1&&(a(0,"ul",17),P(1,gs,32,23,"li",18),s()),r&2){let e=u();p(),f("ngForOf",e.items)}}function us(r,t){r&1&&(a(0,"div",40),c(1,"Cart is empty"),s())}function fs(r,t){if(r&1){let e=I();a(0,"button",41),y("click",function(){b(e);let i=u();return v(i.toggle())}),h(1,"i",42),a(2,"span",43),c(3),s()()}if(r&2){let e=u();p(3),x(e.cart.totalItems())}}function hs(r,t){if(r&1&&(a(0,"div",44),c(1),s()),r&2){let e=u();p(),x(e.toast)}}var rn=class r{constructor(t,e){this.cart=t;this.router=e;this.cart.cart$.subscribe(n=>{this.items=n,(!this.items||this.items.length===0)&&(this.open=!1)}),this.cart.added$.subscribe(()=>{this.cart.totalItems()>0&&(this.open=!0,this.pulse=!0,setTimeout(()=>this.pulse=!1,350),this.showToast("Added to cart"))})}open=!1;items=[];toast="";toastTimer=null;pulse=!1;taxPercent(t){try{let e=t.product||{},n=e.price??e.selling_price??0,i=e.tax_amount??e.taxAmount??t.tax_amount??0,o=Number(n)||0,l=Number(i)||0;if(o<=0||l<=0)return null;let d=l/o*100;return Math.round(d*100)/100}catch{return null}}toggle(){if(!this.items?.length){this.showToast("No items available in cart");return}this.open=!this.open}close(){this.open=!1}inc(t){this.cart.increment(t)}dec(t){this.cart.decrement(t)}del(t){this.cart.remove(t)}clear(){this.cart.clear()}goToCheckout(){if(!this.items?.length){this.showToast("Cart is empty");return}this.router.navigate(["/checkout"])}showToast(t){this.toast=t,this.toastTimer&&clearTimeout(this.toastTimer),this.toastTimer=setTimeout(()=>{this.toast="",this.toastTimer=null},2e3)}static \u0275fac=function(e){return new(e||r)(D(Pt),D(j))};static \u0275cmp=R({type:r,selectors:[["app-cart"]],decls:21,vars:11,consts:[["emptyCart",""],["role","dialog","aria-label","Cart",1,"cart-panel"],[1,"cart-header"],[1,"cart-controls"],["title","Clear cart","aria-label","Clear cart",3,"click"],[1,"fa-solid","fa-trash-can"],["title","Close","aria-label","Close cart",3,"click"],[1,"fa-solid","fa-chevron-down"],["class","cart-added",4,"ngIf"],[1,"cart-body"],["class","cart-items",4,"ngIf","ngIfElse"],[1,"cart-footer"],[1,"cart-summary"],["title","Checkout",1,"checkout",3,"click"],["class","cart-toggle","aria-label","Open cart",3,"click",4,"ngIf"],["class","cart-toast",4,"ngIf"],[1,"cart-added"],[1,"cart-items"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-item"],[1,"ci-main"],[1,"d-flex","flex-row","align-center","space-between"],[1,"ci-title"],[1,"quantity-info"],[1,"ci-categories","space-between","d-flex","align-center"],[1,"d-flex","flex-row"],[1,"category"],[1,"subcategory"],[1,"ci-pricing","d-flex","flex-row","align-center","space-between"],[1,"price-info","d-flex","align-center"],[1,"base-price"],[1,"tax-amount"],[4,"ngIf"],[1,"ci-actions","d-flex","flex-row"],["aria-label","Increase",3,"click"],[1,"fa-solid","fa-plus"],["aria-label","Decrease",3,"click"],[1,"fa-solid","fa-minus"],["aria-label","Remove",3,"click"],[1,"fa-solid","fa-trash"],[1,"empty"],["aria-label","Open cart",1,"cart-toggle",3,"click"],[1,"fa-solid","fa-cart-shopping"],[1,"badge"],[1,"cart-toast"]],template:function(e,n){if(e&1){let i=I();a(0,"div",1)(1,"header",2)(2,"strong"),c(3,"Cart"),s(),a(4,"div",3)(5,"button",4),y("click",function(){return b(i),v(n.clear())}),h(6,"i",5),s(),a(7,"button",6),y("click",function(){return b(i),v(n.close())}),h(8,"i",7),s()()(),P(9,ds,2,0,"div",8),a(10,"div",9),P(11,ms,2,1,"ul",10)(12,us,2,0,"ng-template",null,0,ft),s(),a(14,"footer",11)(15,"div",12),c(16),s(),a(17,"button",13),y("click",function(){return b(i),v(n.goToCheckout())}),c(18,"Checkout"),s()()(),P(19,fs,4,1,"button",14)(20,hs,2,1,"div",15)}if(e&2){let i=dt(13);ee("open",n.open)("pulse",n.pulse),p(9),f("ngIf",n.pulse),p(2),f("ngIf",n.items==null?null:n.items.length)("ngIfElse",i),p(5),Ye("Total: Rs. ",n.cart.totalPrice()," \u2014 Items: ",n.cart.totalItems()),p(3),f("ngIf",n.cart.totalItems()>0),p(),f("ngIf",n.toast)}},dependencies:[B,je,H,hr],styles:["[_ngcontent-%COMP%]:root{--cart-bg: #fffbe6;--cart-shadow: 0 -6px 24px rgba(0, 0, 0, .12)}.cart-toggle[_ngcontent-%COMP%]{position:fixed;right:4rem;top:10px;z-index:1200;background:var(--color-neutral-100);color:var(--color-primary-bg);border-radius:999px;padding:.6rem .8rem;border:none;display:flex;align-items:center;gap:.5rem}.cart-toggle[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{background:var(--danger, #ff4d4f);padding:.15rem .4rem;border-radius:999px;color:#fff;font-weight:600}.cart-panel[_ngcontent-%COMP%]{position:fixed;left:0;right:0;bottom:0;transform:translateY(100%);transition:transform .28s ease;z-index:1100;background:var(--color-primary-text);box-shadow:var(--cart-shadow);padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.06)}.cart-panel.open[_ngcontent-%COMP%]{transform:translateY(0) scaleY(1)}.cart-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;border-bottom:1px solid #eee}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:999px;border:1px solid rgba(0,0,0,.04);background:#fffffffa;box-shadow:0 1px 4px #0000000f;cursor:pointer;transition:all .15s ease;color:var(--color-neutral-800)}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000014}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.cart-controls[_ngcontent-%COMP%]   button.clear[_ngcontent-%COMP%]{background:transparent;color:var(--color-danger-text);border-color:#ff4d4f14}.cart-controls[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{--btn-bg: var(--color-neutral-100);--btn-color: var(--color-primary-bg);background:var(--btn-bg);color:var(--btn-color);border:1px solid rgba(0,0,0,.04);padding:6px 8px;border-radius:999px;display:inline-flex;align-items:center;justify-content:center;gap:6px;cursor:pointer;box-shadow:0 1px 4px #0c14320a;transition:transform .12s ease,box-shadow .12s ease,opacity .12s ease}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.cart-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #0c143214}.cart-controls[_ngcontent-%COMP%]   button.danger[_ngcontent-%COMP%]{background:transparent;color:var(--color-danger-text);border-color:#ff4d4f0f}.cart-controls[_ngcontent-%COMP%]   button.ghost[_ngcontent-%COMP%]{background:transparent;border:none;box-shadow:none}.cart-body[_ngcontent-%COMP%]{max-height:222px;overflow:auto;padding:12px}.cart-items[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px}.cart-item[_ngcontent-%COMP%]{padding:12px;border-radius:8px;border:1px solid var(--color-neutral-400);background:#fff;transition:all .2s ease}.cart-item[_ngcontent-%COMP%]:hover{border-color:var(--color-primary-bg);box-shadow:0 2px 8px #00000014}.ci-main[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.ci-title[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:var(--color-neutral-900);line-height:1.2}.ci-code[_ngcontent-%COMP%]{font-size:11px;font-weight:500;color:var(--color-neutral-500);text-transform:uppercase;letter-spacing:.5px}.ci-categories[_ngcontent-%COMP%]{display:flex;gap:.5rem}.ci-categories[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:.125rem .5rem;background:var(--color-primary-bg);color:#fff;border-radius:12px;white-space:nowrap}.ci-categories[_ngcontent-%COMP%]   .subcategory[_ngcontent-%COMP%]{font-size:10px;font-weight:500;padding:.125rem .5rem;background:var(--color-info-bg);color:var(--color-info-text);border:1px solid var(--color-info-border);border-radius:12px;white-space:nowrap}.ci-pricing[_ngcontent-%COMP%]{margin-top:.75rem}.ci-pricing[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]{display:flex;gap:.125rem}.ci-pricing[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .base-price[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:var(--color-neutral-900)}.ci-pricing[_ngcontent-%COMP%]   .price-info[_ngcontent-%COMP%]   .tax-amount[_ngcontent-%COMP%]{font-size:10px;color:var(--color-warning-text);font-weight:500}.ci-hsn[_ngcontent-%COMP%]{font-size:10px;color:var(--color-neutral-500);font-weight:500;font-family:Courier New,monospace}.quantity-info[_ngcontent-%COMP%]{font-size:12px;color:var(--color-neutral-600);font-weight:500;background:var(--color-neutral-100);padding:.125rem .5rem;border-radius:8px;min-width:46px;text-align:right}.ci-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;align-items:center}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-neutral-200);border:none;border-radius:6px;width:28px;height:28px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:var(--color-neutral-700)}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:var(--color-primary-bg);color:#fff;transform:scale(1.1)}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:11px}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:transparent;color:var(--color-danger-text);box-shadow:none}.ci-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background:transparent;color:var(--color-danger-text);transform:none;opacity:.9}.cart-footer[_ngcontent-%COMP%]{padding:12px 16px;border-top:1px solid #eee;display:flex;align-items:center;justify-content:space-between}.checkout[_ngcontent-%COMP%]{background:var(--primary, #0b5cff);color:#fff;border:none;padding:8px 12px;border-radius:8px}.cart-toast[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:5.5rem;background:#000000d9;color:#fff;padding:.5rem .8rem;border-radius:6px;z-index:1300}.cart-added[_ngcontent-%COMP%]{position:absolute;right:1rem;top:-2rem;background:var(--primary, #0b5cff);color:#fff;padding:.25rem .5rem;border-radius:6px;font-size:.85rem}"]})};function _s(r,t){if(r&1&&(a(0,"div",1)(1,"div"),c(2),s()()),r&2){let e=u();p(),ze("toast-inner "+(e.t.type||"")),p(),x(e.t.message)}}var on=class r{constructor(t){this.toast=t;this.toast.toast$.subscribe(e=>this.t=e)}t=null;static \u0275fac=function(e){return new(e||r)(D(Ot))};static \u0275cmp=R({type:r,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","toast",4,"ngIf"],[1,"toast"]],template:function(e,n){e&1&&P(0,_s,3,3,"div",0),e&2&&f("ngIf",n.t)},dependencies:[B,H],styles:[".toast[_ngcontent-%COMP%]{position:fixed;left:50%;transform:translate(-50%);bottom:1.5rem;z-index:2000}.toast-inner[_ngcontent-%COMP%]{padding:.6rem 1rem;border-radius:6px;color:#fff}.toast-inner.error[_ngcontent-%COMP%]{background:#ff4d4f}.toast-inner.success[_ngcontent-%COMP%]{background:#28a745}.toast-inner.info[_ngcontent-%COMP%]{background:#333}"]})};function Cs(r,t){r&1&&h(0,"app-cart")}var an=class r{constructor(t,e){this.router=t;this.auth=e}showCart=!0;routerSubscription;ngOnInit(){this.routerSubscription=this.router.events.pipe(er(n=>n instanceof Pr)).subscribe(n=>{let i=n.url.includes("/checkout"),o=this.auth.shouldAccessPOS();this.showCart=o&&!i});let t=this.router.url.includes("/checkout"),e=this.auth.shouldAccessPOS();this.showCart=e&&!t}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}static \u0275fac=function(e){return new(e||r)(D(j),D(z))};static \u0275cmp=R({type:r,selectors:[["app-layout"]],decls:7,vars:1,consts:[[1,"app-layout"],[1,"app-header-sticky"],[1,"app-main"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0),h(1,"app-header",1),a(2,"main",2),h(3,"router-outlet"),s(),h(4,"app-footer"),P(5,Cs,1,0,"app-cart",3),h(6,"app-toast"),s()),e&2&&(p(5),f("ngIf",n.showCart))},dependencies:[B,H,Y,yt,tn,nn,rn,on],styles:[".app-main[_ngcontent-%COMP%]{padding:.5rem;padding-bottom:72px;min-height:calc(100vh - 150px);max-height:calc(100vh - 150px);overflow-y:auto;overflow-x:hidden}.app-layout[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}app-header[_ngcontent-%COMP%]{flex:0 0 auto}.app-main[_ngcontent-%COMP%]{flex:1 1 auto;overflow:auto;-webkit-overflow-scrolling:touch}app-footer[_ngcontent-%COMP%]{flex:0 0 auto}"]})};var sn=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.isLoggedIn()?!0:this.router.createUrlTree(["/login"])}static \u0275fac=function(e){return new(e||r)(K(z),K(j))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};var ln=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.shouldAccessPOS()?!0:this.auth.isSuperAdmin()?this.router.createUrlTree(["/super-admin"]):this.auth.isHO()?this.router.createUrlTree(["/dashboard"]):this.router.createUrlTree(["/login"])}static \u0275fac=function(e){return new(e||r)(K(z),K(j))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};var ot=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.isHO()?!0:this.auth.isSuperAdmin()?this.router.createUrlTree(["/super-admin"]):this.auth.isBranch()?this.router.createUrlTree(["/pos"]):this.router.createUrlTree(["/login"])}static \u0275fac=function(e){return new(e||r)(K(z),K(j))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};var cn=class r{constructor(t,e){this.auth=t;this.router=e}canActivate(){return this.auth.isSuperAdmin()?!0:this.auth.isHO()?this.router.createUrlTree(["/dashboard"]):this.auth.isBranch()?this.router.createUrlTree(["/pos"]):this.router.createUrlTree(["/login"])}static \u0275fac=function(e){return new(e||r)(K(z),K(j))};static \u0275prov=J({token:r,factory:r.\u0275fac,providedIn:"root"})};var ki=[{path:"login",component:Ut},{path:"",component:an,canActivate:[sn],children:[{path:"super-admin",component:en,canActivate:[cn]},{path:"dashboard",component:Jt,canActivate:[ot]},{path:"pos",component:Gt,canActivate:[ln]},{path:"categories",loadComponent:()=>import("./chunk-FRGVHNMI.js").then(r=>r.CategoriesComponent),canActivate:[ot]},{path:"customers",loadComponent:()=>import("./chunk-HK3TOJZA.js").then(r=>r.CustomersComponent)},{path:"profile",component:Wt},{path:"settings",component:Yt},{path:"settings/gender",loadComponent:()=>import("./chunk-PG27XBFO.js").then(r=>r.GenderComponent)},{path:"settings/payment-list",loadComponent:()=>import("./chunk-UQ5GUAH3.js").then(r=>r.PaymentListComponent)},{path:"settings/finance",loadComponent:()=>import("./chunk-XFVKOYK4.js").then(r=>r.FinanceComponent)},{path:"settings/staff",loadComponent:()=>import("./chunk-KXERLSI2.js").then(r=>r.StaffComponent)},{path:"order",component:Zt},{path:"checkout",loadComponent:()=>import("./chunk-BWK5L5WY.js").then(r=>r.CheckoutComponent)},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login"}];var Ii=(r,t)=>{let n=nr(z).getToken();if(n){let i=r.clone({setHeaders:{Authorization:`Bearer ${n}`}});return t(i)}return t(r)};function ys(r){return()=>{r.initFromStorage()}}var dn={providers:[xr(ki,Mr()),br(vr([Ii])),$t(),{provide:lr,useFactory:ys,deps:[z],multi:!0}]};Cr(xt,st(Me({},dn),{providers:[...dn&&dn.providers||[],$t()]})).catch(r=>console.error(r));
