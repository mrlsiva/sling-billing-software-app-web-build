import{a as E}from"./chunk-NRUJ2UPE.js";import{$ as g,Ga as I,H as n,Ha as M,Ia as O,Ma as k,O as l,P as x,Qa as P,T as d,Ta as F,Wa as S,X as b,Y as s,Z as o,_ as a,ab as w,ca as C,cb as T,da as f,ea as p,ja as y,la as c,ma as v,na as h,u as _,v as u}from"./chunk-RHZBCLZ3.js";function N(i,t){i&1&&(o(0,"div"),c(1,"Loading..."),a())}function $(i,t){if(i&1&&(o(0,"div",17),c(1),a()),i&2){let e=p().$implicit;n(),v(e.description)}}function H(i,t){if(i&1){let e=C();o(0,"article",8)(1,"header",9)(2,"div",10),c(3),a(),o(4,"div",11)(5,"span",12),c(6),a(),o(7,"button",13),f("click",function(m){let j=_(e).$implicit,B=p(2);return m.stopPropagation(),u(B.toggleItemActive(j))}),g(8,"i",14),a()()(),o(9,"div",15),d(10,$,2,1,"div",16),a()()}if(i&2){let e=t.$implicit;n(3),v(e.name||e.title||e),n(2),y("active",e.is_active===1)("inactive",e.is_active!==1),n(),h(" ",e.is_active===1?"Active":"Inactive"," "),n(),b("aria-pressed",e.is_active===1),n(),s("ngClass",e.is_active===1?"fa-toggle-on":"fa-toggle-off"),n(2),s("ngIf",e.description)}}function z(i,t){if(i&1&&(o(0,"div",6),d(1,H,11,9,"article",7),a()),i&2){let e=p();n(),s("ngForOf",e.items)}}function D(i,t){i&1&&(o(0,"div"),c(1,"No items"),a())}var A=class i{constructor(t,e,r,m){this.http=t;this.auth=e;this.router=r;this.toast=m}items=[];loading=!1;ngOnInit(){this.load()}goBack(){try{this.router.navigate(["/settings"])}catch{history.back()}}load(){this.loading=!0;let t=`${w.apiBase}/finances`;this.http.get(t,{headers:this.auth.authHeaders()}).subscribe({next:e=>{this.items=e?.data??e,this.loading=!1},error:e=>{this.loading=!1,this.items=[{id:1,name:"Bank Transfer",description:"Bank transfer finance",is_active:1},{id:2,name:"Credit Line",description:"Credit line finance",is_active:1},{id:3,name:"Installment",description:"Installment finance",is_active:1},{id:4,name:"EMI",description:"Monthly installment",is_active:1}]}})}toggleItemActive(t){t&&(t.is_active=t.is_active===1?0:1,this.toast.show(`${t.name||t.title||"item"} set to ${t.is_active===1?"Active":"Inactive"}`,"info"))}static \u0275fac=function(e){return new(e||i)(l(P),l(T),l(S),l(E))};static \u0275cmp=x({type:i,selectors:[["app-settings-finance"]],decls:10,vars:3,consts:[[1,"settings-page"],[1,"d-flex","space-between"],[1,"settings-back",3,"click"],[1,"fa-solid","fa-arrow-left"],[4,"ngIf"],["class","settings-grid",4,"ngIf"],[1,"settings-grid"],["class","settings-card",4,"ngFor","ngForOf"],[1,"settings-card"],[1,"sc-header"],[1,"sc-title"],[1,"sc-sno"],[1,"status-badge"],["aria-label","Toggle active",1,"card-toggle",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"sc-body"],["class","sc-row",4,"ngIf"],[1,"sc-row"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),c(3,"Finance"),a(),o(4,"button",2),f("click",function(){return r.goBack()}),g(5,"i",3),c(6," Back"),a()(),d(7,N,2,0,"div",4)(8,z,2,1,"div",5)(9,D,2,0,"div",4),a()),e&2&&(n(7),s("ngIf",r.loading),n(),s("ngIf",r.items==null?null:r.items.length),n(),s("ngIf",!(r.items!=null&&r.items.length)&&!r.loading))},dependencies:[k,I,M,O,F],styles:[".page[_ngcontent-%COMP%]{padding:12px}",".d-flex[_ngcontent-%COMP%]{display:flex;align-items:center}.space-between[_ngcontent-%COMP%]{justify-content:space-between}.settings-back[_ngcontent-%COMP%]{background:none;border:0;color:var(--color-primary-bg);margin-bottom:8px;padding:6px 0}.settings-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:8px}.settings-card[_ngcontent-%COMP%]{background:var(--color-neutral-100);border:1px solid var(--color-neutral-400);border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:8px}.sc-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.sc-title[_ngcontent-%COMP%]{font-weight:700}.sc-sno[_ngcontent-%COMP%]{color:var(--color-neutral-600);font-size:.9rem;display:flex;align-items:flex-start;gap:8px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:999px;font-weight:600;font-size:.85rem}.status-badge.active[_ngcontent-%COMP%]{background:var(--color-secondary-bg);color:var(--color-secondary-text)}.status-badge.inactive[_ngcontent-%COMP%]{background:var(--color-neutral-300);color:var(--color-neutral-600)}.card-toggle[_ngcontent-%COMP%]{margin-left:8px;background:transparent;color:var(--color-primary-bg);padding:4px 6px;border-radius:6px;border:1px solid var(--color-primary-border)}.sc-body[_ngcontent-%COMP%]{font-size:.95rem}.sc-row[_ngcontent-%COMP%]{margin:6px 0}.btn[_ngcontent-%COMP%]{background:var(--color-primary-bg);color:var(--color-primary-text);border:0;padding:6px 10px;border-radius:6px;cursor:pointer}"]})};export{A as FinanceComponent};
